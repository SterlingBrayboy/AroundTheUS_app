!function(){"use strict";var e=class{constructor(e){let{popupSelector:t}=e;this._popupElement=document.querySelector(t)}open(){this._popupElement.classList.add("modal_opened"),document.addEventListener("keyup",this._handleEscClose)}close(){this._popupElement.classList.remove("modal_opened"),document.removeEventListener("keyup",this._handleEscClose)}_handleEscClose=e=>{"Escape"===e.key&&this.close()};setEventListeners(){this._popupElement.addEventListener("click",(e=>{(e.target.classList.contains("modal")||e.target.classList.contains("modal__close"))&&this.close()}))}},t=class extends e{constructor(e,t){super({popupSelector:e}),this._form=this._popupElement.querySelector(".modal__form"),this._handleFormSubmit=t,this._inputEls=[...this._form.querySelectorAll(".modal__input")]}setEventListeners(){this._popupElement.addEventListener("submit",(()=>{this._handleFormSubmit(this._getInputValues())})),super.setEventListeners()}_getInputValues(){const e={};return this._inputEls.forEach((t=>{e[t.name]=t.value})),e}},r=class{constructor(e,t){this._inputSelector=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass,this._formEl=document.querySelector(t),this._submitButton=this._formEl.querySelector(this._submitButtonSelector),this._inputEls=[...this._formEl.querySelectorAll(this._inputSelector)]}_showInputError(e){const t=this._formEl.querySelector(`#${e.id}-error`);e.classList.add(this._inputErrorClass),t.textContent=e.validationMessage,t.classList.add(this._errorClass)}_hideInputError(e){const t=this._formEl.querySelector(`#${e.id}-error`);e.classList.remove(this._inputErrorClass),t.textContent="",t.classList.remove(this._errorClass)}_checkInputValidity(e){e.validity.valid?this._hideInputError(e):this._showInputError(e)}_hasInvalidInput(){return!this._inputEls.every((e=>e.validity.valid))}toggleButtonState(){if(this._hasInvalidInput(this._inputEls))return this._submitButton.classList.add(this._inactiveButtonClass),void(this._submitButton.disabled=!0);this._submitButton.classList.remove(this._inactiveButtonClass),this._submitButton.disabled=!1}_setEventListeners(){this._inputEls.forEach((e=>{e.addEventListener("input",(t=>{this._checkInputValidity(e),this.toggleButtonState()}))}))}enableValidation(){this._formEl.addEventListener("submit",(e=>{e.preventDefault()})),this._setEventListeners()}},o=class{constructor(e,t){let{items:r,renderer:o}=e;this._items=r,this._renderer=o,this._container=document.querySelector(`.${t}`)}renderItems(){this._items.forEach((e=>{this._renderer(e)}))}addItem(e){this._container.prepend(e)}},n=class{constructor(e,t,r,o,n){this._name=e.name,this._link=e.link,this._id=e._id,this._handleImageClick=r,this._handleDeleteClick=o,this._handleLikeClick=n,this._cardSelector=t}_getTemplate(){return document.querySelector(this._cardSelector).content.firstElementChild.cloneNode(!0)}_handleLike=()=>{this._likeButton.classList.toggle("gallery__card-like_active")};handleDelete=()=>{this._element.remove()};_setEventListeners(){this._likeButton.addEventListener("click",this._handleLike),this._deleteFormButton.addEventListener("submit",this._handleDelete),this._cardTrash.addEventListener("click",(()=>{this._handleDeleteClick(this)})),this._cardImageEl.addEventListener("click",(()=>{this._handleImageClick({name:this._name,link:this._link})}))}generateCard(){return this._element=this._getTemplate(),this._likeButton=this._element.querySelector(".gallery__card-like"),this._deleteFormButton=document.querySelector("#delete-card-button"),this._cardTrash=this._element.querySelector(".gallery__card-trash"),this._cardImageEl=this._element.querySelector(".gallery__card-image"),this._setEventListeners(),this._cardImageEl.src=this._link,this._cardImageEl.alt=`Photo of ${this._name}`,this._element.querySelector(".gallery__card-title").textContent=this._name,this._element}};const s={inputSelector:".modal__input",submitButtonSelector:".modal__container-button",inactiveButtonClass:"modal__container-button_disabled",inputErrorClass:"modal__input-error",errorClass:"modal__input-error_visible"},i={profileEditModal:"#profile__edit-modal",profileAddModal:"#profile__add-modal",profileEditForm:document.querySelector("#edit-card-form"),profileAddForm:document.querySelector("#add-card-form"),nameInput:document.querySelector("#profile-name-input"),descriptionInput:document.querySelector("#profile-description-input"),avatarInput:document.querySelector("#avatar-url-input"),avatarImage:document.querySelector(".profile__avatar"),avatarIconSelector:document.querySelector(".profile__icon"),avatarModal:"#avatar-modal",avatarModalButton:document.querySelector("#avatar-modal-button"),addCardClass:"#profile__add-modal",addModalButton:document.querySelector("#add-button"),editCardClass:"#profile__edit-modal",deleteCardClass:"#delete-modal",deleteCardButtonSelector:document.querySelector(".gallery__card-trash"),editModalButton:document.querySelector("#edit-button"),profileEditButtonSelector:document.querySelector("#profile__edit-button"),profileAddButtonSelector:document.querySelector(".profile__add-button")},a=new class{constructor(e){this._headers=e.headers}getInitialCards(){return fetch("https://around-api.en.tripleten-services.com/v1/cards",{headers:{authorization:"ebfbe580-59e8-4623-9d1e-5edf14608279"}}).then((e=>e.ok?e.json():Promise.reject(`Error: ${e.status}`)))}loadInfo(){return fetch("https://around-api.en.tripleten-services.com/v1/users/me",{method:"GET",avatar:"https://practicum-content.s3.us-west-1.amazonaws.com/frontend-developer/moved_avatar.jpg",_id:"e20537ed11237f86bbb20ccb",cohort:"group-42",headers:{authorization:"ebfbe580-59e8-4623-9d1e-5edf14608279"}}).then((e=>e.json())).then((e=>{console.log(e)}))}editProfile(){return fetch("https://around-api.en.tripleten-services.com/v1/users/me",{method:"PATCH",headers:{authorization:"ebfbe580-59e8-4623-9d1e-5edf14608279","Content-Type":"application/json"},body:JSON.stringify({name:"Jacques Cousteau",about:"Sailor, researcher"})}).then((e=>e.ok?e.json():Promise.reject(`Error: ${e.status}`)))}addNewCard(e){return fetch("https://around-api.en.tripleten-services.com/v1/cards",{method:"POST",headers:{authorization:"ebfbe580-59e8-4623-9d1e-5edf14608279","Content-Type":"application/json"},body:JSON.stringify({name:e.name,link:e.link})}).then((e=>e.ok?e.json():Promise.reject(`Error: ${e.status}`)))}deleteCard(){return fetch(`https://around-api.en.tripleten-services.com/v1/cards/${_id}`,{method:"DELETE",headers:{authorization:"ebfbe580-59e8-4623-9d1e-5edf14608279","Content-Type":"application/json"},body:JSON.stringify({_id:cardId})}).then((e=>e.ok?e.json():Promise.reject(`Error: ${e.status}`)))}updateLike(e,t){return fetch(`https://around-api.en.tripleten-services.com/v1/cards/${e}/likes`,{method:t?"DELETE":"PUT",headers:{authorization:"ebfbe580-59e8-4623-9d1e-5edf14608279","Content-Type":"application/json"}}).then((e=>e.ok?e.json():Promise.reject(`Error: ${e.status}`)))}updateAvatar(e){return fetch("https://around-api.en.tripleten-services.com/v1/users/me/avatar",{method:"PATCH",headers:{authorization:"ebfbe580-59e8-4623-9d1e-5edf14608279","Content-Type":"application/json"},body:JSON.stringify({avatar:e})}).then((e=>e.ok?e.json():Promise.reject(`Error: ${e.status}`)))}}({baseUrl:"https://around-api.en.tripleten-services.com/v1",headers:{authorization:"ebfbe580-59e8-4623-9d1e-5edf14608279","Content-Type":"application/json"}});let l;a.getInitialCards().then((e=>{l=new o({items:e,renderer:e=>{h(e)}},"gallery__cards"),l.renderItems(),console.log(e)})).catch(console.error),a.loadInfo().then((e=>{console.log(e)})).catch(console.error);const d=new class extends e{constructor(e){super({popupSelector:e}),this._image=this._popupElement.querySelector(".modal__picture-src"),this._title=this._popupElement.querySelector(".modal__picture-title")}open(e){let{link:t,name:r}=e;this._image.src=t,this._image.alt=`A photo of ${r}`,this._title.textContent=`${r}`,super.open()}}("#picture-modal");function c(e,t){e.textContent=t}function u(e){d.open(e)}function h(e){const t=new n(e,"#card-template",u,_,m);l.addItem(t.generateCard())}d.setEventListeners();const p=new class extends e{constructor(e){super({popupSelector:e}),this._formEl=this._popupElement.querySelector(".modal__form")}setEventListeners(){this._formEl.addEventListener("submit",(e=>{e.preventDefault(),this._handleFormSubmit()})),super.setEventListeners()}setSubmitAction(e){this._handleFormSubmit=e}}(i.deleteCardClass);function _(e){p.open(),p.setSubmitAction((()=>{a.deleteCard(cardId).then((()=>{p.close(),e.handleDelete()})).catch(console.error)}))}function m(e){a.updateLike(e._id,isLiked).then((()=>{e.handleLike()})).catch(console.error)}p.setEventListeners();const v=new r(s,i.profileAddModal);v.enableValidation(),new r(s,i.profileEditModal).enableValidation(),new r(s,i.avatarModal).enableValidation();const E=new t(i.addCardClass,(function(e){c(i.addModalButton,"Saving..."),a.addNewCard(e).then((t=>{console.log(t),h(e),i.profileAddForm.reset(),v.toggleButtonState(),c(i.addModalButton,"Save")})),E.close()}));E.setEventListeners(),i.profileAddButtonSelector.addEventListener("click",(()=>{E.open()}));const f=new t(i.editCardClass,(function(e){c(i.editModalButton,"Saving..."),a.editProfile().then((t=>{y.setUserInfo(e.name,e.description),console.log(t)})).catch(console.error).finally((()=>{c(i.editModalButton,"Save")})),f.close()}));f.setEventListeners(),i.profileEditButtonSelector.addEventListener("click",(()=>{!function(){const e=y.getUserInfo();i.nameInput.value=e.name,i.descriptionInput.value=e.description,f.open()}()}));const S=new t(i.avatarModal,(function(e){c(i.avatarModalButton,"Saving..."),a.updateAvatar(e.link).then((t=>{i.avatarImage.src=e.link,console.log(t)})).catch(console.error).finally((()=>{c(i.avatarModalButton,"Save")})),S.close()}));S.setEventListeners(),i.avatarIconSelector.addEventListener("click",(()=>{S.open()}));const y=new class{constructor(e,t){this._userNameElement=document.querySelector(e),this._userDescriptionElement=document.querySelector(t)}getUserInfo(){return{name:this._userNameElement.textContent,description:this._userDescriptionElement.textContent}}setUserInfo(e,t){this._userNameElement.textContent=e,this._userDescriptionElement.textContent=t}}(".profile__title",".profile__description")}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LFNBQVNDLGNBQWNxTCxHQUMvQ3hMLEtBQUsyTCx3QkFBMEJ6TCxTQUFTQyxjQUN0Q3NMLEVBRUosQ0FFQUgsV0FBQUEsR0FDRSxNQUFPLENBQ0wxSixLQUFNNUIsS0FBSzBMLGlCQUFpQjNJLFlBQzVCb0ksWUFBYW5MLEtBQUsyTCx3QkFBd0I1SSxZQUU5QyxDQUVBbUksV0FBQUEsQ0FBWXRKLEVBQU11SixHQUNoQm5MLEtBQUswTCxpQkFBaUIzSSxZQUFjbkIsRUFDcEM1QixLQUFLMkwsd0JBQXdCNUksWUFBY29JLENBQzdDLEdKd000QixrQkFBbUIsd0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL3BhZ2VzL2luZGV4LmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdJdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhEZWxldGUuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiXSwic291cmNlc0NvbnRlbnQiOlsiY2xhc3MgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcih7IHBvcHVwU2VsZWN0b3IgfSkge1xuICAgIHRoaXMuX3BvcHVwRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XG4gIH1cblxuICBvcGVuKCkge1xuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwibW9kYWxfb3BlbmVkXCIpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gIH1cblxuICBjbG9zZSgpIHtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcIm1vZGFsX29wZW5lZFwiKTtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5dXBcIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xuICB9XG5cbiAgX2hhbmRsZUVzY0Nsb3NlID0gKGV2dCkgPT4ge1xuICAgIGlmIChldnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XG4gICAgICB0aGlzLmNsb3NlKCk7XG4gICAgfVxuICB9O1xuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2dCkgPT4ge1xuICAgICAgaWYgKFxuICAgICAgICBldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcIm1vZGFsXCIpIHx8XG4gICAgICAgIGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwibW9kYWxfX2Nsb3NlXCIpXG4gICAgICApIHtcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFBvcHVwO1xuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XG5cbmNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IsIGhhbmRsZUZvcm1TdWJtaXQpIHtcbiAgICBzdXBlcih7IHBvcHVwU2VsZWN0b3IgfSk7XG5cbiAgICB0aGlzLl9mb3JtID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2Zvcm1cIik7XG4gICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCA9IGhhbmRsZUZvcm1TdWJtaXQ7XG4gICAgdGhpcy5faW5wdXRFbHMgPSBbLi4udGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yQWxsKFwiLm1vZGFsX19pbnB1dFwiKV07XG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoKSA9PiB7XG4gICAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0KHRoaXMuX2dldElucHV0VmFsdWVzKCkpO1xuICAgIH0pO1xuICAgIHN1cGVyLnNldEV2ZW50TGlzdGVuZXJzKCk7XG4gIH1cblxuICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XG4gICAgY29uc3QgaW5wdXRWYWx1ZXMgPSB7fTtcbiAgICB0aGlzLl9pbnB1dEVscy5mb3JFYWNoKChpbnB1dEVsKSA9PiB7XG4gICAgICBpbnB1dFZhbHVlc1tpbnB1dEVsLm5hbWVdID0gaW5wdXRFbC52YWx1ZTtcbiAgICB9KTtcbiAgICByZXR1cm4gaW5wdXRWYWx1ZXM7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUG9wdXBXaXRoRm9ybTtcbiIsImNsYXNzIEZvcm1WYWxpZGF0b3Ige1xuICBjb25zdHJ1Y3Rvcihjb25maWcsIGZvcm1TZWxlY3Rvcikge1xuICAgIHRoaXMuX2lucHV0U2VsZWN0b3IgPSBjb25maWcuaW5wdXRTZWxlY3RvcjtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3RvciA9IGNvbmZpZy5zdWJtaXRCdXR0b25TZWxlY3RvcjtcbiAgICB0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzID0gY29uZmlnLmluYWN0aXZlQnV0dG9uQ2xhc3M7XG4gICAgdGhpcy5faW5wdXRFcnJvckNsYXNzID0gY29uZmlnLmlucHV0RXJyb3JDbGFzcztcbiAgICB0aGlzLl9lcnJvckNsYXNzID0gY29uZmlnLmVycm9yQ2xhc3M7XG4gICAgdGhpcy5fZm9ybUVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihmb3JtU2VsZWN0b3IpO1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbiA9IHRoaXMuX2Zvcm1FbC5xdWVyeVNlbGVjdG9yKHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yKTtcbiAgICB0aGlzLl9pbnB1dEVscyA9IFsuLi50aGlzLl9mb3JtRWwucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9pbnB1dFNlbGVjdG9yKV07XG4gIH1cblxuICBfc2hvd0lucHV0RXJyb3IoaW5wdXRFbCkge1xuICAgIGNvbnN0IGVycm9yTWVzc2FnZUVsID0gdGhpcy5fZm9ybUVsLnF1ZXJ5U2VsZWN0b3IoYCMke2lucHV0RWwuaWR9LWVycm9yYCk7XG4gICAgaW5wdXRFbC5jbGFzc0xpc3QuYWRkKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XG4gICAgZXJyb3JNZXNzYWdlRWwudGV4dENvbnRlbnQgPSBpbnB1dEVsLnZhbGlkYXRpb25NZXNzYWdlO1xuICAgIGVycm9yTWVzc2FnZUVsLmNsYXNzTGlzdC5hZGQodGhpcy5fZXJyb3JDbGFzcyk7XG4gIH1cblxuICBfaGlkZUlucHV0RXJyb3IoaW5wdXRFbCkge1xuICAgIGNvbnN0IGVycm9yTWVzc2FnZUVsID0gdGhpcy5fZm9ybUVsLnF1ZXJ5U2VsZWN0b3IoYCMke2lucHV0RWwuaWR9LWVycm9yYCk7XG4gICAgaW5wdXRFbC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XG4gICAgZXJyb3JNZXNzYWdlRWwudGV4dENvbnRlbnQgPSBcIlwiO1xuICAgIGVycm9yTWVzc2FnZUVsLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fZXJyb3JDbGFzcyk7XG4gIH1cblxuICBfY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWwpIHtcbiAgICBpZiAoIWlucHV0RWwudmFsaWRpdHkudmFsaWQpIHtcbiAgICAgIHRoaXMuX3Nob3dJbnB1dEVycm9yKGlucHV0RWwpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsKTtcbiAgICB9XG4gIH1cblxuICBfaGFzSW52YWxpZElucHV0KCkge1xuICAgIHJldHVybiAhdGhpcy5faW5wdXRFbHMuZXZlcnkoKGlucHV0RWwpID0+IGlucHV0RWwudmFsaWRpdHkudmFsaWQpO1xuICB9XG5cbiAgdG9nZ2xlQnV0dG9uU3RhdGUoKSB7XG4gICAgaWYgKHRoaXMuX2hhc0ludmFsaWRJbnB1dCh0aGlzLl9pbnB1dEVscykpIHtcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5jbGFzc0xpc3QuYWRkKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLl9zdWJtaXRCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgfVxuXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9pbnB1dEVscy5mb3JFYWNoKChpbnB1dEVsKSA9PiB7XG4gICAgICBpbnB1dEVsLmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoZSkgPT4ge1xuICAgICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbCk7XG4gICAgICAgIHRoaXMudG9nZ2xlQnV0dG9uU3RhdGUoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcbiAgICB0aGlzLl9mb3JtRWwuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZSkgPT4ge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBGb3JtVmFsaWRhdG9yO1xuIiwiY2xhc3MgU2VjdGlvbiB7XG4gIGNvbnN0cnVjdG9yKHsgaXRlbXMsIHJlbmRlcmVyIH0sIGNvbnRhaW5lclNlbGVjdG9yKSB7XG4gICAgdGhpcy5faXRlbXMgPSBpdGVtcztcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xuICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke2NvbnRhaW5lclNlbGVjdG9yfWApO1xuICB9XG5cbiAgcmVuZGVySXRlbXMoKSB7XG4gICAgdGhpcy5faXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xuICAgICAgdGhpcy5fcmVuZGVyZXIoaXRlbSk7XG4gICAgfSk7XG4gIH1cblxuICBhZGRJdGVtKGVsZW1lbnQpIHtcbiAgICB0aGlzLl9jb250YWluZXIucHJlcGVuZChlbGVtZW50KTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBTZWN0aW9uO1xuIiwiY2xhc3MgQ2FyZCB7XG4gIGNvbnN0cnVjdG9yKFxuICAgIGRhdGEsXG4gICAgY2FyZFNlbGVjdG9yLFxuICAgIGhhbmRsZUltYWdlQ2xpY2ssXG4gICAgaGFuZGxlRGVsZXRlQ2xpY2ssXG4gICAgaGFuZGxlTGlrZUNsaWNrXG4gICkge1xuICAgIHRoaXMuX25hbWUgPSBkYXRhLm5hbWU7XG4gICAgdGhpcy5fbGluayA9IGRhdGEubGluaztcbiAgICB0aGlzLl9pZCA9IGRhdGEuX2lkO1xuICAgIHRoaXMuX2hhbmRsZUltYWdlQ2xpY2sgPSBoYW5kbGVJbWFnZUNsaWNrO1xuICAgIHRoaXMuX2hhbmRsZURlbGV0ZUNsaWNrID0gaGFuZGxlRGVsZXRlQ2xpY2s7XG4gICAgdGhpcy5faGFuZGxlTGlrZUNsaWNrID0gaGFuZGxlTGlrZUNsaWNrO1xuXG4gICAgdGhpcy5fY2FyZFNlbGVjdG9yID0gY2FyZFNlbGVjdG9yO1xuICB9XG5cbiAgX2dldFRlbXBsYXRlKCkge1xuICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gZG9jdW1lbnRcbiAgICAgIC5xdWVyeVNlbGVjdG9yKHRoaXMuX2NhcmRTZWxlY3RvcilcbiAgICAgIC5jb250ZW50LmZpcnN0RWxlbWVudENoaWxkLmNsb25lTm9kZSh0cnVlKTtcblxuICAgIHJldHVybiBjYXJkRWxlbWVudDtcbiAgfVxuXG4gIF9oYW5kbGVMaWtlID0gKCkgPT4ge1xuICAgIHRoaXMuX2xpa2VCdXR0b24uY2xhc3NMaXN0LnRvZ2dsZShcImdhbGxlcnlfX2NhcmQtbGlrZV9hY3RpdmVcIik7XG4gIH07XG5cbiAgaGFuZGxlRGVsZXRlID0gKCkgPT4ge1xuICAgIHRoaXMuX2VsZW1lbnQucmVtb3ZlKCk7XG4gIH07XG5cbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX2xpa2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuX2hhbmRsZUxpa2UpO1xuICAgIC8vIHRoaXMuX2hhbmRsZUxpa2VDbGljay5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5faGFuZGxlTGlrZSk7XG4gICAgdGhpcy5fZGVsZXRlRm9ybUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIHRoaXMuX2hhbmRsZURlbGV0ZSk7XG4gICAgdGhpcy5fY2FyZFRyYXNoLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICB0aGlzLl9oYW5kbGVEZWxldGVDbGljayh0aGlzKTtcbiAgICB9KTtcbiAgICB0aGlzLl9jYXJkSW1hZ2VFbC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5faGFuZGxlSW1hZ2VDbGljayh7IG5hbWU6IHRoaXMuX25hbWUsIGxpbms6IHRoaXMuX2xpbmsgfSk7XG4gICAgfSk7XG4gIH1cblxuICBnZW5lcmF0ZUNhcmQoKSB7XG4gICAgLy8gc2VsZWN0IHRoZSBsaWtlIGJ1dHRvbiwgc2F2ZSB0byB0aGlzXG4gICAgdGhpcy5fZWxlbWVudCA9IHRoaXMuX2dldFRlbXBsYXRlKCk7XG4gICAgdGhpcy5fbGlrZUJ1dHRvbiA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5nYWxsZXJ5X19jYXJkLWxpa2VcIik7XG4gICAgdGhpcy5fZGVsZXRlRm9ybUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZGVsZXRlLWNhcmQtYnV0dG9uXCIpO1xuICAgIHRoaXMuX2NhcmRUcmFzaCA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5nYWxsZXJ5X19jYXJkLXRyYXNoXCIpO1xuICAgIHRoaXMuX2NhcmRJbWFnZUVsID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmdhbGxlcnlfX2NhcmQtaW1hZ2VcIik7XG5cbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuXG4gICAgdGhpcy5fY2FyZEltYWdlRWwuc3JjID0gdGhpcy5fbGluaztcbiAgICB0aGlzLl9jYXJkSW1hZ2VFbC5hbHQgPSBgUGhvdG8gb2YgJHt0aGlzLl9uYW1lfWA7XG4gICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmdhbGxlcnlfX2NhcmQtdGl0bGVcIikudGV4dENvbnRlbnQgPVxuICAgICAgdGhpcy5fbmFtZTtcblxuICAgIHJldHVybiB0aGlzLl9lbGVtZW50O1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IENhcmQ7XG4iLCJjb25zdCBjb25maWcgPSB7XG4gIGlucHV0U2VsZWN0b3I6IFwiLm1vZGFsX19pbnB1dFwiLFxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIubW9kYWxfX2NvbnRhaW5lci1idXR0b25cIixcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogXCJtb2RhbF9fY29udGFpbmVyLWJ1dHRvbl9kaXNhYmxlZFwiLFxuICBpbnB1dEVycm9yQ2xhc3M6IFwibW9kYWxfX2lucHV0LWVycm9yXCIsXG4gIGVycm9yQ2xhc3M6IFwibW9kYWxfX2lucHV0LWVycm9yX3Zpc2libGVcIixcbn07XG5cbmNvbnN0IHZhcmlhYmxlcyA9IHtcbiAgcHJvZmlsZUVkaXRNb2RhbDogXCIjcHJvZmlsZV9fZWRpdC1tb2RhbFwiLFxuICBwcm9maWxlQWRkTW9kYWw6IFwiI3Byb2ZpbGVfX2FkZC1tb2RhbFwiLFxuICBwcm9maWxlRWRpdEZvcm06IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZWRpdC1jYXJkLWZvcm1cIiksXG4gIHByb2ZpbGVBZGRGb3JtOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2FkZC1jYXJkLWZvcm1cIiksXG4gIG5hbWVJbnB1dDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlLW5hbWUtaW5wdXRcIiksXG4gIGRlc2NyaXB0aW9uSW5wdXQ6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvZmlsZS1kZXNjcmlwdGlvbi1pbnB1dFwiKSxcbiAgYXZhdGFySW5wdXQ6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYXZhdGFyLXVybC1pbnB1dFwiKSxcbiAgYXZhdGFySW1hZ2U6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYXZhdGFyXCIpLFxuICBhdmF0YXJJY29uU2VsZWN0b3I6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9faWNvblwiKSxcbiAgYXZhdGFyTW9kYWw6IFwiI2F2YXRhci1tb2RhbFwiLFxuICBhdmF0YXJNb2RhbEJ1dHRvbjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNhdmF0YXItbW9kYWwtYnV0dG9uXCIpLFxuICBhZGRDYXJkQ2xhc3M6IFwiI3Byb2ZpbGVfX2FkZC1tb2RhbFwiLFxuICBhZGRNb2RhbEJ1dHRvbjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNhZGQtYnV0dG9uXCIpLFxuICBlZGl0Q2FyZENsYXNzOiBcIiNwcm9maWxlX19lZGl0LW1vZGFsXCIsXG4gIGRlbGV0ZUNhcmRDbGFzczogXCIjZGVsZXRlLW1vZGFsXCIsXG4gIGRlbGV0ZUNhcmRCdXR0b25TZWxlY3RvcjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5nYWxsZXJ5X19jYXJkLXRyYXNoXCIpLFxuICBlZGl0TW9kYWxCdXR0b246IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZWRpdC1idXR0b25cIiksXG4gIHByb2ZpbGVFZGl0QnV0dG9uU2VsZWN0b3I6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvZmlsZV9fZWRpdC1idXR0b25cIiksXG4gIHByb2ZpbGVBZGRCdXR0b25TZWxlY3RvcjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19hZGQtYnV0dG9uXCIpLFxufTtcblxuZXhwb3J0IHsgY29uZmlnLCB2YXJpYWJsZXMgfTtcbiIsImltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanNcIjtcblxuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV0l0aEltYWdlLmpzXCI7XG5cbmltcG9ydCBQb3B1cFdpdGhEZWxldGUgZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRGVsZXRlLmpzXCI7XG5cbmltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gXCIuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanNcIjtcblxuaW1wb3J0IFVzZXJJbmZvIGZyb20gXCIuLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzXCI7XG5cbmltcG9ydCBTZWN0aW9uIGZyb20gXCIuLi9jb21wb25lbnRzL1NlY3Rpb24uanNcIjtcblxuaW1wb3J0IENhcmQgZnJvbSBcIi4uL2NvbXBvbmVudHMvQ2FyZC5qc1wiO1xuXG5pbXBvcnQgQXBpIGZyb20gXCIuLi9jb21wb25lbnRzL0FwaS5qc1wiO1xuXG5pbXBvcnQgXCIuL2luZGV4LmNzc1wiO1xuXG5pbXBvcnQgeyBjb25maWcsIHZhcmlhYmxlcyB9IGZyb20gXCIuLi91dGlscy9jb25zdGFudHMuanNcIjtcblxuLy8gQVBJXG5cbmNvbnN0IGFwaSA9IG5ldyBBcGkoe1xuICBiYXNlVXJsOiBcImh0dHBzOi8vYXJvdW5kLWFwaS5lbi50cmlwbGV0ZW4tc2VydmljZXMuY29tL3YxXCIsXG4gIGhlYWRlcnM6IHtcbiAgICBhdXRob3JpemF0aW9uOiBcImViZmJlNTgwLTU5ZTgtNDYyMy05ZDFlLTVlZGYxNDYwODI3OVwiLFxuICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICB9LFxufSk7XG5cbi8vIFNFQ1RJT05cblxubGV0IHNlY3Rpb247XG5cbmFwaVxuICAuZ2V0SW5pdGlhbENhcmRzKClcbiAgLnRoZW4oKHJlcykgPT4ge1xuICAgIHNlY3Rpb24gPSBuZXcgU2VjdGlvbihcbiAgICAgIHtcbiAgICAgICAgaXRlbXM6IHJlcyxcbiAgICAgICAgcmVuZGVyZXI6IChjYXJkRGF0YSkgPT4ge1xuICAgICAgICAgIGNyZWF0ZUNhcmQoY2FyZERhdGEpO1xuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIFwiZ2FsbGVyeV9fY2FyZHNcIlxuICAgICk7XG4gICAgc2VjdGlvbi5yZW5kZXJJdGVtcygpO1xuICAgIGNvbnNvbGUubG9nKHJlcyk7XG4gIH0pXG4gIC5jYXRjaChjb25zb2xlLmVycm9yKTtcblxuYXBpXG4gIC5sb2FkSW5mbygpXG4gIC50aGVuKChyZXMpID0+IHtcbiAgICBjb25zb2xlLmxvZyhyZXMpO1xuICB9KVxuICAuY2F0Y2goY29uc29sZS5lcnJvcik7XG5cbi8vIFBPUFVQIFdJVEggSU1BR0VcblxuY29uc3QgcG9wdXBXaXRoSW1hZ2UgPSBuZXcgUG9wdXBXaXRoSW1hZ2UoXCIjcGljdHVyZS1tb2RhbFwiKTtcblxucG9wdXBXaXRoSW1hZ2Uuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuLy8gU0FWRSBCVVRUT04gVEVYVCBDSEFOR0UgRlVOQ1RJT04gRk9SIEZPUk1TXG5cbmZ1bmN0aW9uIHNldEJ1dHRvblRleHQoYnV0dGluLCB0ZXh0KSB7XG4gIGJ1dHRpbi50ZXh0Q29udGVudCA9IHRleHQ7XG59XG5cbi8vIENBUkRcblxuZnVuY3Rpb24gaGFuZGxlSW1hZ2VDbGljayhjYXJkRGF0YSkge1xuICBwb3B1cFdpdGhJbWFnZS5vcGVuKGNhcmREYXRhKTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlQ2FyZChjYXJkRGF0YSkge1xuICBjb25zdCBjYXJkID0gbmV3IENhcmQoXG4gICAgY2FyZERhdGEsXG4gICAgXCIjY2FyZC10ZW1wbGF0ZVwiLFxuICAgIGhhbmRsZUltYWdlQ2xpY2ssXG4gICAgaGFuZGxlRGVsZXRlQ2xpY2ssXG4gICAgaGFuZGxlTGlrZUNsaWNrXG4gICk7XG4gIC8vIGNhcmQuaGFuZGxlRGVsZXRlKCk7XG4gIHNlY3Rpb24uYWRkSXRlbShjYXJkLmdlbmVyYXRlQ2FyZCgpKTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlQWRkQ2FyZFN1Ym1pdChpbnB1dFZhbHVlcykge1xuICBzZXRCdXR0b25UZXh0KHZhcmlhYmxlcy5hZGRNb2RhbEJ1dHRvbiwgXCJTYXZpbmcuLi5cIik7XG4gIGFwaS5hZGROZXdDYXJkKGlucHV0VmFsdWVzKS50aGVuKChyZXMpID0+IHtcbiAgICBjb25zb2xlLmxvZyhyZXMpO1xuICAgIC8vIGNyZWF0ZSBhIG5ldyBjYXJkXG4gICAgY3JlYXRlQ2FyZChpbnB1dFZhbHVlcyk7XG4gICAgLy8gcmVuZGVyIGl0XG4gICAgdmFyaWFibGVzLnByb2ZpbGVBZGRGb3JtLnJlc2V0KCk7XG4gICAgLy8gdG9nZ2xlIGJ1dHRvbiBzdGF0ZVxuICAgIGFkZEZvcm1WYWxpZGF0b3IudG9nZ2xlQnV0dG9uU3RhdGUoKTtcbiAgICAvLyBjbG9zZSBtb2RhbFxuICAgIHNldEJ1dHRvblRleHQodmFyaWFibGVzLmFkZE1vZGFsQnV0dG9uLCBcIlNhdmVcIik7XG4gIH0pO1xuICBhZGRQb3B1cC5jbG9zZSgpO1xufVxuXG4vLyBIQU5ETEUgREVMRVRFIE1PREFMXG5cbmNvbnN0IGRlbGV0ZU1vZGFsID0gbmV3IFBvcHVwV2l0aERlbGV0ZSh2YXJpYWJsZXMuZGVsZXRlQ2FyZENsYXNzKTtcbmRlbGV0ZU1vZGFsLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbmZ1bmN0aW9uIGhhbmRsZURlbGV0ZUNsaWNrKGNhcmQpIHtcbiAgLy8gb3BlbiB0aGUgbW9kYWxcbiAgZGVsZXRlTW9kYWwub3BlbigpO1xuICAvLyBzZXQgdGhlIHN1Ym1pdCBhY3Rpb25cbiAgZGVsZXRlTW9kYWwuc2V0U3VibWl0QWN0aW9uKCgpID0+IHtcbiAgICBhcGlcbiAgICAgIC5kZWxldGVDYXJkKGNhcmRJZClcbiAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgZGVsZXRlTW9kYWwuY2xvc2UoKTtcbiAgICAgICAgY2FyZC5oYW5kbGVEZWxldGUoKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goY29uc29sZS5lcnJvcik7XG4gIH0pO1xufVxuXG4vLyBDQVJEIExJS0VcblxuZnVuY3Rpb24gaGFuZGxlTGlrZUNsaWNrKGNhcmQpIHtcbiAgYXBpXG4gICAgLnVwZGF0ZUxpa2UoY2FyZC5faWQsIGlzTGlrZWQpXG4gICAgLnRoZW4oKCkgPT4ge1xuICAgICAgY2FyZC5oYW5kbGVMaWtlKCk7XG4gICAgfSlcbiAgICAuY2F0Y2goY29uc29sZS5lcnJvcik7XG4gIC8vIGhhbmRsZSBjaGFuZ2luZyB0aGUgYnV0dG9uJ3Mgc3RhdGUgaW4gYSAudGhlbiBhZnRlciB0aGUgc3VjY2Vzc2Z1bCByZXNwb25zZVxufVxuXG4vLyBGT1JNIFZBTElEQVRPUlxuXG5jb25zdCBhZGRGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoY29uZmlnLCB2YXJpYWJsZXMucHJvZmlsZUFkZE1vZGFsKTtcbmFkZEZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xuXG5jb25zdCBlZGl0Rm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKGNvbmZpZywgdmFyaWFibGVzLnByb2ZpbGVFZGl0TW9kYWwpO1xuZWRpdEZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xuXG5jb25zdCBhdmF0YXJGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoY29uZmlnLCB2YXJpYWJsZXMuYXZhdGFyTW9kYWwpO1xuYXZhdGFyRm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XG5cbi8vIFBPUFVQIFdJVEggRk9STSAtIEFERCBGT1JNXG5cbmNvbnN0IGFkZFBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0odmFyaWFibGVzLmFkZENhcmRDbGFzcywgaGFuZGxlQWRkQ2FyZFN1Ym1pdCk7XG5cbmZ1bmN0aW9uIG9wZW5BZGRGb3JtKCkge1xuICBhZGRQb3B1cC5vcGVuKCk7XG59XG5cbmFkZFBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbnZhcmlhYmxlcy5wcm9maWxlQWRkQnV0dG9uU2VsZWN0b3IuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+XG4gIG9wZW5BZGRGb3JtKClcbik7XG5cbi8vIFBPUFVQIFdJVEggRk9STSAtIEVESVQgRk9STVxuXG5jb25zdCBlZGl0UG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybShcbiAgdmFyaWFibGVzLmVkaXRDYXJkQ2xhc3MsXG4gIGhhbmRsZUVkaXRGb3JtU3VibWl0XG4pO1xuXG5mdW5jdGlvbiBvcGVuRWRpdEZvcm0oKSB7XG4gIGNvbnN0IHVzZXIgPSB1c2VyaW5mby5nZXRVc2VySW5mbygpO1xuICB2YXJpYWJsZXMubmFtZUlucHV0LnZhbHVlID0gdXNlci5uYW1lO1xuICB2YXJpYWJsZXMuZGVzY3JpcHRpb25JbnB1dC52YWx1ZSA9IHVzZXIuZGVzY3JpcHRpb247XG4gIGVkaXRQb3B1cC5vcGVuKCk7XG59XG5cbmVkaXRQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xuXG52YXJpYWJsZXMucHJvZmlsZUVkaXRCdXR0b25TZWxlY3Rvci5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBvcGVuRWRpdEZvcm0oKTtcbn0pO1xuXG4vLyBQT1BVUCBXSVRIIEZPUk0gLSBBVkFUQVIgRk9STVxuXG5jb25zdCBhdmF0YXJNb2RhbCA9IG5ldyBQb3B1cFdpdGhGb3JtKFxuICB2YXJpYWJsZXMuYXZhdGFyTW9kYWwsXG4gIGhhbmRsZUF2YXRhckZvcm1TdWJtaXRcbik7XG5hdmF0YXJNb2RhbC5zZXRFdmVudExpc3RlbmVycygpO1xuXG5mdW5jdGlvbiBvcGVuQXZhdGFyRm9ybSgpIHtcbiAgYXZhdGFyTW9kYWwub3BlbigpO1xufVxuXG52YXJpYWJsZXMuYXZhdGFySWNvblNlbGVjdG9yLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIG9wZW5BdmF0YXJGb3JtKCk7XG59KTtcblxuLy8gZnVuY3Rpb24gc2V0QnV0dG9uVGV4dChidXR0aW4sIHRleHQpIHtcbi8vICAgYnV0dGluLnRleHRDb250ZW50ID0gdGV4dDtcbi8vIH1cblxuZnVuY3Rpb24gaGFuZGxlQXZhdGFyRm9ybVN1Ym1pdChpbnB1dFZhbHVlcykge1xuICBzZXRCdXR0b25UZXh0KHZhcmlhYmxlcy5hdmF0YXJNb2RhbEJ1dHRvbiwgXCJTYXZpbmcuLi5cIik7XG4gIGFwaVxuICAgIC51cGRhdGVBdmF0YXIoaW5wdXRWYWx1ZXMubGluaylcbiAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICB2YXJpYWJsZXMuYXZhdGFySW1hZ2Uuc3JjID0gaW5wdXRWYWx1ZXMubGluaztcbiAgICAgIGNvbnNvbGUubG9nKHJlcyk7XG4gICAgfSlcbiAgICAuY2F0Y2goY29uc29sZS5lcnJvcilcbiAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICBzZXRCdXR0b25UZXh0KHZhcmlhYmxlcy5hdmF0YXJNb2RhbEJ1dHRvbiwgXCJTYXZlXCIpO1xuICAgIH0pO1xuICBhdmF0YXJNb2RhbC5jbG9zZSgpO1xufVxuXG4vLyBVU0VSIElORk9cblxuY29uc3QgdXNlcmluZm8gPSBuZXcgVXNlckluZm8oXCIucHJvZmlsZV9fdGl0bGVcIiwgXCIucHJvZmlsZV9fZGVzY3JpcHRpb25cIik7XG5cbmZ1bmN0aW9uIGhhbmRsZUVkaXRGb3JtU3VibWl0KGlucHV0VmFsdWVzKSB7XG4gIHNldEJ1dHRvblRleHQodmFyaWFibGVzLmVkaXRNb2RhbEJ1dHRvbiwgXCJTYXZpbmcuLi5cIik7XG4gIGFwaVxuICAgIC5lZGl0UHJvZmlsZSgpXG4gICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgdXNlcmluZm8uc2V0VXNlckluZm8oaW5wdXRWYWx1ZXMubmFtZSwgaW5wdXRWYWx1ZXMuZGVzY3JpcHRpb24pO1xuICAgICAgY29uc29sZS5sb2cocmVzKTtcbiAgICB9KVxuICAgIC5jYXRjaChjb25zb2xlLmVycm9yKVxuICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgIHNldEJ1dHRvblRleHQodmFyaWFibGVzLmVkaXRNb2RhbEJ1dHRvbiwgXCJTYXZlXCIpO1xuICAgIH0pO1xuICBlZGl0UG9wdXAuY2xvc2UoKTtcbn1cbiIsImNsYXNzIEFwaSB7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAvLyBjb25zdHJ1Y3RvciBib2R5XG4gICAgdGhpcy5faGVhZGVycyA9IG9wdGlvbnMuaGVhZGVycztcbiAgfVxuXG4gIGdldEluaXRpYWxDYXJkcygpIHtcbiAgICByZXR1cm4gZmV0Y2goXCJodHRwczovL2Fyb3VuZC1hcGkuZW4udHJpcGxldGVuLXNlcnZpY2VzLmNvbS92MS9jYXJkc1wiLCB7XG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIGF1dGhvcml6YXRpb246IFwiZWJmYmU1ODAtNTllOC00NjIzLTlkMWUtNWVkZjE0NjA4Mjc5XCIsXG4gICAgICB9LFxuICAgIH0pLnRoZW4oKHJlcykgPT4ge1xuICAgICAgaWYgKHJlcy5vaykge1xuICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICAgIH1cbiAgICAgIC8vIGlmIHRoZSBzZXJ2ZXIgcmV0dXJucyBhbiBlcnJvciwgcmVqZWN0IHRoZSBwcm9taXNlXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YCk7XG4gICAgfSk7XG4gIH1cblxuICAvLyBvdGhlciBtZXRob2RzIGZvciB3b3JraW5nIHdpdGggdGhlIEFQSVxuXG4gIGxvYWRJbmZvKCkge1xuICAgIHJldHVybiBmZXRjaChcImh0dHBzOi8vYXJvdW5kLWFwaS5lbi50cmlwbGV0ZW4tc2VydmljZXMuY29tL3YxL3VzZXJzL21lXCIsIHtcbiAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgIGF2YXRhcjpcbiAgICAgICAgXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL2Zyb250ZW5kLWRldmVsb3Blci9tb3ZlZF9hdmF0YXIuanBnXCIsXG4gICAgICBfaWQ6IFwiZTIwNTM3ZWQxMTIzN2Y4NmJiYjIwY2NiXCIsXG4gICAgICBjb2hvcnQ6IFwiZ3JvdXAtNDJcIixcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgYXV0aG9yaXphdGlvbjogXCJlYmZiZTU4MC01OWU4LTQ2MjMtOWQxZS01ZWRmMTQ2MDgyNzlcIixcbiAgICAgIH0sXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpXG4gICAgICAudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdCk7XG4gICAgICB9KTtcbiAgfVxuXG4gIGVkaXRQcm9maWxlKCkge1xuICAgIHJldHVybiBmZXRjaChcImh0dHBzOi8vYXJvdW5kLWFwaS5lbi50cmlwbGV0ZW4tc2VydmljZXMuY29tL3YxL3VzZXJzL21lXCIsIHtcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBhdXRob3JpemF0aW9uOiBcImViZmJlNTgwLTU5ZTgtNDYyMy05ZDFlLTVlZGYxNDYwODI3OVwiLFxuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgIH0sXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIG5hbWU6IFwiSmFjcXVlcyBDb3VzdGVhdVwiLFxuICAgICAgICBhYm91dDogXCJTYWlsb3IsIHJlc2VhcmNoZXJcIixcbiAgICAgIH0pLFxuICAgIH0pLnRoZW4oKHJlcykgPT4ge1xuICAgICAgaWYgKHJlcy5vaykge1xuICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICAgIH1cbiAgICAgIC8vIGlmIHRoZSBzZXJ2ZXIgcmV0dXJucyBhbiBlcnJvciwgcmVqZWN0IHRoZSBwcm9taXNlXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YCk7XG4gICAgfSk7XG4gIH1cblxuICAvLyBwYXNzIG5hbWUgYW5kIGxpbmsgYXMgYXJndW1lbnRcbiAgYWRkTmV3Q2FyZChkYXRhKSB7XG4gICAgcmV0dXJuIGZldGNoKFwiaHR0cHM6Ly9hcm91bmQtYXBpLmVuLnRyaXBsZXRlbi1zZXJ2aWNlcy5jb20vdjEvY2FyZHNcIiwge1xuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgYXV0aG9yaXphdGlvbjogXCJlYmZiZTU4MC01OWU4LTQ2MjMtOWQxZS01ZWRmMTQ2MDgyNzlcIixcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICB9LFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBuYW1lOiBkYXRhLm5hbWUsXG4gICAgICAgIGxpbms6IGRhdGEubGluayxcbiAgICAgIH0pLFxuICAgIH0pLnRoZW4oKHJlcykgPT4ge1xuICAgICAgaWYgKHJlcy5vaykge1xuICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICAgIH1cbiAgICAgIC8vIGlmIHRoZSBzZXJ2ZXIgcmV0dXJucyBhbiBlcnJvciwgcmVqZWN0IHRoZSBwcm9taXNlXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YCk7XG4gICAgfSk7XG4gIH1cblxuICBkZWxldGVDYXJkKCkge1xuICAgIHJldHVybiBmZXRjaChcbiAgICAgIGBodHRwczovL2Fyb3VuZC1hcGkuZW4udHJpcGxldGVuLXNlcnZpY2VzLmNvbS92MS9jYXJkcy8ke19pZH1gLFxuICAgICAge1xuICAgICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICBhdXRob3JpemF0aW9uOiBcImViZmJlNTgwLTU5ZTgtNDYyMy05ZDFlLTVlZGYxNDYwODI3OVwiLFxuICAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgICB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgX2lkOiBjYXJkSWQsXG4gICAgICAgIH0pLFxuICAgICAgfVxuICAgICkudGhlbigocmVzKSA9PiB7XG4gICAgICBpZiAocmVzLm9rKSB7XG4gICAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgICAgfVxuICAgICAgLy8gaWYgdGhlIHNlcnZlciByZXR1cm5zIGFuIGVycm9yLCByZWplY3QgdGhlIHByb21pc2VcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcbiAgICB9KTtcbiAgfVxuXG4gIHVwZGF0ZUxpa2UoY2FyZElkLCBpc0xpa2VkKSB7XG4gICAgcmV0dXJuIGZldGNoKFxuICAgICAgYGh0dHBzOi8vYXJvdW5kLWFwaS5lbi50cmlwbGV0ZW4tc2VydmljZXMuY29tL3YxL2NhcmRzLyR7Y2FyZElkfS9saWtlc2AsXG4gICAgICB7XG4gICAgICAgIG1ldGhvZDogaXNMaWtlZCA/IFwiREVMRVRFXCIgOiBcIlBVVFwiLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgYXV0aG9yaXphdGlvbjogXCJlYmZiZTU4MC01OWU4LTQ2MjMtOWQxZS01ZWRmMTQ2MDgyNzlcIixcbiAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgICAgfSxcbiAgICAgIH1cbiAgICApLnRoZW4oKHJlcykgPT4ge1xuICAgICAgaWYgKHJlcy5vaykge1xuICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICAgIH1cbiAgICAgIC8vIGlmIHRoZSBzZXJ2ZXIgcmV0dXJucyBhbiBlcnJvciwgcmVqZWN0IHRoZSBwcm9taXNlXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YCk7XG4gICAgfSk7XG4gIH1cblxuICB1cGRhdGVBdmF0YXIobGluaykge1xuICAgIHJldHVybiBmZXRjaChcbiAgICAgIGBodHRwczovL2Fyb3VuZC1hcGkuZW4udHJpcGxldGVuLXNlcnZpY2VzLmNvbS92MS91c2Vycy9tZS9hdmF0YXJgLFxuICAgICAge1xuICAgICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgIGF1dGhvcml6YXRpb246IFwiZWJmYmU1ODAtNTllOC00NjIzLTlkMWUtNWVkZjE0NjA4Mjc5XCIsXG4gICAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICBhdmF0YXI6IGxpbmssXG4gICAgICAgIH0pLFxuICAgICAgfVxuICAgICkudGhlbigocmVzKSA9PiB7XG4gICAgICBpZiAocmVzLm9rKSB7XG4gICAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgICAgfVxuICAgICAgLy8gaWYgdGhlIHNlcnZlciByZXR1cm5zIGFuIGVycm9yLCByZWplY3QgdGhlIHByb21pc2VcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBBcGk7XG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcbiAgICBzdXBlcih7IHBvcHVwU2VsZWN0b3IgfSk7XG4gICAgdGhpcy5faW1hZ2UgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fcGljdHVyZS1zcmNcIik7XG4gICAgdGhpcy5fdGl0bGUgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fcGljdHVyZS10aXRsZVwiKTtcbiAgfVxuXG4gIG9wZW4oeyBsaW5rLCBuYW1lIH0pIHtcbiAgICB0aGlzLl9pbWFnZS5zcmMgPSBsaW5rO1xuICAgIHRoaXMuX2ltYWdlLmFsdCA9IGBBIHBob3RvIG9mICR7bmFtZX1gO1xuICAgIHRoaXMuX3RpdGxlLnRleHRDb250ZW50ID0gYCR7bmFtZX1gO1xuICAgIHN1cGVyLm9wZW4oKTtcbiAgfVxufVxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aERlbGV0ZSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xuICAgIHN1cGVyKHsgcG9wdXBTZWxlY3RvciB9KTtcbiAgICB0aGlzLl9mb3JtRWwgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fZm9ybVwiKTtcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX2Zvcm1FbC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChlKSA9PiB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0KCk7XG4gICAgfSk7XG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgfVxuXG4gIHNldFN1Ym1pdEFjdGlvbihoYW5kbGVGb3JtU3VibWl0KSB7XG4gICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCA9IGhhbmRsZUZvcm1TdWJtaXQ7XG4gIH1cbn1cbiIsImNsYXNzIFVzZXJJbmZvIHtcbiAgY29uc3RydWN0b3IodXNlck5hbWVTZWxlY3RvciwgdXNlckRlc2NyaXB0aW9uU2VsZWN0b3IpIHtcbiAgICB0aGlzLl91c2VyTmFtZUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHVzZXJOYW1lU2VsZWN0b3IpO1xuICAgIHRoaXMuX3VzZXJEZXNjcmlwdGlvbkVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgdXNlckRlc2NyaXB0aW9uU2VsZWN0b3JcbiAgICApO1xuICB9XG5cbiAgZ2V0VXNlckluZm8oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG5hbWU6IHRoaXMuX3VzZXJOYW1lRWxlbWVudC50ZXh0Q29udGVudCxcbiAgICAgIGRlc2NyaXB0aW9uOiB0aGlzLl91c2VyRGVzY3JpcHRpb25FbGVtZW50LnRleHRDb250ZW50LFxuICAgIH07XG4gIH1cblxuICBzZXRVc2VySW5mbyhuYW1lLCBkZXNjcmlwdGlvbikge1xuICAgIHRoaXMuX3VzZXJOYW1lRWxlbWVudC50ZXh0Q29udGVudCA9IG5hbWU7XG4gICAgdGhpcy5fdXNlckRlc2NyaXB0aW9uRWxlbWVudC50ZXh0Q29udGVudCA9IGRlc2NyaXB0aW9uO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFVzZXJJbmZvO1xuIl0sIm5hbWVzIjpbImNvbnN0cnVjdG9yIiwiX3JlZiIsInBvcHVwU2VsZWN0b3IiLCJ0aGlzIiwiX3BvcHVwRWxlbWVudCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsIm9wZW4iLCJjbGFzc0xpc3QiLCJhZGQiLCJhZGRFdmVudExpc3RlbmVyIiwiX2hhbmRsZUVzY0Nsb3NlIiwiY2xvc2UiLCJyZW1vdmUiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZXZ0Iiwia2V5Iiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJ0YXJnZXQiLCJjb250YWlucyIsIlBvcHVwIiwiaGFuZGxlRm9ybVN1Ym1pdCIsInN1cGVyIiwiX2Zvcm0iLCJfaGFuZGxlRm9ybVN1Ym1pdCIsIl9pbnB1dEVscyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJfZ2V0SW5wdXRWYWx1ZXMiLCJpbnB1dFZhbHVlcyIsImZvckVhY2giLCJpbnB1dEVsIiwibmFtZSIsInZhbHVlIiwiY29uZmlnIiwiZm9ybVNlbGVjdG9yIiwiX2lucHV0U2VsZWN0b3IiLCJpbnB1dFNlbGVjdG9yIiwiX3N1Ym1pdEJ1dHRvblNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJfaW5hY3RpdmVCdXR0b25DbGFzcyIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJfaW5wdXRFcnJvckNsYXNzIiwiaW5wdXRFcnJvckNsYXNzIiwiX2Vycm9yQ2xhc3MiLCJlcnJvckNsYXNzIiwiX2Zvcm1FbCIsIl9zdWJtaXRCdXR0b24iLCJfc2hvd0lucHV0RXJyb3IiLCJlcnJvck1lc3NhZ2VFbCIsImlkIiwidGV4dENvbnRlbnQiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsIl9oaWRlSW5wdXRFcnJvciIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX2hhc0ludmFsaWRJbnB1dCIsImV2ZXJ5IiwidG9nZ2xlQnV0dG9uU3RhdGUiLCJkaXNhYmxlZCIsIl9zZXRFdmVudExpc3RlbmVycyIsImUiLCJlbmFibGVWYWxpZGF0aW9uIiwicHJldmVudERlZmF1bHQiLCJjb250YWluZXJTZWxlY3RvciIsIml0ZW1zIiwicmVuZGVyZXIiLCJfaXRlbXMiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwicmVuZGVySXRlbXMiLCJpdGVtIiwiYWRkSXRlbSIsImVsZW1lbnQiLCJwcmVwZW5kIiwiZGF0YSIsImNhcmRTZWxlY3RvciIsImhhbmRsZUltYWdlQ2xpY2siLCJoYW5kbGVEZWxldGVDbGljayIsImhhbmRsZUxpa2VDbGljayIsIl9uYW1lIiwiX2xpbmsiLCJsaW5rIiwiX2lkIiwiX2hhbmRsZUltYWdlQ2xpY2siLCJfaGFuZGxlRGVsZXRlQ2xpY2siLCJfaGFuZGxlTGlrZUNsaWNrIiwiX2NhcmRTZWxlY3RvciIsIl9nZXRUZW1wbGF0ZSIsImNvbnRlbnQiLCJmaXJzdEVsZW1lbnRDaGlsZCIsImNsb25lTm9kZSIsIl9oYW5kbGVMaWtlIiwiX2xpa2VCdXR0b24iLCJ0b2dnbGUiLCJoYW5kbGVEZWxldGUiLCJfZWxlbWVudCIsIl9kZWxldGVGb3JtQnV0dG9uIiwiX2hhbmRsZURlbGV0ZSIsIl9jYXJkVHJhc2giLCJfY2FyZEltYWdlRWwiLCJnZW5lcmF0ZUNhcmQiLCJzcmMiLCJhbHQiLCJ2YXJpYWJsZXMiLCJwcm9maWxlRWRpdE1vZGFsIiwicHJvZmlsZUFkZE1vZGFsIiwicHJvZmlsZUVkaXRGb3JtIiwicHJvZmlsZUFkZEZvcm0iLCJuYW1lSW5wdXQiLCJkZXNjcmlwdGlvbklucHV0IiwiYXZhdGFySW5wdXQiLCJhdmF0YXJJbWFnZSIsImF2YXRhckljb25TZWxlY3RvciIsImF2YXRhck1vZGFsIiwiYXZhdGFyTW9kYWxCdXR0b24iLCJhZGRDYXJkQ2xhc3MiLCJhZGRNb2RhbEJ1dHRvbiIsImVkaXRDYXJkQ2xhc3MiLCJkZWxldGVDYXJkQ2xhc3MiLCJkZWxldGVDYXJkQnV0dG9uU2VsZWN0b3IiLCJlZGl0TW9kYWxCdXR0b24iLCJwcm9maWxlRWRpdEJ1dHRvblNlbGVjdG9yIiwicHJvZmlsZUFkZEJ1dHRvblNlbGVjdG9yIiwiYXBpIiwib3B0aW9ucyIsIl9oZWFkZXJzIiwiaGVhZGVycyIsImdldEluaXRpYWxDYXJkcyIsImZldGNoIiwiYXV0aG9yaXphdGlvbiIsInRoZW4iLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzIiwibG9hZEluZm8iLCJtZXRob2QiLCJhdmF0YXIiLCJjb2hvcnQiLCJyZXN1bHQiLCJjb25zb2xlIiwibG9nIiwiZWRpdFByb2ZpbGUiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImFib3V0IiwiYWRkTmV3Q2FyZCIsImRlbGV0ZUNhcmQiLCJjYXJkSWQiLCJ1cGRhdGVMaWtlIiwiaXNMaWtlZCIsInVwZGF0ZUF2YXRhciIsImJhc2VVcmwiLCJzZWN0aW9uIiwiU2VjdGlvbiIsImNhcmREYXRhIiwiY3JlYXRlQ2FyZCIsImNhdGNoIiwiZXJyb3IiLCJwb3B1cFdpdGhJbWFnZSIsIl9pbWFnZSIsIl90aXRsZSIsInNldEJ1dHRvblRleHQiLCJidXR0aW4iLCJ0ZXh0IiwiY2FyZCIsIkNhcmQiLCJkZWxldGVNb2RhbCIsInNldFN1Ym1pdEFjdGlvbiIsImhhbmRsZUxpa2UiLCJhZGRGb3JtVmFsaWRhdG9yIiwiRm9ybVZhbGlkYXRvciIsImFkZFBvcHVwIiwiUG9wdXBXaXRoRm9ybSIsInJlc2V0IiwiZWRpdFBvcHVwIiwidXNlcmluZm8iLCJzZXRVc2VySW5mbyIsImRlc2NyaXB0aW9uIiwiZmluYWxseSIsInVzZXIiLCJnZXRVc2VySW5mbyIsIm9wZW5FZGl0Rm9ybSIsInVzZXJOYW1lU2VsZWN0b3IiLCJ1c2VyRGVzY3JpcHRpb25TZWxlY3RvciIsIl91c2VyTmFtZUVsZW1lbnQiLCJfdXNlckRlc2NyaXB0aW9uRWxlbWVudCJdLCJzb3VyY2VSb290IjoiIn0=