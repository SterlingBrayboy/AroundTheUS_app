!function(){"use strict";var e=class{constructor(e){let{popupSelector:t}=e;this._popupElement=document.querySelector(t)}open(){this._popupElement.classList.add("modal_opened"),document.addEventListener("keyup",this._handleEscClose)}close(){this._popupElement.classList.remove("modal_opened"),document.removeEventListener("keyup",this._handleEscClose)}_handleEscClose=e=>{"Escape"===e.key&&this.close()};setEventListeners(){this._popupElement.addEventListener("click",(e=>{(e.target.classList.contains("modal")||e.target.classList.contains("modal__close"))&&this.close()}))}},t=class extends e{constructor(e,t){super({popupSelector:e}),this._form=this._popupElement.querySelector(".modal__form"),this._handleFormSubmit=t,this._inputEls=[...this._form.querySelectorAll(".modal__input")]}setEventListeners(){this._popupElement.addEventListener("submit",(()=>{this._handleFormSubmit(this._getInputValues())})),super.setEventListeners()}_getInputValues(){const e={};return this._inputEls.forEach((t=>{e[t.name]=t.value})),e}},r=class{constructor(e,t){this._inputSelector=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass,this._formEl=document.querySelector(t),this._submitButton=this._formEl.querySelector(this._submitButtonSelector),this._inputEls=[...this._formEl.querySelectorAll(this._inputSelector)]}_showInputError(e){const t=this._formEl.querySelector(`#${e.id}-error`);e.classList.add(this._inputErrorClass),t.textContent=e.validationMessage,t.classList.add(this._errorClass)}_hideInputError(e){const t=this._formEl.querySelector(`#${e.id}-error`);e.classList.remove(this._inputErrorClass),t.textContent="",t.classList.remove(this._errorClass)}_checkInputValidity(e){e.validity.valid?this._hideInputError(e):this._showInputError(e)}_hasInvalidInput(){return!this._inputEls.every((e=>e.validity.valid))}toggleButtonState(){if(this._hasInvalidInput(this._inputEls))return this._submitButton.classList.add(this._inactiveButtonClass),void(this._submitButton.disabled=!0);this._submitButton.classList.remove(this._inactiveButtonClass),this._submitButton.disabled=!1}_setEventListeners(){this._inputEls.forEach((e=>{e.addEventListener("input",(t=>{this._checkInputValidity(e),this.toggleButtonState()}))}))}enableValidation(){this._formEl.addEventListener("submit",(e=>{e.preventDefault()})),this._setEventListeners()}},o=class{constructor(e,t){let{items:r,renderer:o}=e;this._items=r,this._renderer=o,this._container=document.querySelector(`.${t}`)}renderItems(){this._items.forEach((e=>{this._renderer(e)}))}addItem(e){this._container.prepend(e)}},n=class{constructor(e,t,r,o,n){this._name=e.name,this._link=e.link,this._id=e._id,this._handleImageClick=r,this._handleDeleteClick=o,this._handleLikeClick=n,this._cardSelector=t}_getTemplate(){return document.querySelector(this._cardSelector).content.firstElementChild.cloneNode(!0)}_handleLike=()=>{this._likeButton.classList.toggle("gallery__card-like_active")};handleDelete=()=>{this._element.remove()};_setEventListeners(){this._likeButton.addEventListener("click",this._handleLike),this._deleteFormButton.addEventListener("submit",this._handleDelete),this._cardTrash.addEventListener("click",(()=>{this._handleDeleteClick(this)})),this._cardImageEl.addEventListener("click",(()=>{this._handleImageClick({name:this._name,link:this._link})}))}generateCard(){return this._element=this._getTemplate(),this._likeButton=this._element.querySelector(".gallery__card-like"),this._deleteFormButton=document.querySelector("#delete-card-button"),this._cardTrash=this._element.querySelector(".gallery__card-trash"),this._cardImageEl=this._element.querySelector(".gallery__card-image"),this._setEventListeners(),this._cardImageEl.src=this._link,this._cardImageEl.alt=`Photo of ${this._name}`,this._element.querySelector(".gallery__card-title").textContent=this._name,this._element}};const s={inputSelector:".modal__input",submitButtonSelector:".modal__container-button",inactiveButtonClass:"modal__container-button_disabled",inputErrorClass:"modal__input-error",errorClass:"modal__input-error_visible"},i={profileEditModal:"#profile__edit-modal",profileAddModal:"#profile__add-modal",profileEditForm:document.querySelector("#edit-card-form"),profileAddForm:document.querySelector("#add-card-form"),nameInput:document.querySelector("#profile-name-input"),descriptionInput:document.querySelector("#profile-description-input"),avatarInput:document.querySelector("#avatar-url-input"),avatarImage:document.querySelector(".profile__avatar"),avatarIconSelector:document.querySelector(".profile__icon"),avatarModal:"#avatar-modal",avatarModalButton:document.querySelector("#avatar-modal-button"),addCardClass:"#profile__add-modal",addModalButton:document.querySelector("#add-button"),editCardClass:"#profile__edit-modal",deleteCardClass:"#delete-modal",deleteCardButtonSelector:document.querySelector(".gallery__card-trash"),editModalButton:document.querySelector("#edit-button"),profileEditButtonSelector:document.querySelector("#profile__edit-button"),profileAddButtonSelector:document.querySelector(".profile__add-button")},a=new class{constructor(e){this._headers=e.headers}getInitialCards(){return fetch("https://around-api.en.tripleten-services.com/v1/cards",{headers:{authorization:"ebfbe580-59e8-4623-9d1e-5edf14608279"}}).then((e=>e.ok?e.json():Promise.reject(`Error: ${e.status}`)))}loadInfo(){return fetch("https://around-api.en.tripleten-services.com/v1/users/me",{method:"GET",avatar:"https://practicum-content.s3.us-west-1.amazonaws.com/frontend-developer/moved_avatar.jpg",_id:"e20537ed11237f86bbb20ccb",cohort:"group-42",headers:{authorization:"ebfbe580-59e8-4623-9d1e-5edf14608279"}}).then((e=>e.json())).then((e=>{console.log(e)}))}editProfile(){return fetch("https://around-api.en.tripleten-services.com/v1/users/me",{method:"PATCH",headers:{authorization:"ebfbe580-59e8-4623-9d1e-5edf14608279","Content-Type":"application/json"},body:JSON.stringify({name:"Jacques Cousteau",about:"Sailor, researcher"})}).then((e=>e.ok?e.json():Promise.reject(`Error: ${e.status}`)))}addNewCard(e){return fetch("https://around-api.en.tripleten-services.com/v1/cards",{method:"POST",headers:{authorization:"ebfbe580-59e8-4623-9d1e-5edf14608279","Content-Type":"application/json"},body:JSON.stringify({name:e.name,link:e.link})}).then((e=>e.ok?e.json():Promise.reject(`Error: ${e.status}`)))}deleteCard(e){return fetch(`https://around-api.en.tripleten-services.com/v1/cards/${e}`,{method:"DELETE",headers:{authorization:"ebfbe580-59e8-4623-9d1e-5edf14608279","Content-Type":"application/json"},body:JSON.stringify({_id:e})}).then((e=>e.ok?e.json():Promise.reject(`Error: ${e.status}`)))}updateLike(e,t){return fetch(`https://around-api.en.tripleten-services.com/v1/cards/${e}/likes`,{method:t?"DELETE":"PUT",headers:{authorization:"ebfbe580-59e8-4623-9d1e-5edf14608279","Content-Type":"application/json"}}).then((e=>e.ok?e.json():Promise.reject(`Error: ${e.status}`)))}updateAvatar(e){return fetch("https://around-api.en.tripleten-services.com/v1/users/me/avatar",{method:"PATCH",headers:{authorization:"ebfbe580-59e8-4623-9d1e-5edf14608279","Content-Type":"application/json"},body:JSON.stringify({avatar:e})}).then((e=>e.ok?e.json():Promise.reject(`Error: ${e.status}`)))}}({baseUrl:"https://around-api.en.tripleten-services.com/v1",headers:{authorization:"ebfbe580-59e8-4623-9d1e-5edf14608279","Content-Type":"application/json"}});let l;a.getInitialCards().then((e=>{l=new o({items:e,renderer:e=>{h(e)}},"gallery__cards"),l.renderItems(),console.log(e)})).catch(console.error),a.loadInfo().then((e=>{console.log(e)})).catch(console.error);const d=new class extends e{constructor(e){super({popupSelector:e}),this._image=this._popupElement.querySelector(".modal__picture-src"),this._title=this._popupElement.querySelector(".modal__picture-title")}open(e){let{link:t,name:r}=e;this._image.src=t,this._image.alt=`A photo of ${r}`,this._title.textContent=`${r}`,super.open()}}("#picture-modal");function c(e,t){e.textContent=t}function u(e){d.open(e)}function h(e){const t=new n(e,"#card-template",u,_,m);l.addItem(t.generateCard())}d.setEventListeners();const p=new class extends e{constructor(e){super({popupSelector:e}),this._formEl=this._popupElement.querySelector(".modal__form")}setEventListeners(){this._formEl.addEventListener("submit",(e=>{e.preventDefault(),this._handleFormSubmit()})),super.setEventListeners()}setSubmitAction(e){this._handleFormSubmit=e}}(i.deleteCardClass);function _(e){p.open(),p.setSubmitAction((()=>{a.deleteCard(e._id).then((()=>{p.close(),e.handleDelete()})).catch(console.error)}))}function m(e){a.updateLike(e._id,isLiked).then((()=>{e.handleLike()})).catch(console.error)}p.setEventListeners();const v=new r(s,i.profileAddModal);v.enableValidation(),new r(s,i.profileEditModal).enableValidation(),new r(s,i.avatarModal).enableValidation();const E=new t(i.addCardClass,(function(e){c(i.addModalButton,"Saving..."),a.addNewCard(e).then((e=>{console.log(e),h(e),i.profileAddForm.reset(),v.toggleButtonState(),c(i.addModalButton,"Save")})),E.close()}));E.setEventListeners(),i.profileAddButtonSelector.addEventListener("click",(()=>{E.open()}));const f=new t(i.editCardClass,(function(e){c(i.editModalButton,"Saving..."),a.editProfile().then((t=>{y.setUserInfo(e.name,e.description),console.log(t)})).catch(console.error).finally((()=>{c(i.editModalButton,"Save")})),f.close()}));f.setEventListeners(),i.profileEditButtonSelector.addEventListener("click",(()=>{!function(){const e=y.getUserInfo();i.nameInput.value=e.name,i.descriptionInput.value=e.description,f.open()}()}));const S=new t(i.avatarModal,(function(e){c(i.avatarModalButton,"Saving..."),a.updateAvatar(e.link).then((t=>{i.avatarImage.src=e.link,console.log(t)})).catch(console.error).finally((()=>{c(i.avatarModalButton,"Save")})),S.close()}));S.setEventListeners(),i.avatarIconSelector.addEventListener("click",(()=>{S.open()}));const y=new class{constructor(e,t){this._userNameElement=document.querySelector(e),this._userDescriptionElement=document.querySelector(t)}getUserInfo(){return{name:this._userNameElement.textContent,description:this._userDescriptionElement.textContent}}setUserInfo(e,t){this._userNameElement.textContent=e,this._userDescriptionElement.textContent=t}}(".profile__title",".profile__description")}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFLMEwsaUJBQW1CeEwsU0FBU0MsY0FBY3FMLEdBQy9DeEwsS0FBSzJMLHdCQUEwQnpMLFNBQVNDLGNBQ3RDc0wsRUFFSixDQUVBSCxXQUFBQSxHQUNFLE1BQU8sQ0FDTDFKLEtBQU01QixLQUFLMEwsaUJBQWlCM0ksWUFDNUJvSSxZQUFhbkwsS0FBSzJMLHdCQUF3QjVJLFlBRTlDLENBRUFtSSxXQUFBQSxDQUFZdEosRUFBTXVKLEdBQ2hCbkwsS0FBSzBMLGlCQUFpQjNJLFlBQWNuQixFQUNwQzVCLEtBQUsyTCx3QkFBd0I1SSxZQUFjb0ksQ0FDN0MsR0p3TTRCLGtCQUFtQix3QiIsInNvdXJjZXMiOlsid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL3V0aWxzL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvcGFnZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvQXBpLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwV0l0aEltYWdlLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aERlbGV0ZS5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Vc2VySW5mby5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjbGFzcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHsgcG9wdXBTZWxlY3RvciB9KSB7XG4gICAgdGhpcy5fcG9wdXBFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKTtcbiAgfVxuXG4gIG9wZW4oKSB7XG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJtb2RhbF9vcGVuZWRcIik7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcbiAgfVxuXG4gIGNsb3NlKCkge1xuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwibW9kYWxfb3BlbmVkXCIpO1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gIH1cblxuICBfaGFuZGxlRXNjQ2xvc2UgPSAoZXZ0KSA9PiB7XG4gICAgaWYgKGV2dC5rZXkgPT09IFwiRXNjYXBlXCIpIHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9XG4gIH07XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZ0KSA9PiB7XG4gICAgICBpZiAoXG4gICAgICAgIGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwibW9kYWxcIikgfHxcbiAgICAgICAgZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJtb2RhbF9fY2xvc2VcIilcbiAgICAgICkge1xuICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUG9wdXA7XG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcblxuY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3RvciwgaGFuZGxlRm9ybVN1Ym1pdCkge1xuICAgIHN1cGVyKHsgcG9wdXBTZWxlY3RvciB9KTtcblxuICAgIHRoaXMuX2Zvcm0gPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fZm9ybVwiKTtcbiAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0ID0gaGFuZGxlRm9ybVN1Ym1pdDtcbiAgICB0aGlzLl9pbnB1dEVscyA9IFsuLi50aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoXCIubW9kYWxfX2lucHV0XCIpXTtcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsICgpID0+IHtcbiAgICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQodGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSk7XG4gICAgfSk7XG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgfVxuXG4gIF9nZXRJbnB1dFZhbHVlcygpIHtcbiAgICBjb25zdCBpbnB1dFZhbHVlcyA9IHt9O1xuICAgIHRoaXMuX2lucHV0RWxzLmZvckVhY2goKGlucHV0RWwpID0+IHtcbiAgICAgIGlucHV0VmFsdWVzW2lucHV0RWwubmFtZV0gPSBpbnB1dEVsLnZhbHVlO1xuICAgIH0pO1xuICAgIHJldHVybiBpbnB1dFZhbHVlcztcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBQb3B1cFdpdGhGb3JtO1xuIiwiY2xhc3MgRm9ybVZhbGlkYXRvciB7XG4gIGNvbnN0cnVjdG9yKGNvbmZpZywgZm9ybVNlbGVjdG9yKSB7XG4gICAgdGhpcy5faW5wdXRTZWxlY3RvciA9IGNvbmZpZy5pbnB1dFNlbGVjdG9yO1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yID0gY29uZmlnLnN1Ym1pdEJ1dHRvblNlbGVjdG9yO1xuICAgIHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MgPSBjb25maWcuaW5hY3RpdmVCdXR0b25DbGFzcztcbiAgICB0aGlzLl9pbnB1dEVycm9yQ2xhc3MgPSBjb25maWcuaW5wdXRFcnJvckNsYXNzO1xuICAgIHRoaXMuX2Vycm9yQ2xhc3MgPSBjb25maWcuZXJyb3JDbGFzcztcbiAgICB0aGlzLl9mb3JtRWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGZvcm1TZWxlY3Rvcik7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uID0gdGhpcy5fZm9ybUVsLnF1ZXJ5U2VsZWN0b3IodGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IpO1xuICAgIHRoaXMuX2lucHV0RWxzID0gWy4uLnRoaXMuX2Zvcm1FbC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX2lucHV0U2VsZWN0b3IpXTtcbiAgfVxuXG4gIF9zaG93SW5wdXRFcnJvcihpbnB1dEVsKSB7XG4gICAgY29uc3QgZXJyb3JNZXNzYWdlRWwgPSB0aGlzLl9mb3JtRWwucXVlcnlTZWxlY3RvcihgIyR7aW5wdXRFbC5pZH0tZXJyb3JgKTtcbiAgICBpbnB1dEVsLmNsYXNzTGlzdC5hZGQodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcbiAgICBlcnJvck1lc3NhZ2VFbC50ZXh0Q29udGVudCA9IGlucHV0RWwudmFsaWRhdGlvbk1lc3NhZ2U7XG4gICAgZXJyb3JNZXNzYWdlRWwuY2xhc3NMaXN0LmFkZCh0aGlzLl9lcnJvckNsYXNzKTtcbiAgfVxuXG4gIF9oaWRlSW5wdXRFcnJvcihpbnB1dEVsKSB7XG4gICAgY29uc3QgZXJyb3JNZXNzYWdlRWwgPSB0aGlzLl9mb3JtRWwucXVlcnlTZWxlY3RvcihgIyR7aW5wdXRFbC5pZH0tZXJyb3JgKTtcbiAgICBpbnB1dEVsLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcbiAgICBlcnJvck1lc3NhZ2VFbC50ZXh0Q29udGVudCA9IFwiXCI7XG4gICAgZXJyb3JNZXNzYWdlRWwuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9lcnJvckNsYXNzKTtcbiAgfVxuXG4gIF9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbCkge1xuICAgIGlmICghaW5wdXRFbC52YWxpZGl0eS52YWxpZCkge1xuICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWwpO1xuICAgIH1cbiAgfVxuXG4gIF9oYXNJbnZhbGlkSW5wdXQoKSB7XG4gICAgcmV0dXJuICF0aGlzLl9pbnB1dEVscy5ldmVyeSgoaW5wdXRFbCkgPT4gaW5wdXRFbC52YWxpZGl0eS52YWxpZCk7XG4gIH1cblxuICB0b2dnbGVCdXR0b25TdGF0ZSgpIHtcbiAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KHRoaXMuX2lucHV0RWxzKSkge1xuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLmNsYXNzTGlzdC5hZGQodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xuICB9XG5cbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX2lucHV0RWxzLmZvckVhY2goKGlucHV0RWwpID0+IHtcbiAgICAgIGlucHV0RWwuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsIChlKSA9PiB7XG4gICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsKTtcbiAgICAgICAgdGhpcy50b2dnbGVCdXR0b25TdGF0ZSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBlbmFibGVWYWxpZGF0aW9uKCkge1xuICAgIHRoaXMuX2Zvcm1FbC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChlKSA9PiB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEZvcm1WYWxpZGF0b3I7XG4iLCJjbGFzcyBTZWN0aW9uIHtcbiAgY29uc3RydWN0b3IoeyBpdGVtcywgcmVuZGVyZXIgfSwgY29udGFpbmVyU2VsZWN0b3IpIHtcbiAgICB0aGlzLl9pdGVtcyA9IGl0ZW1zO1xuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgdGhpcy5fY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLiR7Y29udGFpbmVyU2VsZWN0b3J9YCk7XG4gIH1cblxuICByZW5kZXJJdGVtcygpIHtcbiAgICB0aGlzLl9pdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICB0aGlzLl9yZW5kZXJlcihpdGVtKTtcbiAgICB9KTtcbiAgfVxuXG4gIGFkZEl0ZW0oZWxlbWVudCkge1xuICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGVsZW1lbnQpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFNlY3Rpb247XG4iLCJjbGFzcyBDYXJkIHtcbiAgY29uc3RydWN0b3IoXG4gICAgZGF0YSxcbiAgICBjYXJkU2VsZWN0b3IsXG4gICAgaGFuZGxlSW1hZ2VDbGljayxcbiAgICBoYW5kbGVEZWxldGVDbGljayxcbiAgICBoYW5kbGVMaWtlQ2xpY2tcbiAgKSB7XG4gICAgdGhpcy5fbmFtZSA9IGRhdGEubmFtZTtcbiAgICB0aGlzLl9saW5rID0gZGF0YS5saW5rO1xuICAgIHRoaXMuX2lkID0gZGF0YS5faWQ7XG4gICAgdGhpcy5faGFuZGxlSW1hZ2VDbGljayA9IGhhbmRsZUltYWdlQ2xpY2s7XG4gICAgdGhpcy5faGFuZGxlRGVsZXRlQ2xpY2sgPSBoYW5kbGVEZWxldGVDbGljaztcbiAgICB0aGlzLl9oYW5kbGVMaWtlQ2xpY2sgPSBoYW5kbGVMaWtlQ2xpY2s7XG5cbiAgICB0aGlzLl9jYXJkU2VsZWN0b3IgPSBjYXJkU2VsZWN0b3I7XG4gIH1cblxuICBfZ2V0VGVtcGxhdGUoKSB7XG4gICAgY29uc3QgY2FyZEVsZW1lbnQgPSBkb2N1bWVudFxuICAgICAgLnF1ZXJ5U2VsZWN0b3IodGhpcy5fY2FyZFNlbGVjdG9yKVxuICAgICAgLmNvbnRlbnQuZmlyc3RFbGVtZW50Q2hpbGQuY2xvbmVOb2RlKHRydWUpO1xuXG4gICAgcmV0dXJuIGNhcmRFbGVtZW50O1xuICB9XG5cbiAgX2hhbmRsZUxpa2UgPSAoKSA9PiB7XG4gICAgdGhpcy5fbGlrZUJ1dHRvbi5jbGFzc0xpc3QudG9nZ2xlKFwiZ2FsbGVyeV9fY2FyZC1saWtlX2FjdGl2ZVwiKTtcbiAgfTtcblxuICBoYW5kbGVEZWxldGUgPSAoKSA9PiB7XG4gICAgdGhpcy5fZWxlbWVudC5yZW1vdmUoKTtcbiAgfTtcblxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fbGlrZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5faGFuZGxlTGlrZSk7XG4gICAgLy8gdGhpcy5faGFuZGxlTGlrZUNsaWNrLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLl9oYW5kbGVMaWtlKTtcbiAgICB0aGlzLl9kZWxldGVGb3JtQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgdGhpcy5faGFuZGxlRGVsZXRlKTtcbiAgICB0aGlzLl9jYXJkVHJhc2guYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHRoaXMuX2hhbmRsZURlbGV0ZUNsaWNrKHRoaXMpO1xuICAgIH0pO1xuICAgIHRoaXMuX2NhcmRJbWFnZUVsLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICB0aGlzLl9oYW5kbGVJbWFnZUNsaWNrKHsgbmFtZTogdGhpcy5fbmFtZSwgbGluazogdGhpcy5fbGluayB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGdlbmVyYXRlQ2FyZCgpIHtcbiAgICAvLyBzZWxlY3QgdGhlIGxpa2UgYnV0dG9uLCBzYXZlIHRvIHRoaXNcbiAgICB0aGlzLl9lbGVtZW50ID0gdGhpcy5fZ2V0VGVtcGxhdGUoKTtcbiAgICB0aGlzLl9saWtlQnV0dG9uID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmdhbGxlcnlfX2NhcmQtbGlrZVwiKTtcbiAgICB0aGlzLl9kZWxldGVGb3JtQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNkZWxldGUtY2FyZC1idXR0b25cIik7XG4gICAgdGhpcy5fY2FyZFRyYXNoID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmdhbGxlcnlfX2NhcmQtdHJhc2hcIik7XG4gICAgdGhpcy5fY2FyZEltYWdlRWwgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZ2FsbGVyeV9fY2FyZC1pbWFnZVwiKTtcblxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG5cbiAgICB0aGlzLl9jYXJkSW1hZ2VFbC5zcmMgPSB0aGlzLl9saW5rO1xuICAgIHRoaXMuX2NhcmRJbWFnZUVsLmFsdCA9IGBQaG90byBvZiAke3RoaXMuX25hbWV9YDtcbiAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZ2FsbGVyeV9fY2FyZC10aXRsZVwiKS50ZXh0Q29udGVudCA9XG4gICAgICB0aGlzLl9uYW1lO1xuXG4gICAgcmV0dXJuIHRoaXMuX2VsZW1lbnQ7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgQ2FyZDtcbiIsImNvbnN0IGNvbmZpZyA9IHtcbiAgaW5wdXRTZWxlY3RvcjogXCIubW9kYWxfX2lucHV0XCIsXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiBcIi5tb2RhbF9fY29udGFpbmVyLWJ1dHRvblwiLFxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcIm1vZGFsX19jb250YWluZXItYnV0dG9uX2Rpc2FibGVkXCIsXG4gIGlucHV0RXJyb3JDbGFzczogXCJtb2RhbF9faW5wdXQtZXJyb3JcIixcbiAgZXJyb3JDbGFzczogXCJtb2RhbF9faW5wdXQtZXJyb3JfdmlzaWJsZVwiLFxufTtcblxuY29uc3QgdmFyaWFibGVzID0ge1xuICBwcm9maWxlRWRpdE1vZGFsOiBcIiNwcm9maWxlX19lZGl0LW1vZGFsXCIsXG4gIHByb2ZpbGVBZGRNb2RhbDogXCIjcHJvZmlsZV9fYWRkLW1vZGFsXCIsXG4gIHByb2ZpbGVFZGl0Rm9ybTogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNlZGl0LWNhcmQtZm9ybVwiKSxcbiAgcHJvZmlsZUFkZEZvcm06IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYWRkLWNhcmQtZm9ybVwiKSxcbiAgbmFtZUlucHV0OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2ZpbGUtbmFtZS1pbnB1dFwiKSxcbiAgZGVzY3JpcHRpb25JbnB1dDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlLWRlc2NyaXB0aW9uLWlucHV0XCIpLFxuICBhdmF0YXJJbnB1dDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNhdmF0YXItdXJsLWlucHV0XCIpLFxuICBhdmF0YXJJbWFnZTogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19hdmF0YXJcIiksXG4gIGF2YXRhckljb25TZWxlY3RvcjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19pY29uXCIpLFxuICBhdmF0YXJNb2RhbDogXCIjYXZhdGFyLW1vZGFsXCIsXG4gIGF2YXRhck1vZGFsQnV0dG9uOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2F2YXRhci1tb2RhbC1idXR0b25cIiksXG4gIGFkZENhcmRDbGFzczogXCIjcHJvZmlsZV9fYWRkLW1vZGFsXCIsXG4gIGFkZE1vZGFsQnV0dG9uOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2FkZC1idXR0b25cIiksXG4gIGVkaXRDYXJkQ2xhc3M6IFwiI3Byb2ZpbGVfX2VkaXQtbW9kYWxcIixcbiAgZGVsZXRlQ2FyZENsYXNzOiBcIiNkZWxldGUtbW9kYWxcIixcbiAgZGVsZXRlQ2FyZEJ1dHRvblNlbGVjdG9yOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmdhbGxlcnlfX2NhcmQtdHJhc2hcIiksXG4gIGVkaXRNb2RhbEJ1dHRvbjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNlZGl0LWJ1dHRvblwiKSxcbiAgcHJvZmlsZUVkaXRCdXR0b25TZWxlY3RvcjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlX19lZGl0LWJ1dHRvblwiKSxcbiAgcHJvZmlsZUFkZEJ1dHRvblNlbGVjdG9yOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2FkZC1idXR0b25cIiksXG59O1xuXG5leHBvcnQgeyBjb25maWcsIHZhcmlhYmxlcyB9O1xuIiwiaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qc1wiO1xuXG5pbXBvcnQgUG9wdXBXaXRoSW1hZ2UgZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXSXRoSW1hZ2UuanNcIjtcblxuaW1wb3J0IFBvcHVwV2l0aERlbGV0ZSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhEZWxldGUuanNcIjtcblxuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSBcIi4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qc1wiO1xuXG5pbXBvcnQgVXNlckluZm8gZnJvbSBcIi4uL2NvbXBvbmVudHMvVXNlckluZm8uanNcIjtcblxuaW1wb3J0IFNlY3Rpb24gZnJvbSBcIi4uL2NvbXBvbmVudHMvU2VjdGlvbi5qc1wiO1xuXG5pbXBvcnQgQ2FyZCBmcm9tIFwiLi4vY29tcG9uZW50cy9DYXJkLmpzXCI7XG5cbmltcG9ydCBBcGkgZnJvbSBcIi4uL2NvbXBvbmVudHMvQXBpLmpzXCI7XG5cbmltcG9ydCBcIi4vaW5kZXguY3NzXCI7XG5cbmltcG9ydCB7IGNvbmZpZywgdmFyaWFibGVzIH0gZnJvbSBcIi4uL3V0aWxzL2NvbnN0YW50cy5qc1wiO1xuXG4vLyBBUElcblxuY29uc3QgYXBpID0gbmV3IEFwaSh7XG4gIGJhc2VVcmw6IFwiaHR0cHM6Ly9hcm91bmQtYXBpLmVuLnRyaXBsZXRlbi1zZXJ2aWNlcy5jb20vdjFcIixcbiAgaGVhZGVyczoge1xuICAgIGF1dGhvcml6YXRpb246IFwiZWJmYmU1ODAtNTllOC00NjIzLTlkMWUtNWVkZjE0NjA4Mjc5XCIsXG4gICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gIH0sXG59KTtcblxuLy8gU0VDVElPTlxuXG5sZXQgc2VjdGlvbjtcblxuYXBpXG4gIC5nZXRJbml0aWFsQ2FyZHMoKVxuICAudGhlbigocmVzKSA9PiB7XG4gICAgc2VjdGlvbiA9IG5ldyBTZWN0aW9uKFxuICAgICAge1xuICAgICAgICBpdGVtczogcmVzLFxuICAgICAgICByZW5kZXJlcjogKGNhcmREYXRhKSA9PiB7XG4gICAgICAgICAgY3JlYXRlQ2FyZChjYXJkRGF0YSk7XG4gICAgICAgIH0sXG4gICAgICB9LFxuICAgICAgXCJnYWxsZXJ5X19jYXJkc1wiXG4gICAgKTtcbiAgICBzZWN0aW9uLnJlbmRlckl0ZW1zKCk7XG4gICAgY29uc29sZS5sb2cocmVzKTtcbiAgfSlcbiAgLmNhdGNoKGNvbnNvbGUuZXJyb3IpO1xuXG5hcGlcbiAgLmxvYWRJbmZvKClcbiAgLnRoZW4oKHJlcykgPT4ge1xuICAgIGNvbnNvbGUubG9nKHJlcyk7XG4gIH0pXG4gIC5jYXRjaChjb25zb2xlLmVycm9yKTtcblxuLy8gUE9QVVAgV0lUSCBJTUFHRVxuXG5jb25zdCBwb3B1cFdpdGhJbWFnZSA9IG5ldyBQb3B1cFdpdGhJbWFnZShcIiNwaWN0dXJlLW1vZGFsXCIpO1xuXG5wb3B1cFdpdGhJbWFnZS5zZXRFdmVudExpc3RlbmVycygpO1xuXG4vLyBTQVZFIEJVVFRPTiBURVhUIENIQU5HRSBGVU5DVElPTiBGT1IgRk9STVNcblxuZnVuY3Rpb24gc2V0QnV0dG9uVGV4dChidXR0aW4sIHRleHQpIHtcbiAgYnV0dGluLnRleHRDb250ZW50ID0gdGV4dDtcbn1cblxuLy8gQ0FSRFxuXG5mdW5jdGlvbiBoYW5kbGVJbWFnZUNsaWNrKGNhcmREYXRhKSB7XG4gIHBvcHVwV2l0aEltYWdlLm9wZW4oY2FyZERhdGEpO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVDYXJkKGNhcmREYXRhKSB7XG4gIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZChcbiAgICBjYXJkRGF0YSxcbiAgICBcIiNjYXJkLXRlbXBsYXRlXCIsXG4gICAgaGFuZGxlSW1hZ2VDbGljayxcbiAgICBoYW5kbGVEZWxldGVDbGljayxcbiAgICBoYW5kbGVMaWtlQ2xpY2tcbiAgKTtcbiAgLy8gY2FyZC5oYW5kbGVEZWxldGUoKTtcbiAgc2VjdGlvbi5hZGRJdGVtKGNhcmQuZ2VuZXJhdGVDYXJkKCkpO1xufVxuXG5mdW5jdGlvbiBoYW5kbGVBZGRDYXJkU3VibWl0KGlucHV0VmFsdWVzKSB7XG4gIHNldEJ1dHRvblRleHQodmFyaWFibGVzLmFkZE1vZGFsQnV0dG9uLCBcIlNhdmluZy4uLlwiKTtcbiAgYXBpLmFkZE5ld0NhcmQoaW5wdXRWYWx1ZXMpLnRoZW4oKHJlcykgPT4ge1xuICAgIGNvbnNvbGUubG9nKHJlcyk7XG4gICAgLy8gY3JlYXRlIGEgbmV3IGNhcmRcbiAgICBjcmVhdGVDYXJkKHJlcyk7XG4gICAgLy8gcmVuZGVyIGl0XG4gICAgdmFyaWFibGVzLnByb2ZpbGVBZGRGb3JtLnJlc2V0KCk7XG4gICAgLy8gdG9nZ2xlIGJ1dHRvbiBzdGF0ZVxuICAgIGFkZEZvcm1WYWxpZGF0b3IudG9nZ2xlQnV0dG9uU3RhdGUoKTtcbiAgICAvLyBjbG9zZSBtb2RhbFxuICAgIHNldEJ1dHRvblRleHQodmFyaWFibGVzLmFkZE1vZGFsQnV0dG9uLCBcIlNhdmVcIik7XG4gIH0pO1xuICBhZGRQb3B1cC5jbG9zZSgpO1xufVxuXG4vLyBIQU5ETEUgREVMRVRFIE1PREFMXG5cbmNvbnN0IGRlbGV0ZU1vZGFsID0gbmV3IFBvcHVwV2l0aERlbGV0ZSh2YXJpYWJsZXMuZGVsZXRlQ2FyZENsYXNzKTtcbmRlbGV0ZU1vZGFsLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbmZ1bmN0aW9uIGhhbmRsZURlbGV0ZUNsaWNrKGNhcmQpIHtcbiAgLy8gb3BlbiB0aGUgbW9kYWxcbiAgZGVsZXRlTW9kYWwub3BlbigpO1xuICAvLyBzZXQgdGhlIHN1Ym1pdCBhY3Rpb25cbiAgZGVsZXRlTW9kYWwuc2V0U3VibWl0QWN0aW9uKCgpID0+IHtcbiAgICBhcGlcbiAgICAgIC5kZWxldGVDYXJkKGNhcmQuX2lkKVxuICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICBkZWxldGVNb2RhbC5jbG9zZSgpO1xuICAgICAgICBjYXJkLmhhbmRsZURlbGV0ZSgpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaChjb25zb2xlLmVycm9yKTtcbiAgfSk7XG59XG5cbi8vIENBUkQgTElLRVxuXG5mdW5jdGlvbiBoYW5kbGVMaWtlQ2xpY2soY2FyZCkge1xuICBhcGlcbiAgICAudXBkYXRlTGlrZShjYXJkLl9pZCwgaXNMaWtlZClcbiAgICAudGhlbigoKSA9PiB7XG4gICAgICBjYXJkLmhhbmRsZUxpa2UoKTtcbiAgICB9KVxuICAgIC5jYXRjaChjb25zb2xlLmVycm9yKTtcbiAgLy8gaGFuZGxlIGNoYW5naW5nIHRoZSBidXR0b24ncyBzdGF0ZSBpbiBhIC50aGVuIGFmdGVyIHRoZSBzdWNjZXNzZnVsIHJlc3BvbnNlXG59XG5cbi8vIEZPUk0gVkFMSURBVE9SXG5cbmNvbnN0IGFkZEZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihjb25maWcsIHZhcmlhYmxlcy5wcm9maWxlQWRkTW9kYWwpO1xuYWRkRm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XG5cbmNvbnN0IGVkaXRGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoY29uZmlnLCB2YXJpYWJsZXMucHJvZmlsZUVkaXRNb2RhbCk7XG5lZGl0Rm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XG5cbmNvbnN0IGF2YXRhckZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihjb25maWcsIHZhcmlhYmxlcy5hdmF0YXJNb2RhbCk7XG5hdmF0YXJGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcblxuLy8gUE9QVVAgV0lUSCBGT1JNIC0gQUREIEZPUk1cblxuY29uc3QgYWRkUG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybSh2YXJpYWJsZXMuYWRkQ2FyZENsYXNzLCBoYW5kbGVBZGRDYXJkU3VibWl0KTtcblxuZnVuY3Rpb24gb3BlbkFkZEZvcm0oKSB7XG4gIGFkZFBvcHVwLm9wZW4oKTtcbn1cblxuYWRkUG9wdXAuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxudmFyaWFibGVzLnByb2ZpbGVBZGRCdXR0b25TZWxlY3Rvci5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT5cbiAgb3BlbkFkZEZvcm0oKVxuKTtcblxuLy8gUE9QVVAgV0lUSCBGT1JNIC0gRURJVCBGT1JNXG5cbmNvbnN0IGVkaXRQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKFxuICB2YXJpYWJsZXMuZWRpdENhcmRDbGFzcyxcbiAgaGFuZGxlRWRpdEZvcm1TdWJtaXRcbik7XG5cbmZ1bmN0aW9uIG9wZW5FZGl0Rm9ybSgpIHtcbiAgY29uc3QgdXNlciA9IHVzZXJpbmZvLmdldFVzZXJJbmZvKCk7XG4gIHZhcmlhYmxlcy5uYW1lSW5wdXQudmFsdWUgPSB1c2VyLm5hbWU7XG4gIHZhcmlhYmxlcy5kZXNjcmlwdGlvbklucHV0LnZhbHVlID0gdXNlci5kZXNjcmlwdGlvbjtcbiAgZWRpdFBvcHVwLm9wZW4oKTtcbn1cblxuZWRpdFBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbnZhcmlhYmxlcy5wcm9maWxlRWRpdEJ1dHRvblNlbGVjdG9yLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIG9wZW5FZGl0Rm9ybSgpO1xufSk7XG5cbi8vIFBPUFVQIFdJVEggRk9STSAtIEFWQVRBUiBGT1JNXG5cbmNvbnN0IGF2YXRhck1vZGFsID0gbmV3IFBvcHVwV2l0aEZvcm0oXG4gIHZhcmlhYmxlcy5hdmF0YXJNb2RhbCxcbiAgaGFuZGxlQXZhdGFyRm9ybVN1Ym1pdFxuKTtcbmF2YXRhck1vZGFsLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbmZ1bmN0aW9uIG9wZW5BdmF0YXJGb3JtKCkge1xuICBhdmF0YXJNb2RhbC5vcGVuKCk7XG59XG5cbnZhcmlhYmxlcy5hdmF0YXJJY29uU2VsZWN0b3IuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgb3BlbkF2YXRhckZvcm0oKTtcbn0pO1xuXG4vLyBmdW5jdGlvbiBzZXRCdXR0b25UZXh0KGJ1dHRpbiwgdGV4dCkge1xuLy8gICBidXR0aW4udGV4dENvbnRlbnQgPSB0ZXh0O1xuLy8gfVxuXG5mdW5jdGlvbiBoYW5kbGVBdmF0YXJGb3JtU3VibWl0KGlucHV0VmFsdWVzKSB7XG4gIHNldEJ1dHRvblRleHQodmFyaWFibGVzLmF2YXRhck1vZGFsQnV0dG9uLCBcIlNhdmluZy4uLlwiKTtcbiAgYXBpXG4gICAgLnVwZGF0ZUF2YXRhcihpbnB1dFZhbHVlcy5saW5rKVxuICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgIHZhcmlhYmxlcy5hdmF0YXJJbWFnZS5zcmMgPSBpbnB1dFZhbHVlcy5saW5rO1xuICAgICAgY29uc29sZS5sb2cocmVzKTtcbiAgICB9KVxuICAgIC5jYXRjaChjb25zb2xlLmVycm9yKVxuICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgIHNldEJ1dHRvblRleHQodmFyaWFibGVzLmF2YXRhck1vZGFsQnV0dG9uLCBcIlNhdmVcIik7XG4gICAgfSk7XG4gIGF2YXRhck1vZGFsLmNsb3NlKCk7XG59XG5cbi8vIFVTRVIgSU5GT1xuXG5jb25zdCB1c2VyaW5mbyA9IG5ldyBVc2VySW5mbyhcIi5wcm9maWxlX190aXRsZVwiLCBcIi5wcm9maWxlX19kZXNjcmlwdGlvblwiKTtcblxuZnVuY3Rpb24gaGFuZGxlRWRpdEZvcm1TdWJtaXQoaW5wdXRWYWx1ZXMpIHtcbiAgc2V0QnV0dG9uVGV4dCh2YXJpYWJsZXMuZWRpdE1vZGFsQnV0dG9uLCBcIlNhdmluZy4uLlwiKTtcbiAgYXBpXG4gICAgLmVkaXRQcm9maWxlKClcbiAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICB1c2VyaW5mby5zZXRVc2VySW5mbyhpbnB1dFZhbHVlcy5uYW1lLCBpbnB1dFZhbHVlcy5kZXNjcmlwdGlvbik7XG4gICAgICBjb25zb2xlLmxvZyhyZXMpO1xuICAgIH0pXG4gICAgLmNhdGNoKGNvbnNvbGUuZXJyb3IpXG4gICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgc2V0QnV0dG9uVGV4dCh2YXJpYWJsZXMuZWRpdE1vZGFsQnV0dG9uLCBcIlNhdmVcIik7XG4gICAgfSk7XG4gIGVkaXRQb3B1cC5jbG9zZSgpO1xufVxuIiwiY2xhc3MgQXBpIHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIC8vIGNvbnN0cnVjdG9yIGJvZHlcbiAgICB0aGlzLl9oZWFkZXJzID0gb3B0aW9ucy5oZWFkZXJzO1xuICB9XG5cbiAgZ2V0SW5pdGlhbENhcmRzKCkge1xuICAgIHJldHVybiBmZXRjaChcImh0dHBzOi8vYXJvdW5kLWFwaS5lbi50cmlwbGV0ZW4tc2VydmljZXMuY29tL3YxL2NhcmRzXCIsIHtcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgYXV0aG9yaXphdGlvbjogXCJlYmZiZTU4MC01OWU4LTQ2MjMtOWQxZS01ZWRmMTQ2MDgyNzlcIixcbiAgICAgIH0sXG4gICAgfSkudGhlbigocmVzKSA9PiB7XG4gICAgICBpZiAocmVzLm9rKSB7XG4gICAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgICAgfVxuICAgICAgLy8gaWYgdGhlIHNlcnZlciByZXR1cm5zIGFuIGVycm9yLCByZWplY3QgdGhlIHByb21pc2VcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8vIG90aGVyIG1ldGhvZHMgZm9yIHdvcmtpbmcgd2l0aCB0aGUgQVBJXG5cbiAgbG9hZEluZm8oKSB7XG4gICAgcmV0dXJuIGZldGNoKFwiaHR0cHM6Ly9hcm91bmQtYXBpLmVuLnRyaXBsZXRlbi1zZXJ2aWNlcy5jb20vdjEvdXNlcnMvbWVcIiwge1xuICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgYXZhdGFyOlxuICAgICAgICBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vZnJvbnRlbmQtZGV2ZWxvcGVyL21vdmVkX2F2YXRhci5qcGdcIixcbiAgICAgIF9pZDogXCJlMjA1MzdlZDExMjM3Zjg2YmJiMjBjY2JcIixcbiAgICAgIGNvaG9ydDogXCJncm91cC00MlwiLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBhdXRob3JpemF0aW9uOiBcImViZmJlNTgwLTU5ZTgtNDYyMy05ZDFlLTVlZGYxNDYwODI3OVwiLFxuICAgICAgfSxcbiAgICB9KVxuICAgICAgLnRoZW4oKHJlcykgPT4gcmVzLmpzb24oKSlcbiAgICAgIC50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgY29uc29sZS5sb2cocmVzdWx0KTtcbiAgICAgIH0pO1xuICB9XG5cbiAgZWRpdFByb2ZpbGUoKSB7XG4gICAgcmV0dXJuIGZldGNoKFwiaHR0cHM6Ly9hcm91bmQtYXBpLmVuLnRyaXBsZXRlbi1zZXJ2aWNlcy5jb20vdjEvdXNlcnMvbWVcIiwge1xuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIGF1dGhvcml6YXRpb246IFwiZWJmYmU1ODAtNTllOC00NjIzLTlkMWUtNWVkZjE0NjA4Mjc5XCIsXG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgfSxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgbmFtZTogXCJKYWNxdWVzIENvdXN0ZWF1XCIsXG4gICAgICAgIGFib3V0OiBcIlNhaWxvciwgcmVzZWFyY2hlclwiLFxuICAgICAgfSksXG4gICAgfSkudGhlbigocmVzKSA9PiB7XG4gICAgICBpZiAocmVzLm9rKSB7XG4gICAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgICAgfVxuICAgICAgLy8gaWYgdGhlIHNlcnZlciByZXR1cm5zIGFuIGVycm9yLCByZWplY3QgdGhlIHByb21pc2VcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8vIHBhc3MgbmFtZSBhbmQgbGluayBhcyBhcmd1bWVudFxuICBhZGROZXdDYXJkKGRhdGEpIHtcbiAgICByZXR1cm4gZmV0Y2goXCJodHRwczovL2Fyb3VuZC1hcGkuZW4udHJpcGxldGVuLXNlcnZpY2VzLmNvbS92MS9jYXJkc1wiLCB7XG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBhdXRob3JpemF0aW9uOiBcImViZmJlNTgwLTU5ZTgtNDYyMy05ZDFlLTVlZGYxNDYwODI3OVwiLFxuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgIH0sXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIG5hbWU6IGRhdGEubmFtZSxcbiAgICAgICAgbGluazogZGF0YS5saW5rLFxuICAgICAgfSksXG4gICAgfSkudGhlbigocmVzKSA9PiB7XG4gICAgICBpZiAocmVzLm9rKSB7XG4gICAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgICAgfVxuICAgICAgLy8gaWYgdGhlIHNlcnZlciByZXR1cm5zIGFuIGVycm9yLCByZWplY3QgdGhlIHByb21pc2VcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcbiAgICB9KTtcbiAgfVxuXG4gIGRlbGV0ZUNhcmQoY2FyZElkKSB7XG4gICAgcmV0dXJuIGZldGNoKFxuICAgICAgYGh0dHBzOi8vYXJvdW5kLWFwaS5lbi50cmlwbGV0ZW4tc2VydmljZXMuY29tL3YxL2NhcmRzLyR7Y2FyZElkfWAsXG4gICAgICB7XG4gICAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgIGF1dGhvcml6YXRpb246IFwiZWJmYmU1ODAtNTllOC00NjIzLTlkMWUtNWVkZjE0NjA4Mjc5XCIsXG4gICAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICBfaWQ6IGNhcmRJZCxcbiAgICAgICAgfSksXG4gICAgICB9XG4gICAgKS50aGVuKChyZXMpID0+IHtcbiAgICAgIGlmIChyZXMub2spIHtcbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XG4gICAgICB9XG4gICAgICAvLyBpZiB0aGUgc2VydmVyIHJldHVybnMgYW4gZXJyb3IsIHJlamVjdCB0aGUgcHJvbWlzZVxuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApO1xuICAgIH0pO1xuICB9XG5cbiAgdXBkYXRlTGlrZShjYXJkSWQsIGlzTGlrZWQpIHtcbiAgICByZXR1cm4gZmV0Y2goXG4gICAgICBgaHR0cHM6Ly9hcm91bmQtYXBpLmVuLnRyaXBsZXRlbi1zZXJ2aWNlcy5jb20vdjEvY2FyZHMvJHtjYXJkSWR9L2xpa2VzYCxcbiAgICAgIHtcbiAgICAgICAgbWV0aG9kOiBpc0xpa2VkID8gXCJERUxFVEVcIiA6IFwiUFVUXCIsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICBhdXRob3JpemF0aW9uOiBcImViZmJlNTgwLTU5ZTgtNDYyMy05ZDFlLTVlZGYxNDYwODI3OVwiLFxuICAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgICB9LFxuICAgICAgfVxuICAgICkudGhlbigocmVzKSA9PiB7XG4gICAgICBpZiAocmVzLm9rKSB7XG4gICAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgICAgfVxuICAgICAgLy8gaWYgdGhlIHNlcnZlciByZXR1cm5zIGFuIGVycm9yLCByZWplY3QgdGhlIHByb21pc2VcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcbiAgICB9KTtcbiAgfVxuXG4gIHVwZGF0ZUF2YXRhcihsaW5rKSB7XG4gICAgcmV0dXJuIGZldGNoKFxuICAgICAgYGh0dHBzOi8vYXJvdW5kLWFwaS5lbi50cmlwbGV0ZW4tc2VydmljZXMuY29tL3YxL3VzZXJzL21lL2F2YXRhcmAsXG4gICAgICB7XG4gICAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgYXV0aG9yaXphdGlvbjogXCJlYmZiZTU4MC01OWU4LTQ2MjMtOWQxZS01ZWRmMTQ2MDgyNzlcIixcbiAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgIGF2YXRhcjogbGluayxcbiAgICAgICAgfSksXG4gICAgICB9XG4gICAgKS50aGVuKChyZXMpID0+IHtcbiAgICAgIGlmIChyZXMub2spIHtcbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XG4gICAgICB9XG4gICAgICAvLyBpZiB0aGUgc2VydmVyIHJldHVybnMgYW4gZXJyb3IsIHJlamVjdCB0aGUgcHJvbWlzZVxuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApO1xuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEFwaTtcbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xuICAgIHN1cGVyKHsgcG9wdXBTZWxlY3RvciB9KTtcbiAgICB0aGlzLl9pbWFnZSA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19waWN0dXJlLXNyY1wiKTtcbiAgICB0aGlzLl90aXRsZSA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19waWN0dXJlLXRpdGxlXCIpO1xuICB9XG5cbiAgb3Blbih7IGxpbmssIG5hbWUgfSkge1xuICAgIHRoaXMuX2ltYWdlLnNyYyA9IGxpbms7XG4gICAgdGhpcy5faW1hZ2UuYWx0ID0gYEEgcGhvdG8gb2YgJHtuYW1lfWA7XG4gICAgdGhpcy5fdGl0bGUudGV4dENvbnRlbnQgPSBgJHtuYW1lfWA7XG4gICAgc3VwZXIub3BlbigpO1xuICB9XG59XG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRGVsZXRlIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XG4gICAgc3VwZXIoeyBwb3B1cFNlbGVjdG9yIH0pO1xuICAgIHRoaXMuX2Zvcm1FbCA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19mb3JtXCIpO1xuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fZm9ybUVsLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGUpID0+IHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQoKTtcbiAgICB9KTtcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xuICB9XG5cbiAgc2V0U3VibWl0QWN0aW9uKGhhbmRsZUZvcm1TdWJtaXQpIHtcbiAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0ID0gaGFuZGxlRm9ybVN1Ym1pdDtcbiAgfVxufVxuIiwiY2xhc3MgVXNlckluZm8ge1xuICBjb25zdHJ1Y3Rvcih1c2VyTmFtZVNlbGVjdG9yLCB1c2VyRGVzY3JpcHRpb25TZWxlY3Rvcikge1xuICAgIHRoaXMuX3VzZXJOYW1lRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodXNlck5hbWVTZWxlY3Rvcik7XG4gICAgdGhpcy5fdXNlckRlc2NyaXB0aW9uRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICB1c2VyRGVzY3JpcHRpb25TZWxlY3RvclxuICAgICk7XG4gIH1cblxuICBnZXRVc2VySW5mbygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbmFtZTogdGhpcy5fdXNlck5hbWVFbGVtZW50LnRleHRDb250ZW50LFxuICAgICAgZGVzY3JpcHRpb246IHRoaXMuX3VzZXJEZXNjcmlwdGlvbkVsZW1lbnQudGV4dENvbnRlbnQsXG4gICAgfTtcbiAgfVxuXG4gIHNldFVzZXJJbmZvKG5hbWUsIGRlc2NyaXB0aW9uKSB7XG4gICAgdGhpcy5fdXNlck5hbWVFbGVtZW50LnRleHRDb250ZW50ID0gbmFtZTtcbiAgICB0aGlzLl91c2VyRGVzY3JpcHRpb25FbGVtZW50LnRleHRDb250ZW50ID0gZGVzY3JpcHRpb247XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgVXNlckluZm87XG4iXSwibmFtZXMiOlsiY29uc3RydWN0b3IiLCJfcmVmIiwicG9wdXBTZWxlY3RvciIsInRoaXMiLCJfcG9wdXBFbGVtZW50IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwib3BlbiIsImNsYXNzTGlzdCIsImFkZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJfaGFuZGxlRXNjQ2xvc2UiLCJjbG9zZSIsInJlbW92ZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJldnQiLCJrZXkiLCJzZXRFdmVudExpc3RlbmVycyIsInRhcmdldCIsImNvbnRhaW5zIiwiUG9wdXAiLCJoYW5kbGVGb3JtU3VibWl0Iiwic3VwZXIiLCJfZm9ybSIsIl9oYW5kbGVGb3JtU3VibWl0IiwiX2lucHV0RWxzIiwicXVlcnlTZWxlY3RvckFsbCIsIl9nZXRJbnB1dFZhbHVlcyIsImlucHV0VmFsdWVzIiwiZm9yRWFjaCIsImlucHV0RWwiLCJuYW1lIiwidmFsdWUiLCJjb25maWciLCJmb3JtU2VsZWN0b3IiLCJfaW5wdXRTZWxlY3RvciIsImlucHV0U2VsZWN0b3IiLCJfc3VibWl0QnV0dG9uU2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsIl9pbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsIl9pbnB1dEVycm9yQ2xhc3MiLCJpbnB1dEVycm9yQ2xhc3MiLCJfZXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJfZm9ybUVsIiwiX3N1Ym1pdEJ1dHRvbiIsIl9zaG93SW5wdXRFcnJvciIsImVycm9yTWVzc2FnZUVsIiwiaWQiLCJ0ZXh0Q29udGVudCIsInZhbGlkYXRpb25NZXNzYWdlIiwiX2hpZGVJbnB1dEVycm9yIiwiX2NoZWNrSW5wdXRWYWxpZGl0eSIsInZhbGlkaXR5IiwidmFsaWQiLCJfaGFzSW52YWxpZElucHV0IiwiZXZlcnkiLCJ0b2dnbGVCdXR0b25TdGF0ZSIsImRpc2FibGVkIiwiX3NldEV2ZW50TGlzdGVuZXJzIiwiZSIsImVuYWJsZVZhbGlkYXRpb24iLCJwcmV2ZW50RGVmYXVsdCIsImNvbnRhaW5lclNlbGVjdG9yIiwiaXRlbXMiLCJyZW5kZXJlciIsIl9pdGVtcyIsIl9yZW5kZXJlciIsIl9jb250YWluZXIiLCJyZW5kZXJJdGVtcyIsIml0ZW0iLCJhZGRJdGVtIiwiZWxlbWVudCIsInByZXBlbmQiLCJkYXRhIiwiY2FyZFNlbGVjdG9yIiwiaGFuZGxlSW1hZ2VDbGljayIsImhhbmRsZURlbGV0ZUNsaWNrIiwiaGFuZGxlTGlrZUNsaWNrIiwiX25hbWUiLCJfbGluayIsImxpbmsiLCJfaWQiLCJfaGFuZGxlSW1hZ2VDbGljayIsIl9oYW5kbGVEZWxldGVDbGljayIsIl9oYW5kbGVMaWtlQ2xpY2siLCJfY2FyZFNlbGVjdG9yIiwiX2dldFRlbXBsYXRlIiwiY29udGVudCIsImZpcnN0RWxlbWVudENoaWxkIiwiY2xvbmVOb2RlIiwiX2hhbmRsZUxpa2UiLCJfbGlrZUJ1dHRvbiIsInRvZ2dsZSIsImhhbmRsZURlbGV0ZSIsIl9lbGVtZW50IiwiX2RlbGV0ZUZvcm1CdXR0b24iLCJfaGFuZGxlRGVsZXRlIiwiX2NhcmRUcmFzaCIsIl9jYXJkSW1hZ2VFbCIsImdlbmVyYXRlQ2FyZCIsInNyYyIsImFsdCIsInZhcmlhYmxlcyIsInByb2ZpbGVFZGl0TW9kYWwiLCJwcm9maWxlQWRkTW9kYWwiLCJwcm9maWxlRWRpdEZvcm0iLCJwcm9maWxlQWRkRm9ybSIsIm5hbWVJbnB1dCIsImRlc2NyaXB0aW9uSW5wdXQiLCJhdmF0YXJJbnB1dCIsImF2YXRhckltYWdlIiwiYXZhdGFySWNvblNlbGVjdG9yIiwiYXZhdGFyTW9kYWwiLCJhdmF0YXJNb2RhbEJ1dHRvbiIsImFkZENhcmRDbGFzcyIsImFkZE1vZGFsQnV0dG9uIiwiZWRpdENhcmRDbGFzcyIsImRlbGV0ZUNhcmRDbGFzcyIsImRlbGV0ZUNhcmRCdXR0b25TZWxlY3RvciIsImVkaXRNb2RhbEJ1dHRvbiIsInByb2ZpbGVFZGl0QnV0dG9uU2VsZWN0b3IiLCJwcm9maWxlQWRkQnV0dG9uU2VsZWN0b3IiLCJhcGkiLCJvcHRpb25zIiwiX2hlYWRlcnMiLCJoZWFkZXJzIiwiZ2V0SW5pdGlhbENhcmRzIiwiZmV0Y2giLCJhdXRob3JpemF0aW9uIiwidGhlbiIsInJlcyIsIm9rIiwianNvbiIsIlByb21pc2UiLCJyZWplY3QiLCJzdGF0dXMiLCJsb2FkSW5mbyIsIm1ldGhvZCIsImF2YXRhciIsImNvaG9ydCIsInJlc3VsdCIsImNvbnNvbGUiLCJsb2ciLCJlZGl0UHJvZmlsZSIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiYWJvdXQiLCJhZGROZXdDYXJkIiwiZGVsZXRlQ2FyZCIsImNhcmRJZCIsInVwZGF0ZUxpa2UiLCJpc0xpa2VkIiwidXBkYXRlQXZhdGFyIiwiYmFzZVVybCIsInNlY3Rpb24iLCJTZWN0aW9uIiwiY2FyZERhdGEiLCJjcmVhdGVDYXJkIiwiY2F0Y2giLCJlcnJvciIsInBvcHVwV2l0aEltYWdlIiwiX2ltYWdlIiwiX3RpdGxlIiwic2V0QnV0dG9uVGV4dCIsImJ1dHRpbiIsInRleHQiLCJjYXJkIiwiQ2FyZCIsImRlbGV0ZU1vZGFsIiwic2V0U3VibWl0QWN0aW9uIiwiaGFuZGxlTGlrZSIsImFkZEZvcm1WYWxpZGF0b3IiLCJGb3JtVmFsaWRhdG9yIiwiYWRkUG9wdXAiLCJQb3B1cFdpdGhGb3JtIiwicmVzZXQiLCJlZGl0UG9wdXAiLCJ1c2VyaW5mbyIsInNldFVzZXJJbmZvIiwiZGVzY3JpcHRpb24iLCJmaW5hbGx5IiwidXNlciIsImdldFVzZXJJbmZvIiwib3BlbkVkaXRGb3JtIiwidXNlck5hbWVTZWxlY3RvciIsInVzZXJEZXNjcmlwdGlvblNlbGVjdG9yIiwiX3VzZXJOYW1lRWxlbWVudCIsIl91c2VyRGVzY3JpcHRpb25FbGVtZW50Il0sInNvdXJjZVJvb3QiOiIifQ==