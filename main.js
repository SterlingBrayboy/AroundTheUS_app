!function(){"use strict";var e=class{constructor(e){let{popupSelector:t}=e;this._popupElement=document.querySelector(t)}open(){this._popupElement.classList.add("modal_opened"),document.addEventListener("keyup",this._handleEscClose)}close(){this._popupElement.classList.remove("modal_opened"),document.removeEventListener("keyup",this._handleEscClose)}_handleEscClose=e=>{"Escape"===e.key&&this.close()};setEventListeners(){this._popupElement.addEventListener("click",(e=>{(e.target.classList.contains("modal")||e.target.classList.contains("modal__close"))&&this.close()}))}},t=class extends e{constructor(e,t){super({popupSelector:e}),this._form=this._popupElement.querySelector(".modal__form"),this._handleFormSubmit=t,this._inputEls=[...this._form.querySelectorAll(".modal__input")]}setEventListeners(){this._popupElement.addEventListener("submit",(()=>{this._handleFormSubmit(this._getInputValues())})),super.setEventListeners()}_getInputValues(){const e={};return this._inputEls.forEach((t=>{e[t.name]=t.value})),e}},r=class{constructor(e,t){this._inputSelector=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass,this._formEl=document.querySelector(t),this._submitButton=this._formEl.querySelector(this._submitButtonSelector),this._inputEls=[...this._formEl.querySelectorAll(this._inputSelector)]}_showInputError(e){const t=this._formEl.querySelector(`#${e.id}-error`);e.classList.add(this._inputErrorClass),t.textContent=e.validationMessage,t.classList.add(this._errorClass)}_hideInputError(e){const t=this._formEl.querySelector(`#${e.id}-error`);e.classList.remove(this._inputErrorClass),t.textContent="",t.classList.remove(this._errorClass)}_checkInputValidity(e){e.validity.valid?this._hideInputError(e):this._showInputError(e)}_hasInvalidInput(){return!this._inputEls.every((e=>e.validity.valid))}toggleButtonState(){if(this._hasInvalidInput(this._inputEls))return this._submitButton.classList.add(this._inactiveButtonClass),void(this._submitButton.disabled=!0);this._submitButton.classList.remove(this._inactiveButtonClass),this._submitButton.disabled=!1}_setEventListeners(){this._inputEls.forEach((e=>{e.addEventListener("input",(t=>{this._checkInputValidity(e),this.toggleButtonState()}))}))}enableValidation(){this._formEl.addEventListener("submit",(e=>{e.preventDefault()})),this._setEventListeners()}},o=class{constructor(e,t){let{items:r,renderer:o}=e;this._items=r,this._renderer=o,this._container=document.querySelector(`.${t}`)}renderItems(){this._items.forEach((e=>{this._renderer(e)}))}addItem(e){this._container.prepend(e)}},n=class{constructor(e,t,r,o,n){this._name=e.name,this._link=e.link,this._id=e._id,this._handleImageClick=r,this._handleDeleteClick=o,this._handleLikeClick=n,this._cardSelector=t}_getTemplate(){return document.querySelector(this._cardSelector).content.firstElementChild.cloneNode(!0)}_handleLike=()=>{this._likeButton.classList.toggle("gallery__card-like_active")};handleDelete=()=>{this._element.remove()};_setEventListeners(){this._likeButton.addEventListener("click",this._handleLike),this._deleteFormButton.addEventListener("submit",this._handleDelete),this._cardTrash.addEventListener("click",(()=>{this._handleDeleteClick(this)})),this._cardImageEl.addEventListener("click",(()=>{this._handleImageClick({name:this._name,link:this._link})}))}generateCard(){return this._element=this._getTemplate(),this._likeButton=this._element.querySelector(".gallery__card-like"),this._deleteFormButton=document.querySelector("#delete-card-button"),this._cardTrash=this._element.querySelector(".gallery__card-trash"),this._cardImageEl=this._element.querySelector(".gallery__card-image"),this._setEventListeners(),this._cardImageEl.src=this._link,this._cardImageEl.alt=`Photo of ${this._name}`,this._element.querySelector(".gallery__card-title").textContent=this._name,this._element}};const s={inputSelector:".modal__input",submitButtonSelector:".modal__container-button",inactiveButtonClass:"modal__container-button_disabled",inputErrorClass:"modal__input-error",errorClass:"modal__input-error_visible"},i={profileEditModal:"#profile__edit-modal",profileAddModal:"#profile__add-modal",profileEditForm:document.querySelector("#edit-card-form"),profileAddForm:document.querySelector("#add-card-form"),nameInput:document.querySelector("#profile-name-input"),descriptionInput:document.querySelector("#profile-description-input"),avatarInput:document.querySelector("#avatar-url-input"),avatarImage:document.querySelector(".profile__avatar"),avatarIconSelector:document.querySelector(".profile__icon"),avatarModal:"#avatar-modal",avatarModalButton:document.querySelector("#avatar-modal-button"),addCardClass:"#profile__add-modal",addModalButton:document.querySelector("#add-button"),editCardClass:"#profile__edit-modal",deleteCardClass:"#delete-modal",deleteCardButtonSelector:document.querySelector(".gallery__card-trash"),editModalButton:document.querySelector("#edit-button"),profileEditButtonSelector:document.querySelector("#profile__edit-button"),profileAddButtonSelector:document.querySelector(".profile__add-button")},a=new class{constructor(e){this._headers=e.headers}getInitialCards(){return fetch("https://around-api.en.tripleten-services.com/v1/cards",{headers:{authorization:"ebfbe580-59e8-4623-9d1e-5edf14608279"}}).then((e=>e.ok?e.json():Promise.reject(`Error: ${e.status}`)))}loadInfo(){return fetch("https://around-api.en.tripleten-services.com/v1/users/me",{method:"GET",avatar:"https://practicum-content.s3.us-west-1.amazonaws.com/frontend-developer/moved_avatar.jpg",_id:"e20537ed11237f86bbb20ccb",cohort:"group-42",headers:{authorization:"ebfbe580-59e8-4623-9d1e-5edf14608279"}}).then((e=>e.json())).then((e=>{console.log(e)}))}editProfile(){return fetch("https://around-api.en.tripleten-services.com/v1/users/me",{method:"PATCH",headers:{authorization:"ebfbe580-59e8-4623-9d1e-5edf14608279","Content-Type":"application/json"},body:JSON.stringify({name:"Jacques Cousteau",about:"Sailor, researcher"})}).then((e=>e.ok?e.json():Promise.reject(`Error: ${e.status}`)))}addNewCard(e){return fetch("https://around-api.en.tripleten-services.com/v1/cards",{method:"POST",headers:{authorization:"ebfbe580-59e8-4623-9d1e-5edf14608279","Content-Type":"application/json"},body:JSON.stringify({name:e.name,link:e.link})}).then((e=>e.ok?e.json():Promise.reject(`Error: ${e.status}`)))}deleteCard(e){return fetch("https://around-api.en.tripleten-services.com/v1/cards/cardId",{method:"DELETE",headers:{authorization:"ebfbe580-59e8-4623-9d1e-5edf14608279","Content-Type":"application/json"},body:JSON.stringify({isLiked:!1,_id:e})}).then((e=>e.ok?e.json():Promise.reject(`Error: ${e.status}`)))}updateLike(e,t){return fetch(`https://around-api.en.tripleten-services.com/v1/cards/${e}/likes`,{method:t?"DELETE":"PUT",headers:{authorization:"ebfbe580-59e8-4623-9d1e-5edf14608279","Content-Type":"application/json"}}).then((e=>e.ok?e.json():Promise.reject(`Error: ${e.status}`)))}updateAvatar(e){return fetch("https://around-api.en.tripleten-services.com/v1/users/me/avatar",{method:"PATCH",headers:{authorization:"ebfbe580-59e8-4623-9d1e-5edf14608279","Content-Type":"application/json"},body:JSON.stringify({avatar:e})}).then((e=>e.ok?e.json():Promise.reject(`Error: ${e.status}`)))}}({baseUrl:"https://around-api.en.tripleten-services.com/v1",headers:{authorization:"ebfbe580-59e8-4623-9d1e-5edf14608279","Content-Type":"application/json"}});let l;a.getInitialCards().then((e=>{l=new o({items:e,renderer:e=>{h(e)}},"gallery__cards"),l.renderItems(),console.log(e)})).catch(console.error),a.loadInfo().then((e=>{console.log(e)})).catch(console.error);const d=new class extends e{constructor(e){super({popupSelector:e}),this._image=this._popupElement.querySelector(".modal__picture-src"),this._title=this._popupElement.querySelector(".modal__picture-title")}open(e){let{link:t,name:r}=e;this._image.src=t,this._image.alt=`A photo of ${r}`,this._title.textContent=`${r}`,super.open()}}("#picture-modal");function c(e,t){e.textContent=t}function u(e){d.open(e)}function h(e){const t=new n(e,"#card-template",u,_,m);l.addItem(t.generateCard())}d.setEventListeners();const p=new class extends e{constructor(e){super({popupSelector:e}),this._formEl=this._popupElement.querySelector(".modal__form")}setEventListeners(){this._formEl.addEventListener("submit",(e=>{e.preventDefault(),this._handleFormSubmit()})),super.setEventListeners()}setSubmitAction(e){this._handleFormSubmit=e}}(i.deleteCardClass);function _(e){p.open(),p.setSubmitAction((()=>{a.deleteCard(e).then((()=>{p.close(),card.handleDelete()})).catch(console.error)}))}function m(e){a.updateLike(e._id,isLiked).then((()=>{e.handleLike()})).catch(console.error)}p.setEventListeners();const v=new r(s,i.profileAddModal);v.enableValidation(),new r(s,i.profileEditModal).enableValidation(),new r(s,i.avatarModal).enableValidation();const E=new t(i.addCardClass,(function(e){c(i.addModalButton,"Saving..."),a.addNewCard(e).then((t=>{console.log(t),h(e),i.profileAddForm.reset(),v.toggleButtonState(),c(i.addModalButton,"Save")})),E.close()}));E.setEventListeners(),i.profileAddButtonSelector.addEventListener("click",(()=>{E.open()}));const f=new t(i.editCardClass,(function(e){c(i.editModalButton,"Saving..."),a.editProfile().then((t=>{y.setUserInfo(e.name,e.description),console.log(t)})).catch(console.error).finally((()=>{c(i.editModalButton,"Save")})),f.close()}));f.setEventListeners(),i.profileEditButtonSelector.addEventListener("click",(()=>{!function(){const e=y.getUserInfo();i.nameInput.value=e.name,i.descriptionInput.value=e.description,f.open()}()}));const S=new t(i.avatarModal,(function(e){c(i.avatarModalButton,"Saving..."),a.updateAvatar(e.link).then((t=>{i.avatarImage.src=e.link,console.log(t)})).catch(console.error).finally((()=>{c(i.avatarModalButton,"Save")})),S.close()}));S.setEventListeners(),i.avatarIconSelector.addEventListener("click",(()=>{S.open()}));const y=new class{constructor(e,t){this._userNameElement=document.querySelector(e),this._userDescriptionElement=document.querySelector(t)}getUserInfo(){return{name:this._userNameElement.textContent,description:this._userDescriptionElement.textContent}}setUserInfo(e,t){this._userNameElement.textContent=e,this._userDescriptionElement.textContent=t}}(".profile__title",".profile__description")}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QkFBbUJ4TCxTQUFTQyxjQUFjcUwsR0FDL0N4TCxLQUFLMkwsd0JBQTBCekwsU0FBU0MsY0FDdENzTCxFQUVKLENBRUFILFdBQUFBLEdBQ0UsTUFBTyxDQUNMMUosS0FBTTVCLEtBQUswTCxpQkFBaUIzSSxZQUM1Qm9JLFlBQWFuTCxLQUFLMkwsd0JBQXdCNUksWUFFOUMsQ0FFQW1JLFdBQUFBLENBQVl0SixFQUFNdUosR0FDaEJuTCxLQUFLMEwsaUJBQWlCM0ksWUFBY25CLEVBQ3BDNUIsS0FBSzJMLHdCQUF3QjVJLFlBQWNvSSxDQUM3QyxHSndNNEIsa0JBQW1CLHdCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvQ2FyZC5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvdXRpbHMvY29uc3RhbnRzLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9wYWdlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9BcGkuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXSXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRGVsZXRlLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNsYXNzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IoeyBwb3B1cFNlbGVjdG9yIH0pIHtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwU2VsZWN0b3IpO1xuICB9XG5cbiAgb3BlbigpIHtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcIm1vZGFsX29wZW5lZFwiKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5dXBcIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xuICB9XG5cbiAgY2xvc2UoKSB7XG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJtb2RhbF9vcGVuZWRcIik7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcbiAgfVxuXG4gIF9oYW5kbGVFc2NDbG9zZSA9IChldnQpID0+IHtcbiAgICBpZiAoZXZ0LmtleSA9PT0gXCJFc2NhcGVcIikge1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH1cbiAgfTtcblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldnQpID0+IHtcbiAgICAgIGlmIChcbiAgICAgICAgZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJtb2RhbFwiKSB8fFxuICAgICAgICBldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcIm1vZGFsX19jbG9zZVwiKVxuICAgICAgKSB7XG4gICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBQb3B1cDtcbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xuXG5jbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yLCBoYW5kbGVGb3JtU3VibWl0KSB7XG4gICAgc3VwZXIoeyBwb3B1cFNlbGVjdG9yIH0pO1xuXG4gICAgdGhpcy5fZm9ybSA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19mb3JtXCIpO1xuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBoYW5kbGVGb3JtU3VibWl0O1xuICAgIHRoaXMuX2lucHV0RWxzID0gWy4uLnRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvckFsbChcIi5tb2RhbF9faW5wdXRcIildO1xuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCh0aGlzLl9nZXRJbnB1dFZhbHVlcygpKTtcbiAgICB9KTtcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xuICB9XG5cbiAgX2dldElucHV0VmFsdWVzKCkge1xuICAgIGNvbnN0IGlucHV0VmFsdWVzID0ge307XG4gICAgdGhpcy5faW5wdXRFbHMuZm9yRWFjaCgoaW5wdXRFbCkgPT4ge1xuICAgICAgaW5wdXRWYWx1ZXNbaW5wdXRFbC5uYW1lXSA9IGlucHV0RWwudmFsdWU7XG4gICAgfSk7XG4gICAgcmV0dXJuIGlucHV0VmFsdWVzO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFBvcHVwV2l0aEZvcm07XG4iLCJjbGFzcyBGb3JtVmFsaWRhdG9yIHtcbiAgY29uc3RydWN0b3IoY29uZmlnLCBmb3JtU2VsZWN0b3IpIHtcbiAgICB0aGlzLl9pbnB1dFNlbGVjdG9yID0gY29uZmlnLmlucHV0U2VsZWN0b3I7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IgPSBjb25maWcuc3VibWl0QnV0dG9uU2VsZWN0b3I7XG4gICAgdGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyA9IGNvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzO1xuICAgIHRoaXMuX2lucHV0RXJyb3JDbGFzcyA9IGNvbmZpZy5pbnB1dEVycm9yQ2xhc3M7XG4gICAgdGhpcy5fZXJyb3JDbGFzcyA9IGNvbmZpZy5lcnJvckNsYXNzO1xuICAgIHRoaXMuX2Zvcm1FbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZm9ybVNlbGVjdG9yKTtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24gPSB0aGlzLl9mb3JtRWwucXVlcnlTZWxlY3Rvcih0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3Rvcik7XG4gICAgdGhpcy5faW5wdXRFbHMgPSBbLi4udGhpcy5fZm9ybUVsLnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5faW5wdXRTZWxlY3RvcildO1xuICB9XG5cbiAgX3Nob3dJbnB1dEVycm9yKGlucHV0RWwpIHtcbiAgICBjb25zdCBlcnJvck1lc3NhZ2VFbCA9IHRoaXMuX2Zvcm1FbC5xdWVyeVNlbGVjdG9yKGAjJHtpbnB1dEVsLmlkfS1lcnJvcmApO1xuICAgIGlucHV0RWwuY2xhc3NMaXN0LmFkZCh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xuICAgIGVycm9yTWVzc2FnZUVsLnRleHRDb250ZW50ID0gaW5wdXRFbC52YWxpZGF0aW9uTWVzc2FnZTtcbiAgICBlcnJvck1lc3NhZ2VFbC5jbGFzc0xpc3QuYWRkKHRoaXMuX2Vycm9yQ2xhc3MpO1xuICB9XG5cbiAgX2hpZGVJbnB1dEVycm9yKGlucHV0RWwpIHtcbiAgICBjb25zdCBlcnJvck1lc3NhZ2VFbCA9IHRoaXMuX2Zvcm1FbC5xdWVyeVNlbGVjdG9yKGAjJHtpbnB1dEVsLmlkfS1lcnJvcmApO1xuICAgIGlucHV0RWwuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xuICAgIGVycm9yTWVzc2FnZUVsLnRleHRDb250ZW50ID0gXCJcIjtcbiAgICBlcnJvck1lc3NhZ2VFbC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2Vycm9yQ2xhc3MpO1xuICB9XG5cbiAgX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsKSB7XG4gICAgaWYgKCFpbnB1dEVsLnZhbGlkaXR5LnZhbGlkKSB7XG4gICAgICB0aGlzLl9zaG93SW5wdXRFcnJvcihpbnB1dEVsKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbCk7XG4gICAgfVxuICB9XG5cbiAgX2hhc0ludmFsaWRJbnB1dCgpIHtcbiAgICByZXR1cm4gIXRoaXMuX2lucHV0RWxzLmV2ZXJ5KChpbnB1dEVsKSA9PiBpbnB1dEVsLnZhbGlkaXR5LnZhbGlkKTtcbiAgfVxuXG4gIHRvZ2dsZUJ1dHRvblN0YXRlKCkge1xuICAgIGlmICh0aGlzLl9oYXNJbnZhbGlkSW5wdXQodGhpcy5faW5wdXRFbHMpKSB7XG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b24uY2xhc3NMaXN0LmFkZCh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5fc3VibWl0QnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG4gIH1cblxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5faW5wdXRFbHMuZm9yRWFjaCgoaW5wdXRFbCkgPT4ge1xuICAgICAgaW5wdXRFbC5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKGUpID0+IHtcbiAgICAgICAgdGhpcy5fY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWwpO1xuICAgICAgICB0aGlzLnRvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGVuYWJsZVZhbGlkYXRpb24oKSB7XG4gICAgdGhpcy5fZm9ybUVsLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGUpID0+IHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICB9KTtcblxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgRm9ybVZhbGlkYXRvcjtcbiIsImNsYXNzIFNlY3Rpb24ge1xuICBjb25zdHJ1Y3Rvcih7IGl0ZW1zLCByZW5kZXJlciB9LCBjb250YWluZXJTZWxlY3Rvcikge1xuICAgIHRoaXMuX2l0ZW1zID0gaXRlbXM7XG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcbiAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuJHtjb250YWluZXJTZWxlY3Rvcn1gKTtcbiAgfVxuXG4gIHJlbmRlckl0ZW1zKCkge1xuICAgIHRoaXMuX2l0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcbiAgICAgIHRoaXMuX3JlbmRlcmVyKGl0ZW0pO1xuICAgIH0pO1xuICB9XG5cbiAgYWRkSXRlbShlbGVtZW50KSB7XG4gICAgdGhpcy5fY29udGFpbmVyLnByZXBlbmQoZWxlbWVudCk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgU2VjdGlvbjtcbiIsImNsYXNzIENhcmQge1xuICBjb25zdHJ1Y3RvcihcbiAgICBkYXRhLFxuICAgIGNhcmRTZWxlY3RvcixcbiAgICBoYW5kbGVJbWFnZUNsaWNrLFxuICAgIGhhbmRsZURlbGV0ZUNsaWNrLFxuICAgIGhhbmRsZUxpa2VDbGlja1xuICApIHtcbiAgICB0aGlzLl9uYW1lID0gZGF0YS5uYW1lO1xuICAgIHRoaXMuX2xpbmsgPSBkYXRhLmxpbms7XG4gICAgdGhpcy5faWQgPSBkYXRhLl9pZDtcbiAgICB0aGlzLl9oYW5kbGVJbWFnZUNsaWNrID0gaGFuZGxlSW1hZ2VDbGljaztcbiAgICB0aGlzLl9oYW5kbGVEZWxldGVDbGljayA9IGhhbmRsZURlbGV0ZUNsaWNrO1xuICAgIHRoaXMuX2hhbmRsZUxpa2VDbGljayA9IGhhbmRsZUxpa2VDbGljaztcblxuICAgIHRoaXMuX2NhcmRTZWxlY3RvciA9IGNhcmRTZWxlY3RvcjtcbiAgfVxuXG4gIF9nZXRUZW1wbGF0ZSgpIHtcbiAgICBjb25zdCBjYXJkRWxlbWVudCA9IGRvY3VtZW50XG4gICAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl9jYXJkU2VsZWN0b3IpXG4gICAgICAuY29udGVudC5maXJzdEVsZW1lbnRDaGlsZC5jbG9uZU5vZGUodHJ1ZSk7XG5cbiAgICByZXR1cm4gY2FyZEVsZW1lbnQ7XG4gIH1cblxuICBfaGFuZGxlTGlrZSA9ICgpID0+IHtcbiAgICB0aGlzLl9saWtlQnV0dG9uLmNsYXNzTGlzdC50b2dnbGUoXCJnYWxsZXJ5X19jYXJkLWxpa2VfYWN0aXZlXCIpO1xuICB9O1xuXG4gIGhhbmRsZURlbGV0ZSA9ICgpID0+IHtcbiAgICB0aGlzLl9lbGVtZW50LnJlbW92ZSgpO1xuICB9O1xuXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9saWtlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLl9oYW5kbGVMaWtlKTtcbiAgICAvLyB0aGlzLl9oYW5kbGVMaWtlQ2xpY2suYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuX2hhbmRsZUxpa2UpO1xuICAgIHRoaXMuX2RlbGV0ZUZvcm1CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCB0aGlzLl9oYW5kbGVEZWxldGUpO1xuICAgIHRoaXMuX2NhcmRUcmFzaC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5faGFuZGxlRGVsZXRlQ2xpY2sodGhpcyk7XG4gICAgfSk7XG4gICAgdGhpcy5fY2FyZEltYWdlRWwuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHRoaXMuX2hhbmRsZUltYWdlQ2xpY2soeyBuYW1lOiB0aGlzLl9uYW1lLCBsaW5rOiB0aGlzLl9saW5rIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgZ2VuZXJhdGVDYXJkKCkge1xuICAgIC8vIHNlbGVjdCB0aGUgbGlrZSBidXR0b24sIHNhdmUgdG8gdGhpc1xuICAgIHRoaXMuX2VsZW1lbnQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xuICAgIHRoaXMuX2xpa2VCdXR0b24gPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZ2FsbGVyeV9fY2FyZC1saWtlXCIpO1xuICAgIHRoaXMuX2RlbGV0ZUZvcm1CdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2RlbGV0ZS1jYXJkLWJ1dHRvblwiKTtcbiAgICB0aGlzLl9jYXJkVHJhc2ggPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZ2FsbGVyeV9fY2FyZC10cmFzaFwiKTtcbiAgICB0aGlzLl9jYXJkSW1hZ2VFbCA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5nYWxsZXJ5X19jYXJkLWltYWdlXCIpO1xuXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuICAgIHRoaXMuX2NhcmRJbWFnZUVsLnNyYyA9IHRoaXMuX2xpbms7XG4gICAgdGhpcy5fY2FyZEltYWdlRWwuYWx0ID0gYFBob3RvIG9mICR7dGhpcy5fbmFtZX1gO1xuICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5nYWxsZXJ5X19jYXJkLXRpdGxlXCIpLnRleHRDb250ZW50ID1cbiAgICAgIHRoaXMuX25hbWU7XG5cbiAgICByZXR1cm4gdGhpcy5fZWxlbWVudDtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBDYXJkO1xuIiwiY29uc3QgY29uZmlnID0ge1xuICBpbnB1dFNlbGVjdG9yOiBcIi5tb2RhbF9faW5wdXRcIixcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IFwiLm1vZGFsX19jb250YWluZXItYnV0dG9uXCIsXG4gIGluYWN0aXZlQnV0dG9uQ2xhc3M6IFwibW9kYWxfX2NvbnRhaW5lci1idXR0b25fZGlzYWJsZWRcIixcbiAgaW5wdXRFcnJvckNsYXNzOiBcIm1vZGFsX19pbnB1dC1lcnJvclwiLFxuICBlcnJvckNsYXNzOiBcIm1vZGFsX19pbnB1dC1lcnJvcl92aXNpYmxlXCIsXG59O1xuXG5jb25zdCB2YXJpYWJsZXMgPSB7XG4gIHByb2ZpbGVFZGl0TW9kYWw6IFwiI3Byb2ZpbGVfX2VkaXQtbW9kYWxcIixcbiAgcHJvZmlsZUFkZE1vZGFsOiBcIiNwcm9maWxlX19hZGQtbW9kYWxcIixcbiAgcHJvZmlsZUVkaXRGb3JtOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2VkaXQtY2FyZC1mb3JtXCIpLFxuICBwcm9maWxlQWRkRm9ybTogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNhZGQtY2FyZC1mb3JtXCIpLFxuICBuYW1lSW5wdXQ6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvZmlsZS1uYW1lLWlucHV0XCIpLFxuICBkZXNjcmlwdGlvbklucHV0OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2ZpbGUtZGVzY3JpcHRpb24taW5wdXRcIiksXG4gIGF2YXRhcklucHV0OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2F2YXRhci11cmwtaW5wdXRcIiksXG4gIGF2YXRhckltYWdlOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2F2YXRhclwiKSxcbiAgYXZhdGFySWNvblNlbGVjdG9yOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2ljb25cIiksXG4gIGF2YXRhck1vZGFsOiBcIiNhdmF0YXItbW9kYWxcIixcbiAgYXZhdGFyTW9kYWxCdXR0b246IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYXZhdGFyLW1vZGFsLWJ1dHRvblwiKSxcbiAgYWRkQ2FyZENsYXNzOiBcIiNwcm9maWxlX19hZGQtbW9kYWxcIixcbiAgYWRkTW9kYWxCdXR0b246IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYWRkLWJ1dHRvblwiKSxcbiAgZWRpdENhcmRDbGFzczogXCIjcHJvZmlsZV9fZWRpdC1tb2RhbFwiLFxuICBkZWxldGVDYXJkQ2xhc3M6IFwiI2RlbGV0ZS1tb2RhbFwiLFxuICBkZWxldGVDYXJkQnV0dG9uU2VsZWN0b3I6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZ2FsbGVyeV9fY2FyZC10cmFzaFwiKSxcbiAgZWRpdE1vZGFsQnV0dG9uOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2VkaXQtYnV0dG9uXCIpLFxuICBwcm9maWxlRWRpdEJ1dHRvblNlbGVjdG9yOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2ZpbGVfX2VkaXQtYnV0dG9uXCIpLFxuICBwcm9maWxlQWRkQnV0dG9uU2VsZWN0b3I6IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYWRkLWJ1dHRvblwiKSxcbn07XG5cbmV4cG9ydCB7IGNvbmZpZywgdmFyaWFibGVzIH07XG4iLCJpbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzXCI7XG5cbmltcG9ydCBQb3B1cFdpdGhJbWFnZSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdJdGhJbWFnZS5qc1wiO1xuXG5pbXBvcnQgUG9wdXBXaXRoRGVsZXRlIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aERlbGV0ZS5qc1wiO1xuXG5pbXBvcnQgRm9ybVZhbGlkYXRvciBmcm9tIFwiLi4vY29tcG9uZW50cy9Gb3JtVmFsaWRhdG9yLmpzXCI7XG5cbmltcG9ydCBVc2VySW5mbyBmcm9tIFwiLi4vY29tcG9uZW50cy9Vc2VySW5mby5qc1wiO1xuXG5pbXBvcnQgU2VjdGlvbiBmcm9tIFwiLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzXCI7XG5cbmltcG9ydCBDYXJkIGZyb20gXCIuLi9jb21wb25lbnRzL0NhcmQuanNcIjtcblxuaW1wb3J0IEFwaSBmcm9tIFwiLi4vY29tcG9uZW50cy9BcGkuanNcIjtcblxuaW1wb3J0IFwiLi9pbmRleC5jc3NcIjtcblxuaW1wb3J0IHsgY29uZmlnLCB2YXJpYWJsZXMgfSBmcm9tIFwiLi4vdXRpbHMvY29uc3RhbnRzLmpzXCI7XG5cbi8vIEFQSVxuXG5jb25zdCBhcGkgPSBuZXcgQXBpKHtcbiAgYmFzZVVybDogXCJodHRwczovL2Fyb3VuZC1hcGkuZW4udHJpcGxldGVuLXNlcnZpY2VzLmNvbS92MVwiLFxuICBoZWFkZXJzOiB7XG4gICAgYXV0aG9yaXphdGlvbjogXCJlYmZiZTU4MC01OWU4LTQ2MjMtOWQxZS01ZWRmMTQ2MDgyNzlcIixcbiAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgfSxcbn0pO1xuXG4vLyBTRUNUSU9OXG5cbmxldCBzZWN0aW9uO1xuXG5hcGlcbiAgLmdldEluaXRpYWxDYXJkcygpXG4gIC50aGVuKChyZXMpID0+IHtcbiAgICBzZWN0aW9uID0gbmV3IFNlY3Rpb24oXG4gICAgICB7XG4gICAgICAgIGl0ZW1zOiByZXMsXG4gICAgICAgIHJlbmRlcmVyOiAoY2FyZERhdGEpID0+IHtcbiAgICAgICAgICBjcmVhdGVDYXJkKGNhcmREYXRhKTtcbiAgICAgICAgfSxcbiAgICAgIH0sXG4gICAgICBcImdhbGxlcnlfX2NhcmRzXCJcbiAgICApO1xuICAgIHNlY3Rpb24ucmVuZGVySXRlbXMoKTtcbiAgICBjb25zb2xlLmxvZyhyZXMpO1xuICB9KVxuICAuY2F0Y2goY29uc29sZS5lcnJvcik7XG5cbmFwaVxuICAubG9hZEluZm8oKVxuICAudGhlbigocmVzKSA9PiB7XG4gICAgY29uc29sZS5sb2cocmVzKTtcbiAgfSlcbiAgLmNhdGNoKGNvbnNvbGUuZXJyb3IpO1xuXG4vLyBQT1BVUCBXSVRIIElNQUdFXG5cbmNvbnN0IHBvcHVwV2l0aEltYWdlID0gbmV3IFBvcHVwV2l0aEltYWdlKFwiI3BpY3R1cmUtbW9kYWxcIik7XG5cbnBvcHVwV2l0aEltYWdlLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbi8vIFNBVkUgQlVUVE9OIFRFWFQgQ0hBTkdFIEZVTkNUSU9OIEZPUiBGT1JNU1xuXG5mdW5jdGlvbiBzZXRCdXR0b25UZXh0KGJ1dHRpbiwgdGV4dCkge1xuICBidXR0aW4udGV4dENvbnRlbnQgPSB0ZXh0O1xufVxuXG4vLyBDQVJEXG5cbmZ1bmN0aW9uIGhhbmRsZUltYWdlQ2xpY2soY2FyZERhdGEpIHtcbiAgcG9wdXBXaXRoSW1hZ2Uub3BlbihjYXJkRGF0YSk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUNhcmQoY2FyZERhdGEpIHtcbiAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKFxuICAgIGNhcmREYXRhLFxuICAgIFwiI2NhcmQtdGVtcGxhdGVcIixcbiAgICBoYW5kbGVJbWFnZUNsaWNrLFxuICAgIGhhbmRsZURlbGV0ZUNsaWNrLFxuICAgIGhhbmRsZUxpa2VDbGlja1xuICApO1xuICAvLyBjYXJkLmhhbmRsZURlbGV0ZSgpO1xuICBzZWN0aW9uLmFkZEl0ZW0oY2FyZC5nZW5lcmF0ZUNhcmQoKSk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZUFkZENhcmRTdWJtaXQoaW5wdXRWYWx1ZXMpIHtcbiAgc2V0QnV0dG9uVGV4dCh2YXJpYWJsZXMuYWRkTW9kYWxCdXR0b24sIFwiU2F2aW5nLi4uXCIpO1xuICBhcGkuYWRkTmV3Q2FyZChpbnB1dFZhbHVlcykudGhlbigocmVzKSA9PiB7XG4gICAgY29uc29sZS5sb2cocmVzKTtcbiAgICAvLyBjcmVhdGUgYSBuZXcgY2FyZFxuICAgIGNyZWF0ZUNhcmQoaW5wdXRWYWx1ZXMpO1xuICAgIC8vIHJlbmRlciBpdFxuICAgIHZhcmlhYmxlcy5wcm9maWxlQWRkRm9ybS5yZXNldCgpO1xuICAgIC8vIHRvZ2dsZSBidXR0b24gc3RhdGVcbiAgICBhZGRGb3JtVmFsaWRhdG9yLnRvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gICAgLy8gY2xvc2UgbW9kYWxcbiAgICBzZXRCdXR0b25UZXh0KHZhcmlhYmxlcy5hZGRNb2RhbEJ1dHRvbiwgXCJTYXZlXCIpO1xuICB9KTtcbiAgYWRkUG9wdXAuY2xvc2UoKTtcbn1cblxuLy8gSEFORExFIERFTEVURSBNT0RBTFxuXG5jb25zdCBkZWxldGVNb2RhbCA9IG5ldyBQb3B1cFdpdGhEZWxldGUodmFyaWFibGVzLmRlbGV0ZUNhcmRDbGFzcyk7XG5kZWxldGVNb2RhbC5zZXRFdmVudExpc3RlbmVycygpO1xuXG5mdW5jdGlvbiBoYW5kbGVEZWxldGVDbGljayhjYXJkSWQpIHtcbiAgLy8gb3BlbiB0aGUgbW9kYWxcbiAgZGVsZXRlTW9kYWwub3BlbigpO1xuICAvLyBzZXQgdGhlIHN1Ym1pdCBhY3Rpb25cbiAgZGVsZXRlTW9kYWwuc2V0U3VibWl0QWN0aW9uKCgpID0+IHtcbiAgICBhcGlcbiAgICAgIC5kZWxldGVDYXJkKGNhcmRJZClcbiAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgZGVsZXRlTW9kYWwuY2xvc2UoKTtcbiAgICAgICAgY2FyZC5oYW5kbGVEZWxldGUoKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goY29uc29sZS5lcnJvcik7XG4gIH0pO1xufVxuXG4vLyBDQVJEIExJS0VcblxuZnVuY3Rpb24gaGFuZGxlTGlrZUNsaWNrKGNhcmQpIHtcbiAgYXBpXG4gICAgLnVwZGF0ZUxpa2UoY2FyZC5faWQsIGlzTGlrZWQpXG4gICAgLnRoZW4oKCkgPT4ge1xuICAgICAgY2FyZC5oYW5kbGVMaWtlKCk7XG4gICAgfSlcbiAgICAuY2F0Y2goY29uc29sZS5lcnJvcik7XG4gIC8vIGhhbmRsZSBjaGFuZ2luZyB0aGUgYnV0dG9uJ3Mgc3RhdGUgaW4gYSAudGhlbiBhZnRlciB0aGUgc3VjY2Vzc2Z1bCByZXNwb25zZVxufVxuXG4vLyBGT1JNIFZBTElEQVRPUlxuXG5jb25zdCBhZGRGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoY29uZmlnLCB2YXJpYWJsZXMucHJvZmlsZUFkZE1vZGFsKTtcbmFkZEZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xuXG5jb25zdCBlZGl0Rm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKGNvbmZpZywgdmFyaWFibGVzLnByb2ZpbGVFZGl0TW9kYWwpO1xuZWRpdEZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xuXG5jb25zdCBhdmF0YXJGb3JtVmFsaWRhdG9yID0gbmV3IEZvcm1WYWxpZGF0b3IoY29uZmlnLCB2YXJpYWJsZXMuYXZhdGFyTW9kYWwpO1xuYXZhdGFyRm9ybVZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XG5cbi8vIFBPUFVQIFdJVEggRk9STSAtIEFERCBGT1JNXG5cbmNvbnN0IGFkZFBvcHVwID0gbmV3IFBvcHVwV2l0aEZvcm0odmFyaWFibGVzLmFkZENhcmRDbGFzcywgaGFuZGxlQWRkQ2FyZFN1Ym1pdCk7XG5cbmZ1bmN0aW9uIG9wZW5BZGRGb3JtKCkge1xuICBhZGRQb3B1cC5vcGVuKCk7XG59XG5cbmFkZFBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbnZhcmlhYmxlcy5wcm9maWxlQWRkQnV0dG9uU2VsZWN0b3IuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+XG4gIG9wZW5BZGRGb3JtKClcbik7XG5cbi8vIFBPUFVQIFdJVEggRk9STSAtIEVESVQgRk9STVxuXG5jb25zdCBlZGl0UG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybShcbiAgdmFyaWFibGVzLmVkaXRDYXJkQ2xhc3MsXG4gIGhhbmRsZUVkaXRGb3JtU3VibWl0XG4pO1xuXG5mdW5jdGlvbiBvcGVuRWRpdEZvcm0oKSB7XG4gIGNvbnN0IHVzZXIgPSB1c2VyaW5mby5nZXRVc2VySW5mbygpO1xuICB2YXJpYWJsZXMubmFtZUlucHV0LnZhbHVlID0gdXNlci5uYW1lO1xuICB2YXJpYWJsZXMuZGVzY3JpcHRpb25JbnB1dC52YWx1ZSA9IHVzZXIuZGVzY3JpcHRpb247XG4gIGVkaXRQb3B1cC5vcGVuKCk7XG59XG5cbmVkaXRQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xuXG52YXJpYWJsZXMucHJvZmlsZUVkaXRCdXR0b25TZWxlY3Rvci5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBvcGVuRWRpdEZvcm0oKTtcbn0pO1xuXG4vLyBQT1BVUCBXSVRIIEZPUk0gLSBBVkFUQVIgRk9STVxuXG5jb25zdCBhdmF0YXJNb2RhbCA9IG5ldyBQb3B1cFdpdGhGb3JtKFxuICB2YXJpYWJsZXMuYXZhdGFyTW9kYWwsXG4gIGhhbmRsZUF2YXRhckZvcm1TdWJtaXRcbik7XG5hdmF0YXJNb2RhbC5zZXRFdmVudExpc3RlbmVycygpO1xuXG5mdW5jdGlvbiBvcGVuQXZhdGFyRm9ybSgpIHtcbiAgYXZhdGFyTW9kYWwub3BlbigpO1xufVxuXG52YXJpYWJsZXMuYXZhdGFySWNvblNlbGVjdG9yLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gIG9wZW5BdmF0YXJGb3JtKCk7XG59KTtcblxuLy8gZnVuY3Rpb24gc2V0QnV0dG9uVGV4dChidXR0aW4sIHRleHQpIHtcbi8vICAgYnV0dGluLnRleHRDb250ZW50ID0gdGV4dDtcbi8vIH1cblxuZnVuY3Rpb24gaGFuZGxlQXZhdGFyRm9ybVN1Ym1pdChpbnB1dFZhbHVlcykge1xuICBzZXRCdXR0b25UZXh0KHZhcmlhYmxlcy5hdmF0YXJNb2RhbEJ1dHRvbiwgXCJTYXZpbmcuLi5cIik7XG4gIGFwaVxuICAgIC51cGRhdGVBdmF0YXIoaW5wdXRWYWx1ZXMubGluaylcbiAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICB2YXJpYWJsZXMuYXZhdGFySW1hZ2Uuc3JjID0gaW5wdXRWYWx1ZXMubGluaztcbiAgICAgIGNvbnNvbGUubG9nKHJlcyk7XG4gICAgfSlcbiAgICAuY2F0Y2goY29uc29sZS5lcnJvcilcbiAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICBzZXRCdXR0b25UZXh0KHZhcmlhYmxlcy5hdmF0YXJNb2RhbEJ1dHRvbiwgXCJTYXZlXCIpO1xuICAgIH0pO1xuICBhdmF0YXJNb2RhbC5jbG9zZSgpO1xufVxuXG4vLyBVU0VSIElORk9cblxuY29uc3QgdXNlcmluZm8gPSBuZXcgVXNlckluZm8oXCIucHJvZmlsZV9fdGl0bGVcIiwgXCIucHJvZmlsZV9fZGVzY3JpcHRpb25cIik7XG5cbmZ1bmN0aW9uIGhhbmRsZUVkaXRGb3JtU3VibWl0KGlucHV0VmFsdWVzKSB7XG4gIHNldEJ1dHRvblRleHQodmFyaWFibGVzLmVkaXRNb2RhbEJ1dHRvbiwgXCJTYXZpbmcuLi5cIik7XG4gIGFwaVxuICAgIC5lZGl0UHJvZmlsZSgpXG4gICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgdXNlcmluZm8uc2V0VXNlckluZm8oaW5wdXRWYWx1ZXMubmFtZSwgaW5wdXRWYWx1ZXMuZGVzY3JpcHRpb24pO1xuICAgICAgY29uc29sZS5sb2cocmVzKTtcbiAgICB9KVxuICAgIC5jYXRjaChjb25zb2xlLmVycm9yKVxuICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgIHNldEJ1dHRvblRleHQodmFyaWFibGVzLmVkaXRNb2RhbEJ1dHRvbiwgXCJTYXZlXCIpO1xuICAgIH0pO1xuICBlZGl0UG9wdXAuY2xvc2UoKTtcbn1cbiIsImNsYXNzIEFwaSB7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAvLyBjb25zdHJ1Y3RvciBib2R5XG4gICAgdGhpcy5faGVhZGVycyA9IG9wdGlvbnMuaGVhZGVycztcbiAgfVxuXG4gIGdldEluaXRpYWxDYXJkcygpIHtcbiAgICByZXR1cm4gZmV0Y2goXCJodHRwczovL2Fyb3VuZC1hcGkuZW4udHJpcGxldGVuLXNlcnZpY2VzLmNvbS92MS9jYXJkc1wiLCB7XG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIGF1dGhvcml6YXRpb246IFwiZWJmYmU1ODAtNTllOC00NjIzLTlkMWUtNWVkZjE0NjA4Mjc5XCIsXG4gICAgICB9LFxuICAgIH0pLnRoZW4oKHJlcykgPT4ge1xuICAgICAgaWYgKHJlcy5vaykge1xuICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICAgIH1cbiAgICAgIC8vIGlmIHRoZSBzZXJ2ZXIgcmV0dXJucyBhbiBlcnJvciwgcmVqZWN0IHRoZSBwcm9taXNlXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YCk7XG4gICAgfSk7XG4gIH1cblxuICAvLyBvdGhlciBtZXRob2RzIGZvciB3b3JraW5nIHdpdGggdGhlIEFQSVxuXG4gIGxvYWRJbmZvKCkge1xuICAgIHJldHVybiBmZXRjaChcImh0dHBzOi8vYXJvdW5kLWFwaS5lbi50cmlwbGV0ZW4tc2VydmljZXMuY29tL3YxL3VzZXJzL21lXCIsIHtcbiAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgIGF2YXRhcjpcbiAgICAgICAgXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL2Zyb250ZW5kLWRldmVsb3Blci9tb3ZlZF9hdmF0YXIuanBnXCIsXG4gICAgICBfaWQ6IFwiZTIwNTM3ZWQxMTIzN2Y4NmJiYjIwY2NiXCIsXG4gICAgICBjb2hvcnQ6IFwiZ3JvdXAtNDJcIixcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgYXV0aG9yaXphdGlvbjogXCJlYmZiZTU4MC01OWU4LTQ2MjMtOWQxZS01ZWRmMTQ2MDgyNzlcIixcbiAgICAgIH0sXG4gICAgfSlcbiAgICAgIC50aGVuKChyZXMpID0+IHJlcy5qc29uKCkpXG4gICAgICAudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdCk7XG4gICAgICB9KTtcbiAgfVxuXG4gIGVkaXRQcm9maWxlKCkge1xuICAgIHJldHVybiBmZXRjaChcImh0dHBzOi8vYXJvdW5kLWFwaS5lbi50cmlwbGV0ZW4tc2VydmljZXMuY29tL3YxL3VzZXJzL21lXCIsIHtcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICBhdXRob3JpemF0aW9uOiBcImViZmJlNTgwLTU5ZTgtNDYyMy05ZDFlLTVlZGYxNDYwODI3OVwiLFxuICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgIH0sXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIG5hbWU6IFwiSmFjcXVlcyBDb3VzdGVhdVwiLFxuICAgICAgICBhYm91dDogXCJTYWlsb3IsIHJlc2VhcmNoZXJcIixcbiAgICAgIH0pLFxuICAgIH0pLnRoZW4oKHJlcykgPT4ge1xuICAgICAgaWYgKHJlcy5vaykge1xuICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICAgIH1cbiAgICAgIC8vIGlmIHRoZSBzZXJ2ZXIgcmV0dXJucyBhbiBlcnJvciwgcmVqZWN0IHRoZSBwcm9taXNlXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YCk7XG4gICAgfSk7XG4gIH1cblxuICAvLyBwYXNzIG5hbWUgYW5kIGxpbmsgYXMgYXJndW1lbnRcbiAgYWRkTmV3Q2FyZChkYXRhKSB7XG4gICAgcmV0dXJuIGZldGNoKFwiaHR0cHM6Ly9hcm91bmQtYXBpLmVuLnRyaXBsZXRlbi1zZXJ2aWNlcy5jb20vdjEvY2FyZHNcIiwge1xuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgYXV0aG9yaXphdGlvbjogXCJlYmZiZTU4MC01OWU4LTQ2MjMtOWQxZS01ZWRmMTQ2MDgyNzlcIixcbiAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICB9LFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBuYW1lOiBkYXRhLm5hbWUsXG4gICAgICAgIGxpbms6IGRhdGEubGluayxcbiAgICAgIH0pLFxuICAgIH0pLnRoZW4oKHJlcykgPT4ge1xuICAgICAgaWYgKHJlcy5vaykge1xuICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICAgIH1cbiAgICAgIC8vIGlmIHRoZSBzZXJ2ZXIgcmV0dXJucyBhbiBlcnJvciwgcmVqZWN0IHRoZSBwcm9taXNlXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YCk7XG4gICAgfSk7XG4gIH1cblxuICBkZWxldGVDYXJkKGNhcmRJZCkge1xuICAgIHJldHVybiBmZXRjaChcbiAgICAgIFwiaHR0cHM6Ly9hcm91bmQtYXBpLmVuLnRyaXBsZXRlbi1zZXJ2aWNlcy5jb20vdjEvY2FyZHMvY2FyZElkXCIsXG4gICAgICB7XG4gICAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgIGF1dGhvcml6YXRpb246IFwiZWJmYmU1ODAtNTllOC00NjIzLTlkMWUtNWVkZjE0NjA4Mjc5XCIsXG4gICAgICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICBpc0xpa2VkOiBmYWxzZSxcbiAgICAgICAgICBfaWQ6IGNhcmRJZCxcbiAgICAgICAgfSksXG4gICAgICB9XG4gICAgKS50aGVuKChyZXMpID0+IHtcbiAgICAgIGlmIChyZXMub2spIHtcbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XG4gICAgICB9XG4gICAgICAvLyBpZiB0aGUgc2VydmVyIHJldHVybnMgYW4gZXJyb3IsIHJlamVjdCB0aGUgcHJvbWlzZVxuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApO1xuICAgIH0pO1xuICB9XG5cbiAgdXBkYXRlTGlrZShjYXJkSWQsIGlzTGlrZWQpIHtcbiAgICByZXR1cm4gZmV0Y2goXG4gICAgICBgaHR0cHM6Ly9hcm91bmQtYXBpLmVuLnRyaXBsZXRlbi1zZXJ2aWNlcy5jb20vdjEvY2FyZHMvJHtjYXJkSWR9L2xpa2VzYCxcbiAgICAgIHtcbiAgICAgICAgbWV0aG9kOiBpc0xpa2VkID8gXCJERUxFVEVcIiA6IFwiUFVUXCIsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICBhdXRob3JpemF0aW9uOiBcImViZmJlNTgwLTU5ZTgtNDYyMy05ZDFlLTVlZGYxNDYwODI3OVwiLFxuICAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgICB9LFxuICAgICAgfVxuICAgICkudGhlbigocmVzKSA9PiB7XG4gICAgICBpZiAocmVzLm9rKSB7XG4gICAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgICAgfVxuICAgICAgLy8gaWYgdGhlIHNlcnZlciByZXR1cm5zIGFuIGVycm9yLCByZWplY3QgdGhlIHByb21pc2VcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcbiAgICB9KTtcbiAgfVxuXG4gIHVwZGF0ZUF2YXRhcihsaW5rKSB7XG4gICAgcmV0dXJuIGZldGNoKFxuICAgICAgYGh0dHBzOi8vYXJvdW5kLWFwaS5lbi50cmlwbGV0ZW4tc2VydmljZXMuY29tL3YxL3VzZXJzL21lL2F2YXRhcmAsXG4gICAgICB7XG4gICAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgYXV0aG9yaXphdGlvbjogXCJlYmZiZTU4MC01OWU4LTQ2MjMtOWQxZS01ZWRmMTQ2MDgyNzlcIixcbiAgICAgICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgIGF2YXRhcjogbGluayxcbiAgICAgICAgfSksXG4gICAgICB9XG4gICAgKS50aGVuKChyZXMpID0+IHtcbiAgICAgIGlmIChyZXMub2spIHtcbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XG4gICAgICB9XG4gICAgICAvLyBpZiB0aGUgc2VydmVyIHJldHVybnMgYW4gZXJyb3IsIHJlamVjdCB0aGUgcHJvbWlzZVxuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApO1xuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEFwaTtcbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xuICAgIHN1cGVyKHsgcG9wdXBTZWxlY3RvciB9KTtcbiAgICB0aGlzLl9pbWFnZSA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19waWN0dXJlLXNyY1wiKTtcbiAgICB0aGlzLl90aXRsZSA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19waWN0dXJlLXRpdGxlXCIpO1xuICB9XG5cbiAgb3Blbih7IGxpbmssIG5hbWUgfSkge1xuICAgIHRoaXMuX2ltYWdlLnNyYyA9IGxpbms7XG4gICAgdGhpcy5faW1hZ2UuYWx0ID0gYEEgcGhvdG8gb2YgJHtuYW1lfWA7XG4gICAgdGhpcy5fdGl0bGUudGV4dENvbnRlbnQgPSBgJHtuYW1lfWA7XG4gICAgc3VwZXIub3BlbigpO1xuICB9XG59XG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRGVsZXRlIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XG4gICAgc3VwZXIoeyBwb3B1cFNlbGVjdG9yIH0pO1xuICAgIHRoaXMuX2Zvcm1FbCA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19mb3JtXCIpO1xuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fZm9ybUVsLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGUpID0+IHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQoKTtcbiAgICB9KTtcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xuICB9XG5cbiAgc2V0U3VibWl0QWN0aW9uKGhhbmRsZUZvcm1TdWJtaXQpIHtcbiAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0ID0gaGFuZGxlRm9ybVN1Ym1pdDtcbiAgfVxufVxuIiwiY2xhc3MgVXNlckluZm8ge1xuICBjb25zdHJ1Y3Rvcih1c2VyTmFtZVNlbGVjdG9yLCB1c2VyRGVzY3JpcHRpb25TZWxlY3Rvcikge1xuICAgIHRoaXMuX3VzZXJOYW1lRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodXNlck5hbWVTZWxlY3Rvcik7XG4gICAgdGhpcy5fdXNlckRlc2NyaXB0aW9uRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXG4gICAgICB1c2VyRGVzY3JpcHRpb25TZWxlY3RvclxuICAgICk7XG4gIH1cblxuICBnZXRVc2VySW5mbygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbmFtZTogdGhpcy5fdXNlck5hbWVFbGVtZW50LnRleHRDb250ZW50LFxuICAgICAgZGVzY3JpcHRpb246IHRoaXMuX3VzZXJEZXNjcmlwdGlvbkVsZW1lbnQudGV4dENvbnRlbnQsXG4gICAgfTtcbiAgfVxuXG4gIHNldFVzZXJJbmZvKG5hbWUsIGRlc2NyaXB0aW9uKSB7XG4gICAgdGhpcy5fdXNlck5hbWVFbGVtZW50LnRleHRDb250ZW50ID0gbmFtZTtcbiAgICB0aGlzLl91c2VyRGVzY3JpcHRpb25FbGVtZW50LnRleHRDb250ZW50ID0gZGVzY3JpcHRpb247XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgVXNlckluZm87XG4iXSwibmFtZXMiOlsiY29uc3RydWN0b3IiLCJfcmVmIiwicG9wdXBTZWxlY3RvciIsInRoaXMiLCJfcG9wdXBFbGVtZW50IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwib3BlbiIsImNsYXNzTGlzdCIsImFkZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJfaGFuZGxlRXNjQ2xvc2UiLCJjbG9zZSIsInJlbW92ZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJldnQiLCJrZXkiLCJzZXRFdmVudExpc3RlbmVycyIsInRhcmdldCIsImNvbnRhaW5zIiwiUG9wdXAiLCJoYW5kbGVGb3JtU3VibWl0Iiwic3VwZXIiLCJfZm9ybSIsIl9oYW5kbGVGb3JtU3VibWl0IiwiX2lucHV0RWxzIiwicXVlcnlTZWxlY3RvckFsbCIsIl9nZXRJbnB1dFZhbHVlcyIsImlucHV0VmFsdWVzIiwiZm9yRWFjaCIsImlucHV0RWwiLCJuYW1lIiwidmFsdWUiLCJjb25maWciLCJmb3JtU2VsZWN0b3IiLCJfaW5wdXRTZWxlY3RvciIsImlucHV0U2VsZWN0b3IiLCJfc3VibWl0QnV0dG9uU2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsIl9pbmFjdGl2ZUJ1dHRvbkNsYXNzIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsIl9pbnB1dEVycm9yQ2xhc3MiLCJpbnB1dEVycm9yQ2xhc3MiLCJfZXJyb3JDbGFzcyIsImVycm9yQ2xhc3MiLCJfZm9ybUVsIiwiX3N1Ym1pdEJ1dHRvbiIsIl9zaG93SW5wdXRFcnJvciIsImVycm9yTWVzc2FnZUVsIiwiaWQiLCJ0ZXh0Q29udGVudCIsInZhbGlkYXRpb25NZXNzYWdlIiwiX2hpZGVJbnB1dEVycm9yIiwiX2NoZWNrSW5wdXRWYWxpZGl0eSIsInZhbGlkaXR5IiwidmFsaWQiLCJfaGFzSW52YWxpZElucHV0IiwiZXZlcnkiLCJ0b2dnbGVCdXR0b25TdGF0ZSIsImRpc2FibGVkIiwiX3NldEV2ZW50TGlzdGVuZXJzIiwiZSIsImVuYWJsZVZhbGlkYXRpb24iLCJwcmV2ZW50RGVmYXVsdCIsImNvbnRhaW5lclNlbGVjdG9yIiwiaXRlbXMiLCJyZW5kZXJlciIsIl9pdGVtcyIsIl9yZW5kZXJlciIsIl9jb250YWluZXIiLCJyZW5kZXJJdGVtcyIsIml0ZW0iLCJhZGRJdGVtIiwiZWxlbWVudCIsInByZXBlbmQiLCJkYXRhIiwiY2FyZFNlbGVjdG9yIiwiaGFuZGxlSW1hZ2VDbGljayIsImhhbmRsZURlbGV0ZUNsaWNrIiwiaGFuZGxlTGlrZUNsaWNrIiwiX25hbWUiLCJfbGluayIsImxpbmsiLCJfaWQiLCJfaGFuZGxlSW1hZ2VDbGljayIsIl9oYW5kbGVEZWxldGVDbGljayIsIl9oYW5kbGVMaWtlQ2xpY2siLCJfY2FyZFNlbGVjdG9yIiwiX2dldFRlbXBsYXRlIiwiY29udGVudCIsImZpcnN0RWxlbWVudENoaWxkIiwiY2xvbmVOb2RlIiwiX2hhbmRsZUxpa2UiLCJfbGlrZUJ1dHRvbiIsInRvZ2dsZSIsImhhbmRsZURlbGV0ZSIsIl9lbGVtZW50IiwiX2RlbGV0ZUZvcm1CdXR0b24iLCJfaGFuZGxlRGVsZXRlIiwiX2NhcmRUcmFzaCIsIl9jYXJkSW1hZ2VFbCIsImdlbmVyYXRlQ2FyZCIsInNyYyIsImFsdCIsInZhcmlhYmxlcyIsInByb2ZpbGVFZGl0TW9kYWwiLCJwcm9maWxlQWRkTW9kYWwiLCJwcm9maWxlRWRpdEZvcm0iLCJwcm9maWxlQWRkRm9ybSIsIm5hbWVJbnB1dCIsImRlc2NyaXB0aW9uSW5wdXQiLCJhdmF0YXJJbnB1dCIsImF2YXRhckltYWdlIiwiYXZhdGFySWNvblNlbGVjdG9yIiwiYXZhdGFyTW9kYWwiLCJhdmF0YXJNb2RhbEJ1dHRvbiIsImFkZENhcmRDbGFzcyIsImFkZE1vZGFsQnV0dG9uIiwiZWRpdENhcmRDbGFzcyIsImRlbGV0ZUNhcmRDbGFzcyIsImRlbGV0ZUNhcmRCdXR0b25TZWxlY3RvciIsImVkaXRNb2RhbEJ1dHRvbiIsInByb2ZpbGVFZGl0QnV0dG9uU2VsZWN0b3IiLCJwcm9maWxlQWRkQnV0dG9uU2VsZWN0b3IiLCJhcGkiLCJvcHRpb25zIiwiX2hlYWRlcnMiLCJoZWFkZXJzIiwiZ2V0SW5pdGlhbENhcmRzIiwiZmV0Y2giLCJhdXRob3JpemF0aW9uIiwidGhlbiIsInJlcyIsIm9rIiwianNvbiIsIlByb21pc2UiLCJyZWplY3QiLCJzdGF0dXMiLCJsb2FkSW5mbyIsIm1ldGhvZCIsImF2YXRhciIsImNvaG9ydCIsInJlc3VsdCIsImNvbnNvbGUiLCJsb2ciLCJlZGl0UHJvZmlsZSIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiYWJvdXQiLCJhZGROZXdDYXJkIiwiZGVsZXRlQ2FyZCIsImNhcmRJZCIsImlzTGlrZWQiLCJ1cGRhdGVMaWtlIiwidXBkYXRlQXZhdGFyIiwiYmFzZVVybCIsInNlY3Rpb24iLCJTZWN0aW9uIiwiY2FyZERhdGEiLCJjcmVhdGVDYXJkIiwiY2F0Y2giLCJlcnJvciIsInBvcHVwV2l0aEltYWdlIiwiX2ltYWdlIiwiX3RpdGxlIiwic2V0QnV0dG9uVGV4dCIsImJ1dHRpbiIsInRleHQiLCJjYXJkIiwiQ2FyZCIsImRlbGV0ZU1vZGFsIiwic2V0U3VibWl0QWN0aW9uIiwiaGFuZGxlTGlrZSIsImFkZEZvcm1WYWxpZGF0b3IiLCJGb3JtVmFsaWRhdG9yIiwiYWRkUG9wdXAiLCJQb3B1cFdpdGhGb3JtIiwicmVzZXQiLCJlZGl0UG9wdXAiLCJ1c2VyaW5mbyIsInNldFVzZXJJbmZvIiwiZGVzY3JpcHRpb24iLCJmaW5hbGx5IiwidXNlciIsImdldFVzZXJJbmZvIiwib3BlbkVkaXRGb3JtIiwidXNlck5hbWVTZWxlY3RvciIsInVzZXJEZXNjcmlwdGlvblNlbGVjdG9yIiwiX3VzZXJOYW1lRWxlbWVudCIsIl91c2VyRGVzY3JpcHRpb25FbGVtZW50Il0sInNvdXJjZVJvb3QiOiIifQ==