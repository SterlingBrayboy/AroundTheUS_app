!function(){"use strict";var e=class{constructor(e){let{popupSelector:t}=e;this._popupElement=document.querySelector(t)}open(){this._popupElement.classList.add("modal_opened"),document.addEventListener("keyup",this._handleEscClose)}close(){this._popupElement.classList.remove("modal_opened"),document.removeEventListener("keyup",this._handleEscClose)}_handleEscClose=e=>{"Escape"===e.key&&this.close()};setEventListeners(){this._popupElement.addEventListener("click",(e=>{(e.target.classList.contains("modal")||e.target.classList.contains("modal__close"))&&this.close()}))}},t=class extends e{constructor(e,t){super({popupSelector:e}),this._form=this._popupElement.querySelector(".modal__form"),this._handleFormSubmit=t,this._inputEls=[...this._form.querySelectorAll(".modal__input")]}setEventListeners(){this._popupElement.addEventListener("submit",(()=>{this._handleFormSubmit(this._getInputValues())})),super.setEventListeners()}_getInputValues(){const e={};return this._inputEls.forEach((t=>{e[t.name]=t.value})),e}},s=class{constructor(e,t){this._inputSelector=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass,this._formEl=document.querySelector(t),this._submitButton=this._formEl.querySelector(this._submitButtonSelector),this._inputEls=[...this._formEl.querySelectorAll(this._inputSelector)]}_showInputError(e){const t=this._formEl.querySelector(`#${e.id}-error`);e.classList.add(this._inputErrorClass),t.textContent=e.validationMessage,t.classList.add(this._errorClass)}_hideInputError(e){const t=this._formEl.querySelector(`#${e.id}-error`);e.classList.remove(this._inputErrorClass),t.textContent="",t.classList.remove(this._errorClass)}_checkInputValidity(e){e.validity.valid?this._hideInputError(e):this._showInputError(e)}_hasInvalidInput(){return!this._inputEls.every((e=>e.validity.valid))}toggleButtonState(){if(this._hasInvalidInput(this._inputEls))return this._submitButton.classList.add(this._inactiveButtonClass),void(this._submitButton.disabled=!0);this._submitButton.classList.remove(this._inactiveButtonClass),this._submitButton.disabled=!1}_setEventListeners(){this._inputEls.forEach((e=>{e.addEventListener("input",(t=>{this._checkInputValidity(e),this.toggleButtonState()}))}))}enableValidation(){this._formEl.addEventListener("submit",(e=>{e.preventDefault()})),this._setEventListeners()}},r=class{constructor(e,t){let{items:s,renderer:r}=e;this._items=s,this._renderer=r,this._container=document.querySelector(`.${t}`)}renderItems(){this._items.forEach((e=>{this._renderer(e)}))}addItem(e){this._container.prepend(e)}},n=class{constructor(e,t,s,r,n){this._name=e.name,this._link=e.link,this._id=e._id,this._isLiked=e.isLiked,this._handleImageClick=s,this._handleDeleteClick=r,this._handleLikeClick=n,this._cardSelector=t}_getTemplate(){return document.querySelector(this._cardSelector).content.firstElementChild.cloneNode(!0)}isLiked(){return this._isLiked}handleLike=()=>{this._likeButton.classList.toggle("gallery__card-like_active")};handleDelete=()=>{this._element.remove(),this._element=null};updateLikeView(){this._isLiked?this._likeButton.classList.add("gallery__card-like_active"):this._likeButton.classList.remove("gallery__card-like_active")}_setEventListeners(){this._cardTrash.addEventListener("click",(()=>{this._handleDeleteClick(this)})),this._likeButton.addEventListener("click",(()=>{this._handleLikeClick(this)})),this._cardImageEl.addEventListener("click",(()=>{this._handleImageClick({name:this._name,link:this._link})}))}generateCard(){return this._element=this._getTemplate(),this._likeButton=this._element.querySelector(".gallery__card-like"),this._deleteFormButton=document.querySelector("#delete-card-button"),this._cardTrash=this._element.querySelector(".gallery__card-trash"),this._cardImageEl=this._element.querySelector(".gallery__card-image"),this._setEventListeners(),this._cardImageEl.src=this._link,this._cardImageEl.alt=`Photo of ${this._name}`,this._element.querySelector(".gallery__card-title").textContent=this._name,this.updateLikeView(),this._element}};const i={inputSelector:".modal__input",submitButtonSelector:".modal__container-button",inactiveButtonClass:"modal__container-button_disabled",inputErrorClass:"modal__input-error",errorClass:"modal__input-error_visible"},o={profileEditModal:"#profile__edit-modal",profileAddModal:"#profile__add-modal",profileEditForm:document.querySelector("#edit-card-form"),profileAddForm:document.querySelector("#add-card-form"),nameInput:document.querySelector("#profile-name-input"),profileTitle:document.querySelector("#profile-title"),descriptionInput:document.querySelector("#profile-description-input"),avatarInput:document.querySelector("#avatar-url-input"),avatarImage:document.querySelector(".profile__avatar"),avatarIcon:document.querySelector(".profile__icon"),avatarModal:"#avatar-modal",avatarModalButton:document.querySelector("#avatar-modal-button"),addCardClass:"#profile__add-modal",addModalButton:document.querySelector("#add-button"),editCardClass:"#profile__edit-modal",deleteCardClass:"#delete-modal",editModalButton:document.querySelector("#edit-button"),profileEditButton:document.querySelector("#profile__edit-button"),profileAddButton:document.querySelector(".profile__add-button")},a=new class{constructor(e){this._headers=e.headers,this.baseUrl=e.baseUrl}_checkResponse(e){return e.ok?e.json():Promise.reject(`Error ${e.status}`)}getInitialCards(){return fetch(this.baseUrl+"/cards",{headers:this._headers}).then(this._checkResponse)}loadInfo(){return fetch(this.baseUrl+"/users/me",{method:"GET",avatar:"https://practicum-content.s3.us-west-1.amazonaws.com/frontend-developer/moved_avatar.jpg",cohort:"group-42",headers:this._headers}).then(this._checkResponse)}editProfile(e,t){return fetch(this.baseUrl+"/users/me",{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e,about:t})}).then(this._checkResponse)}addNewCard(e){return fetch(this.baseUrl+"/cards",{method:"POST",headers:this._headers,"Content-Type":"application/json",body:JSON.stringify({name:e.name,link:e.link})}).then(this._checkResponse)}deleteCard(e){return fetch(this.baseUrl+`/cards/${e}`,{method:"DELETE",headers:this._headers,"Content-Type":"application/json",body:JSON.stringify({_id:e})}).then(this._checkResponse)}updateLike(e,t){return fetch(this.baseUrl+`/cards/${e}/likes`,{method:t?"DELETE":"PUT",headers:this._headers,"Content-Type":"application/json"}).then(this._checkResponse)}updateAvatar(e){return fetch(this.baseUrl+"/users/me/avatar",{method:"PATCH",headers:this._headers,"Content-Type":"application/json",body:JSON.stringify({avatar:e})}).then(this._checkResponse)}}({baseUrl:"https://around-api.en.tripleten-services.com/v1",headers:{authorization:"ebfbe580-59e8-4623-9d1e-5edf14608279","Content-Type":"application/json"}});let l;a.getInitialCards().then((e=>{l=new r({items:e,renderer:e=>{h(e)}},"gallery__cards"),l.renderItems(),console.log(e)})).catch(console.error),a.loadInfo().then((e=>{console.log(e),y.setUserInfo(e.name,e.about),y.setAvatar(e.avatar)})).catch(console.error);const d=new class extends e{constructor(e){super({popupSelector:e}),this._image=this._popupElement.querySelector(".modal__picture-src"),this._title=this._popupElement.querySelector(".modal__picture-title")}open(e){let{link:t,name:s}=e;this._image.src=t,this._image.alt=`A photo of ${s}`,this._title.textContent=`${s}`,super.open()}}("#picture-modal");function c(e,t){e.textContent=t}function u(e){d.open(e)}function h(e){const t=new n(e,"#card-template",u,p,m);l.addItem(t.generateCard())}d.setEventListeners();const _=new class extends e{constructor(e){super({popupSelector:e}),this._formEl=this._popupElement.querySelector(".modal__form")}setEventListeners(){this._formEl.addEventListener("submit",(e=>{e.preventDefault(),this._handleFormSubmit()})),super.setEventListeners()}setSubmitAction(e){this._handleFormSubmit=e}}(o.deleteCardClass);function p(e){_.open(),_.setSubmitAction((()=>{a.deleteCard(e._id).then((()=>{_.close(),e.handleDelete()})).catch(console.error)}))}function m(e){a.updateLike(e._id,e.isLiked()).then((()=>{e.handleLike(),console.log(e)})).catch(console.error)}_.setEventListeners();const v=new s(i,o.profileAddModal);v.enableValidation(),new s(i,o.profileEditModal).enableValidation(),new s(i,o.avatarModal).enableValidation();const E=new t(o.addCardClass,(function(e){c(o.addModalButton,"Saving..."),a.addNewCard(e).then((e=>{console.log(e),h(e),o.profileAddForm.reset(),v.toggleButtonState(),E.close()})).catch(console.error).finally((()=>{c(o.addModalButton,"Save")}))}));E.setEventListeners(),o.profileAddButton.addEventListener("click",(()=>{E.open()}));const f=new t(o.editCardClass,(function(e){c(o.editModalButton,"Saving..."),a.editProfile(e.name,e.description).then((e=>{y.setUserInfo(e.name,e.about),console.log(e),f.close()})).catch(console.error).finally((()=>{c(o.editModalButton,"Save")}))}));f.setEventListeners(),o.profileEditButton.addEventListener("click",(()=>{!function(){const e=y.getUserInfo();o.nameInput.value=e.name,o.descriptionInput.value=e.description,f.open()}()}));const S=new t(o.avatarModal,(function(e){c(o.avatarModalButton,"Saving..."),a.updateAvatar(e.link).then((t=>{o.avatarImage.src=e.link,console.log(t),S.close()})).catch(console.error).finally((()=>{c(o.avatarModalButton,"Save")}))}));S.setEventListeners(),o.avatarIcon.addEventListener("click",(()=>{S.open()}));const y=new class{constructor(e,t,s){this._userNameElement=document.querySelector(e),this._userDescriptionElement=document.querySelector(t),this._userAvatarElement=document.querySelector(s)}getUserInfo(){return{name:this._userNameElement.textContent,description:this._userDescriptionElement.textContent}}setUserInfo(e,t){this._userNameElement.textContent=e,this._userDescriptionElement.textContent=t}setAvatar(e){this._userAvatarElement.src=e}}(".profile__title",".profile__description",".profile__avatar")}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Y2hFLEVBQVVZLGtCQUFtQixPQUFPLEdBRXhELElBdkJBRCxFQUFZcEcsb0JBTVp5RixFQUFVVSxXQUFXMUcsaUJBQWlCLFNBQVMsS0FIN0MyRyxFQUFZOUcsTUFJSSxJQW9CbEIsTUFBTTZKLEVBQVcsSUk1TmpCLE1BQ0VwSyxXQUFBQSxDQUFZNEwsRUFBa0JDLEVBQXlCQyxHQUNyRDNMLEtBQUs0TCxpQkFBbUIxTCxTQUFTQyxjQUFjc0wsR0FDL0N6TCxLQUFLNkwsd0JBQTBCM0wsU0FBU0MsY0FDdEN1TCxHQUVGMUwsS0FBSzhMLG1CQUFxQjVMLFNBQVNDLGNBQWN3TCxFQUNuRCxDQUVBSixXQUFBQSxHQUNFLE1BQU8sQ0FDTDNKLEtBQU01QixLQUFLNEwsaUJBQWlCN0ksWUFDNUJzSSxZQUFhckwsS0FBSzZMLHdCQUF3QjlJLFlBRTlDLENBRUFtSCxXQUFBQSxDQUFZdEksRUFBTXlKLEdBQ2hCckwsS0FBSzRMLGlCQUFpQjdJLFlBQWNuQixFQUNwQzVCLEtBQUs2TCx3QkFBd0I5SSxZQUFjc0ksQ0FDN0MsQ0FFQWxCLFNBQUFBLENBQVV2QixHQUNSNUksS0FBSzhMLG1CQUFtQnpGLElBQU11QyxDQUNoQyxHSnNNQSxrQkFDQSx3QkFDQSxtQiIsInNvdXJjZXMiOlsid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL3V0aWxzL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvcGFnZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvQXBpLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwV0l0aEltYWdlLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aERlbGV0ZS5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Vc2VySW5mby5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjbGFzcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHsgcG9wdXBTZWxlY3RvciB9KSB7XG4gICAgdGhpcy5fcG9wdXBFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKTtcbiAgfVxuXG4gIG9wZW4oKSB7XG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJtb2RhbF9vcGVuZWRcIik7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcbiAgfVxuXG4gIGNsb3NlKCkge1xuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwibW9kYWxfb3BlbmVkXCIpO1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gIH1cblxuICBfaGFuZGxlRXNjQ2xvc2UgPSAoZXZ0KSA9PiB7XG4gICAgaWYgKGV2dC5rZXkgPT09IFwiRXNjYXBlXCIpIHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9XG4gIH07XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZ0KSA9PiB7XG4gICAgICBpZiAoXG4gICAgICAgIGV2dC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwibW9kYWxcIikgfHxcbiAgICAgICAgZXZ0LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJtb2RhbF9fY2xvc2VcIilcbiAgICAgICkge1xuICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgUG9wdXA7XG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcblxuY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3RvciwgaGFuZGxlRm9ybVN1Ym1pdCkge1xuICAgIHN1cGVyKHsgcG9wdXBTZWxlY3RvciB9KTtcblxuICAgIHRoaXMuX2Zvcm0gPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fZm9ybVwiKTtcbiAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0ID0gaGFuZGxlRm9ybVN1Ym1pdDtcbiAgICB0aGlzLl9pbnB1dEVscyA9IFsuLi50aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoXCIubW9kYWxfX2lucHV0XCIpXTtcbiAgfVxuXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsICgpID0+IHtcbiAgICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQodGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSk7XG4gICAgfSk7XG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbiAgfVxuXG4gIF9nZXRJbnB1dFZhbHVlcygpIHtcbiAgICBjb25zdCBpbnB1dFZhbHVlcyA9IHt9O1xuICAgIHRoaXMuX2lucHV0RWxzLmZvckVhY2goKGlucHV0RWwpID0+IHtcbiAgICAgIGlucHV0VmFsdWVzW2lucHV0RWwubmFtZV0gPSBpbnB1dEVsLnZhbHVlO1xuICAgIH0pO1xuICAgIHJldHVybiBpbnB1dFZhbHVlcztcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBQb3B1cFdpdGhGb3JtO1xuIiwiY2xhc3MgRm9ybVZhbGlkYXRvciB7XG4gIGNvbnN0cnVjdG9yKGNvbmZpZywgZm9ybVNlbGVjdG9yKSB7XG4gICAgdGhpcy5faW5wdXRTZWxlY3RvciA9IGNvbmZpZy5pbnB1dFNlbGVjdG9yO1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvblNlbGVjdG9yID0gY29uZmlnLnN1Ym1pdEJ1dHRvblNlbGVjdG9yO1xuICAgIHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MgPSBjb25maWcuaW5hY3RpdmVCdXR0b25DbGFzcztcbiAgICB0aGlzLl9pbnB1dEVycm9yQ2xhc3MgPSBjb25maWcuaW5wdXRFcnJvckNsYXNzO1xuICAgIHRoaXMuX2Vycm9yQ2xhc3MgPSBjb25maWcuZXJyb3JDbGFzcztcbiAgICB0aGlzLl9mb3JtRWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGZvcm1TZWxlY3Rvcik7XG4gICAgdGhpcy5fc3VibWl0QnV0dG9uID0gdGhpcy5fZm9ybUVsLnF1ZXJ5U2VsZWN0b3IodGhpcy5fc3VibWl0QnV0dG9uU2VsZWN0b3IpO1xuICAgIHRoaXMuX2lucHV0RWxzID0gWy4uLnRoaXMuX2Zvcm1FbC5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX2lucHV0U2VsZWN0b3IpXTtcbiAgfVxuXG4gIF9zaG93SW5wdXRFcnJvcihpbnB1dEVsKSB7XG4gICAgY29uc3QgZXJyb3JNZXNzYWdlRWwgPSB0aGlzLl9mb3JtRWwucXVlcnlTZWxlY3RvcihgIyR7aW5wdXRFbC5pZH0tZXJyb3JgKTtcbiAgICBpbnB1dEVsLmNsYXNzTGlzdC5hZGQodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcbiAgICBlcnJvck1lc3NhZ2VFbC50ZXh0Q29udGVudCA9IGlucHV0RWwudmFsaWRhdGlvbk1lc3NhZ2U7XG4gICAgZXJyb3JNZXNzYWdlRWwuY2xhc3NMaXN0LmFkZCh0aGlzLl9lcnJvckNsYXNzKTtcbiAgfVxuXG4gIF9oaWRlSW5wdXRFcnJvcihpbnB1dEVsKSB7XG4gICAgY29uc3QgZXJyb3JNZXNzYWdlRWwgPSB0aGlzLl9mb3JtRWwucXVlcnlTZWxlY3RvcihgIyR7aW5wdXRFbC5pZH0tZXJyb3JgKTtcbiAgICBpbnB1dEVsLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5faW5wdXRFcnJvckNsYXNzKTtcbiAgICBlcnJvck1lc3NhZ2VFbC50ZXh0Q29udGVudCA9IFwiXCI7XG4gICAgZXJyb3JNZXNzYWdlRWwuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9lcnJvckNsYXNzKTtcbiAgfVxuXG4gIF9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbCkge1xuICAgIGlmICghaW5wdXRFbC52YWxpZGl0eS52YWxpZCkge1xuICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWwpO1xuICAgIH1cbiAgfVxuXG4gIF9oYXNJbnZhbGlkSW5wdXQoKSB7XG4gICAgcmV0dXJuICF0aGlzLl9pbnB1dEVscy5ldmVyeSgoaW5wdXRFbCkgPT4gaW5wdXRFbC52YWxpZGl0eS52YWxpZCk7XG4gIH1cblxuICB0b2dnbGVCdXR0b25TdGF0ZSgpIHtcbiAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KHRoaXMuX2lucHV0RWxzKSkge1xuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLmNsYXNzTGlzdC5hZGQodGhpcy5faW5hY3RpdmVCdXR0b25DbGFzcyk7XG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xuICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xuICB9XG5cbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX2lucHV0RWxzLmZvckVhY2goKGlucHV0RWwpID0+IHtcbiAgICAgIGlucHV0RWwuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsIChlKSA9PiB7XG4gICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsKTtcbiAgICAgICAgdGhpcy50b2dnbGVCdXR0b25TdGF0ZSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBlbmFibGVWYWxpZGF0aW9uKCkge1xuICAgIHRoaXMuX2Zvcm1FbC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChlKSA9PiB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSk7XG5cbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEZvcm1WYWxpZGF0b3I7XG4iLCJjbGFzcyBTZWN0aW9uIHtcbiAgY29uc3RydWN0b3IoeyBpdGVtcywgcmVuZGVyZXIgfSwgY29udGFpbmVyU2VsZWN0b3IpIHtcbiAgICB0aGlzLl9pdGVtcyA9IGl0ZW1zO1xuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XG4gICAgdGhpcy5fY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLiR7Y29udGFpbmVyU2VsZWN0b3J9YCk7XG4gIH1cblxuICByZW5kZXJJdGVtcygpIHtcbiAgICB0aGlzLl9pdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICB0aGlzLl9yZW5kZXJlcihpdGVtKTtcbiAgICB9KTtcbiAgfVxuXG4gIGFkZEl0ZW0oZWxlbWVudCkge1xuICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGVsZW1lbnQpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFNlY3Rpb247XG4iLCJjbGFzcyBDYXJkIHtcbiAgY29uc3RydWN0b3IoXG4gICAgZGF0YSxcbiAgICBjYXJkU2VsZWN0b3IsXG4gICAgaGFuZGxlSW1hZ2VDbGljayxcbiAgICBoYW5kbGVEZWxldGVDbGljayxcbiAgICBoYW5kbGVMaWtlQ2xpY2tcbiAgKSB7XG4gICAgdGhpcy5fbmFtZSA9IGRhdGEubmFtZTtcbiAgICB0aGlzLl9saW5rID0gZGF0YS5saW5rO1xuICAgIHRoaXMuX2lkID0gZGF0YS5faWQ7XG4gICAgdGhpcy5faXNMaWtlZCA9IGRhdGEuaXNMaWtlZDtcbiAgICB0aGlzLl9oYW5kbGVJbWFnZUNsaWNrID0gaGFuZGxlSW1hZ2VDbGljaztcbiAgICB0aGlzLl9oYW5kbGVEZWxldGVDbGljayA9IGhhbmRsZURlbGV0ZUNsaWNrO1xuICAgIHRoaXMuX2hhbmRsZUxpa2VDbGljayA9IGhhbmRsZUxpa2VDbGljaztcblxuICAgIHRoaXMuX2NhcmRTZWxlY3RvciA9IGNhcmRTZWxlY3RvcjtcbiAgfVxuXG4gIF9nZXRUZW1wbGF0ZSgpIHtcbiAgICBjb25zdCBjYXJkRWxlbWVudCA9IGRvY3VtZW50XG4gICAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl9jYXJkU2VsZWN0b3IpXG4gICAgICAuY29udGVudC5maXJzdEVsZW1lbnRDaGlsZC5jbG9uZU5vZGUodHJ1ZSk7XG5cbiAgICByZXR1cm4gY2FyZEVsZW1lbnQ7XG4gIH1cblxuICBpc0xpa2VkKCkge1xuICAgIHJldHVybiB0aGlzLl9pc0xpa2VkO1xuICB9XG5cbiAgaGFuZGxlTGlrZSA9ICgpID0+IHtcbiAgICB0aGlzLl9saWtlQnV0dG9uLmNsYXNzTGlzdC50b2dnbGUoXCJnYWxsZXJ5X19jYXJkLWxpa2VfYWN0aXZlXCIpO1xuICB9O1xuXG4gIGhhbmRsZURlbGV0ZSA9ICgpID0+IHtcbiAgICB0aGlzLl9lbGVtZW50LnJlbW92ZSgpO1xuICAgIHRoaXMuX2VsZW1lbnQgPSBudWxsO1xuICB9O1xuXG4gIHVwZGF0ZUxpa2VWaWV3KCkge1xuICAgIGlmICh0aGlzLl9pc0xpa2VkKSB7XG4gICAgICB0aGlzLl9saWtlQnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJnYWxsZXJ5X19jYXJkLWxpa2VfYWN0aXZlXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9saWtlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoXCJnYWxsZXJ5X19jYXJkLWxpa2VfYWN0aXZlXCIpO1xuICAgIH1cbiAgfVxuXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9jYXJkVHJhc2guYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHRoaXMuX2hhbmRsZURlbGV0ZUNsaWNrKHRoaXMpO1xuICAgIH0pO1xuICAgIHRoaXMuX2xpa2VCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAgIHRoaXMuX2hhbmRsZUxpa2VDbGljayh0aGlzKTtcbiAgICB9KTtcbiAgICB0aGlzLl9jYXJkSW1hZ2VFbC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5faGFuZGxlSW1hZ2VDbGljayh7IG5hbWU6IHRoaXMuX25hbWUsIGxpbms6IHRoaXMuX2xpbmsgfSk7XG4gICAgfSk7XG4gIH1cblxuICBnZW5lcmF0ZUNhcmQoKSB7XG4gICAgdGhpcy5fZWxlbWVudCA9IHRoaXMuX2dldFRlbXBsYXRlKCk7XG4gICAgdGhpcy5fbGlrZUJ1dHRvbiA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5nYWxsZXJ5X19jYXJkLWxpa2VcIik7XG4gICAgdGhpcy5fZGVsZXRlRm9ybUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZGVsZXRlLWNhcmQtYnV0dG9uXCIpO1xuICAgIHRoaXMuX2NhcmRUcmFzaCA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5nYWxsZXJ5X19jYXJkLXRyYXNoXCIpO1xuICAgIHRoaXMuX2NhcmRJbWFnZUVsID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmdhbGxlcnlfX2NhcmQtaW1hZ2VcIik7XG5cbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuXG4gICAgdGhpcy5fY2FyZEltYWdlRWwuc3JjID0gdGhpcy5fbGluaztcbiAgICB0aGlzLl9jYXJkSW1hZ2VFbC5hbHQgPSBgUGhvdG8gb2YgJHt0aGlzLl9uYW1lfWA7XG4gICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmdhbGxlcnlfX2NhcmQtdGl0bGVcIikudGV4dENvbnRlbnQgPVxuICAgICAgdGhpcy5fbmFtZTtcblxuICAgIHRoaXMudXBkYXRlTGlrZVZpZXcoKTtcblxuICAgIHJldHVybiB0aGlzLl9lbGVtZW50O1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IENhcmQ7XG4iLCJjb25zdCBjb25maWcgPSB7XG4gIGlucHV0U2VsZWN0b3I6IFwiLm1vZGFsX19pbnB1dFwiLFxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIubW9kYWxfX2NvbnRhaW5lci1idXR0b25cIixcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogXCJtb2RhbF9fY29udGFpbmVyLWJ1dHRvbl9kaXNhYmxlZFwiLFxuICBpbnB1dEVycm9yQ2xhc3M6IFwibW9kYWxfX2lucHV0LWVycm9yXCIsXG4gIGVycm9yQ2xhc3M6IFwibW9kYWxfX2lucHV0LWVycm9yX3Zpc2libGVcIixcbn07XG5cbmNvbnN0IHZhcmlhYmxlcyA9IHtcbiAgcHJvZmlsZUVkaXRNb2RhbDogXCIjcHJvZmlsZV9fZWRpdC1tb2RhbFwiLFxuICBwcm9maWxlQWRkTW9kYWw6IFwiI3Byb2ZpbGVfX2FkZC1tb2RhbFwiLFxuICBwcm9maWxlRWRpdEZvcm06IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZWRpdC1jYXJkLWZvcm1cIiksXG4gIHByb2ZpbGVBZGRGb3JtOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2FkZC1jYXJkLWZvcm1cIiksXG4gIG5hbWVJbnB1dDogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlLW5hbWUtaW5wdXRcIiksXG4gIHByb2ZpbGVUaXRsZTogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlLXRpdGxlXCIpLFxuICBkZXNjcmlwdGlvbklucHV0OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2ZpbGUtZGVzY3JpcHRpb24taW5wdXRcIiksXG4gIGF2YXRhcklucHV0OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2F2YXRhci11cmwtaW5wdXRcIiksXG4gIGF2YXRhckltYWdlOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2F2YXRhclwiKSxcbiAgYXZhdGFySWNvbjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19pY29uXCIpLFxuICBhdmF0YXJNb2RhbDogXCIjYXZhdGFyLW1vZGFsXCIsXG4gIGF2YXRhck1vZGFsQnV0dG9uOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2F2YXRhci1tb2RhbC1idXR0b25cIiksXG4gIGFkZENhcmRDbGFzczogXCIjcHJvZmlsZV9fYWRkLW1vZGFsXCIsXG4gIGFkZE1vZGFsQnV0dG9uOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2FkZC1idXR0b25cIiksXG4gIGVkaXRDYXJkQ2xhc3M6IFwiI3Byb2ZpbGVfX2VkaXQtbW9kYWxcIixcbiAgZGVsZXRlQ2FyZENsYXNzOiBcIiNkZWxldGUtbW9kYWxcIixcbiAgZWRpdE1vZGFsQnV0dG9uOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2VkaXQtYnV0dG9uXCIpLFxuICBwcm9maWxlRWRpdEJ1dHRvbjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlX19lZGl0LWJ1dHRvblwiKSxcbiAgcHJvZmlsZUFkZEJ1dHRvbjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19hZGQtYnV0dG9uXCIpLFxufTtcblxuZXhwb3J0IHsgY29uZmlnLCB2YXJpYWJsZXMgfTtcbiIsImltcG9ydCBQb3B1cFdpdGhGb3JtIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanNcIjtcblxuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV0l0aEltYWdlLmpzXCI7XG5cbmltcG9ydCBQb3B1cFdpdGhEZWxldGUgZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRGVsZXRlLmpzXCI7XG5cbmltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gXCIuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanNcIjtcblxuaW1wb3J0IFVzZXJJbmZvIGZyb20gXCIuLi9jb21wb25lbnRzL1VzZXJJbmZvLmpzXCI7XG5cbmltcG9ydCBTZWN0aW9uIGZyb20gXCIuLi9jb21wb25lbnRzL1NlY3Rpb24uanNcIjtcblxuaW1wb3J0IENhcmQgZnJvbSBcIi4uL2NvbXBvbmVudHMvQ2FyZC5qc1wiO1xuXG5pbXBvcnQgQXBpIGZyb20gXCIuLi9jb21wb25lbnRzL0FwaS5qc1wiO1xuXG5pbXBvcnQgXCIuL2luZGV4LmNzc1wiO1xuXG5pbXBvcnQgeyBjb25maWcsIHZhcmlhYmxlcyB9IGZyb20gXCIuLi91dGlscy9jb25zdGFudHMuanNcIjtcblxuLy8gQVBJXG5cbmNvbnN0IGFwaSA9IG5ldyBBcGkoe1xuICBiYXNlVXJsOiBcImh0dHBzOi8vYXJvdW5kLWFwaS5lbi50cmlwbGV0ZW4tc2VydmljZXMuY29tL3YxXCIsXG4gIGhlYWRlcnM6IHtcbiAgICBhdXRob3JpemF0aW9uOiBcImViZmJlNTgwLTU5ZTgtNDYyMy05ZDFlLTVlZGYxNDYwODI3OVwiLFxuICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICB9LFxufSk7XG5cbi8vIFNFQ1RJT05cblxubGV0IHNlY3Rpb247XG5cbmFwaVxuICAuZ2V0SW5pdGlhbENhcmRzKClcbiAgLnRoZW4oKHJlcykgPT4ge1xuICAgIHNlY3Rpb24gPSBuZXcgU2VjdGlvbihcbiAgICAgIHtcbiAgICAgICAgaXRlbXM6IHJlcyxcbiAgICAgICAgcmVuZGVyZXI6IChjYXJkRGF0YSkgPT4ge1xuICAgICAgICAgIGNyZWF0ZUNhcmQoY2FyZERhdGEpO1xuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIFwiZ2FsbGVyeV9fY2FyZHNcIlxuICAgICk7XG4gICAgc2VjdGlvbi5yZW5kZXJJdGVtcygpO1xuICAgIGNvbnNvbGUubG9nKHJlcyk7XG4gIH0pXG4gIC5jYXRjaChjb25zb2xlLmVycm9yKTtcblxuYXBpXG4gIC5sb2FkSW5mbygpXG4gIC50aGVuKChyZXMpID0+IHtcbiAgICBjb25zb2xlLmxvZyhyZXMpO1xuICAgIHVzZXJpbmZvLnNldFVzZXJJbmZvKHJlcy5uYW1lLCByZXMuYWJvdXQpO1xuICAgIHVzZXJpbmZvLnNldEF2YXRhcihyZXMuYXZhdGFyKTtcbiAgfSlcbiAgLmNhdGNoKGNvbnNvbGUuZXJyb3IpO1xuXG4vLyBQT1BVUCBXSVRIIElNQUdFXG5cbmNvbnN0IHBvcHVwV2l0aEltYWdlID0gbmV3IFBvcHVwV2l0aEltYWdlKFwiI3BpY3R1cmUtbW9kYWxcIik7XG5cbnBvcHVwV2l0aEltYWdlLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbi8vIFNBVkUgQlVUVE9OIFRFWFQgQ0hBTkdFIEZVTkNUSU9OIEZPUiBGT1JNU1xuXG5mdW5jdGlvbiBzZXRCdXR0b25UZXh0KGJ1dHRvbiwgdGV4dCkge1xuICBidXR0b24udGV4dENvbnRlbnQgPSB0ZXh0O1xufVxuXG4vLyBDQVJEXG5cbmZ1bmN0aW9uIGhhbmRsZUltYWdlQ2xpY2soY2FyZERhdGEpIHtcbiAgcG9wdXBXaXRoSW1hZ2Uub3BlbihjYXJkRGF0YSk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUNhcmQoY2FyZERhdGEpIHtcbiAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKFxuICAgIGNhcmREYXRhLFxuICAgIFwiI2NhcmQtdGVtcGxhdGVcIixcbiAgICBoYW5kbGVJbWFnZUNsaWNrLFxuICAgIGhhbmRsZURlbGV0ZUNsaWNrLFxuICAgIGhhbmRsZUxpa2VDbGlja1xuICApO1xuICBzZWN0aW9uLmFkZEl0ZW0oY2FyZC5nZW5lcmF0ZUNhcmQoKSk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZUFkZENhcmRTdWJtaXQoaW5wdXRWYWx1ZXMpIHtcbiAgc2V0QnV0dG9uVGV4dCh2YXJpYWJsZXMuYWRkTW9kYWxCdXR0b24sIFwiU2F2aW5nLi4uXCIpO1xuICBhcGlcbiAgICAuYWRkTmV3Q2FyZChpbnB1dFZhbHVlcylcbiAgICAudGhlbigocmVzKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhyZXMpO1xuICAgICAgLy8gY3JlYXRlIGEgbmV3IGNhcmRcbiAgICAgIGNyZWF0ZUNhcmQocmVzKTtcbiAgICAgIC8vIHJlbmRlciBpdFxuICAgICAgdmFyaWFibGVzLnByb2ZpbGVBZGRGb3JtLnJlc2V0KCk7XG4gICAgICAvLyB0b2dnbGUgYnV0dG9uIHN0YXRlXG4gICAgICBhZGRGb3JtVmFsaWRhdG9yLnRvZ2dsZUJ1dHRvblN0YXRlKCk7XG4gICAgICAvLyBjbG9zZSBtb2RhbFxuICAgICAgYWRkUG9wdXAuY2xvc2UoKTtcbiAgICB9KVxuICAgIC5jYXRjaChjb25zb2xlLmVycm9yKVxuICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgIHNldEJ1dHRvblRleHQodmFyaWFibGVzLmFkZE1vZGFsQnV0dG9uLCBcIlNhdmVcIik7XG4gICAgfSk7XG59XG5cbi8vIEhBTkRMRSBERUxFVEUgTU9EQUxcblxuY29uc3QgZGVsZXRlTW9kYWwgPSBuZXcgUG9wdXBXaXRoRGVsZXRlKHZhcmlhYmxlcy5kZWxldGVDYXJkQ2xhc3MpO1xuZGVsZXRlTW9kYWwuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuZnVuY3Rpb24gaGFuZGxlRGVsZXRlQ2xpY2soY2FyZCkge1xuICAvLyBvcGVuIHRoZSBtb2RhbFxuICBkZWxldGVNb2RhbC5vcGVuKCk7XG4gIC8vIHNldCB0aGUgc3VibWl0IGFjdGlvblxuICBkZWxldGVNb2RhbC5zZXRTdWJtaXRBY3Rpb24oKCkgPT4ge1xuICAgIGFwaVxuICAgICAgLmRlbGV0ZUNhcmQoY2FyZC5faWQpXG4gICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgIGRlbGV0ZU1vZGFsLmNsb3NlKCk7XG4gICAgICAgIGNhcmQuaGFuZGxlRGVsZXRlKCk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKGNvbnNvbGUuZXJyb3IpO1xuICB9KTtcbn1cblxuLy8gQ0FSRCBMSUtFXG5cbmZ1bmN0aW9uIGhhbmRsZUxpa2VDbGljayhjYXJkKSB7XG4gIGFwaVxuICAgIC51cGRhdGVMaWtlKGNhcmQuX2lkLCBjYXJkLmlzTGlrZWQoKSlcbiAgICAudGhlbigoKSA9PiB7XG4gICAgICBjYXJkLmhhbmRsZUxpa2UoKTtcbiAgICAgIC8vIGNhcmQudXBkYXRlTGlrZVZpZXcoKTtcbiAgICAgIGNvbnNvbGUubG9nKGNhcmQpO1xuICAgIH0pXG4gICAgLmNhdGNoKGNvbnNvbGUuZXJyb3IpO1xuICAvLyBoYW5kbGUgY2hhbmdpbmcgdGhlIGJ1dHRvbidzIHN0YXRlIGluIGEgLnRoZW4gYWZ0ZXIgdGhlIHN1Y2Nlc3NmdWwgcmVzcG9uc2Vcbn1cblxuLy8gRk9STSBWQUxJREFUT1JcblxuY29uc3QgYWRkRm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKGNvbmZpZywgdmFyaWFibGVzLnByb2ZpbGVBZGRNb2RhbCk7XG5hZGRGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcblxuY29uc3QgZWRpdEZvcm1WYWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRvcihjb25maWcsIHZhcmlhYmxlcy5wcm9maWxlRWRpdE1vZGFsKTtcbmVkaXRGb3JtVmFsaWRhdG9yLmVuYWJsZVZhbGlkYXRpb24oKTtcblxuY29uc3QgYXZhdGFyRm9ybVZhbGlkYXRvciA9IG5ldyBGb3JtVmFsaWRhdG9yKGNvbmZpZywgdmFyaWFibGVzLmF2YXRhck1vZGFsKTtcbmF2YXRhckZvcm1WYWxpZGF0b3IuZW5hYmxlVmFsaWRhdGlvbigpO1xuXG4vLyBQT1BVUCBXSVRIIEZPUk0gLSBBREQgRk9STVxuXG5jb25zdCBhZGRQb3B1cCA9IG5ldyBQb3B1cFdpdGhGb3JtKHZhcmlhYmxlcy5hZGRDYXJkQ2xhc3MsIGhhbmRsZUFkZENhcmRTdWJtaXQpO1xuXG5mdW5jdGlvbiBvcGVuQWRkRm9ybSgpIHtcbiAgYWRkUG9wdXAub3BlbigpO1xufVxuXG5hZGRQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xuXG52YXJpYWJsZXMucHJvZmlsZUFkZEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gb3BlbkFkZEZvcm0oKSk7XG5cbi8vIFBPUFVQIFdJVEggRk9STSAtIEVESVQgRk9STVxuXG5jb25zdCBlZGl0UG9wdXAgPSBuZXcgUG9wdXBXaXRoRm9ybShcbiAgdmFyaWFibGVzLmVkaXRDYXJkQ2xhc3MsXG4gIGhhbmRsZUVkaXRGb3JtU3VibWl0XG4pO1xuXG5mdW5jdGlvbiBvcGVuRWRpdEZvcm0oKSB7XG4gIGNvbnN0IHVzZXIgPSB1c2VyaW5mby5nZXRVc2VySW5mbygpO1xuICB2YXJpYWJsZXMubmFtZUlucHV0LnZhbHVlID0gdXNlci5uYW1lO1xuICB2YXJpYWJsZXMuZGVzY3JpcHRpb25JbnB1dC52YWx1ZSA9IHVzZXIuZGVzY3JpcHRpb247XG4gIGVkaXRQb3B1cC5vcGVuKCk7XG59XG5cbmVkaXRQb3B1cC5zZXRFdmVudExpc3RlbmVycygpO1xuXG52YXJpYWJsZXMucHJvZmlsZUVkaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgb3BlbkVkaXRGb3JtKCk7XG59KTtcblxuLy8gUE9QVVAgV0lUSCBGT1JNIC0gQVZBVEFSIEZPUk1cblxuY29uc3QgYXZhdGFyTW9kYWwgPSBuZXcgUG9wdXBXaXRoRm9ybShcbiAgdmFyaWFibGVzLmF2YXRhck1vZGFsLFxuICBoYW5kbGVBdmF0YXJGb3JtU3VibWl0XG4pO1xuYXZhdGFyTW9kYWwuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcblxuZnVuY3Rpb24gb3BlbkF2YXRhckZvcm0oKSB7XG4gIGF2YXRhck1vZGFsLm9wZW4oKTtcbn1cblxudmFyaWFibGVzLmF2YXRhckljb24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgb3BlbkF2YXRhckZvcm0oKTtcbn0pO1xuXG5mdW5jdGlvbiBoYW5kbGVBdmF0YXJGb3JtU3VibWl0KGlucHV0VmFsdWVzKSB7XG4gIHNldEJ1dHRvblRleHQodmFyaWFibGVzLmF2YXRhck1vZGFsQnV0dG9uLCBcIlNhdmluZy4uLlwiKTtcbiAgYXBpXG4gICAgLnVwZGF0ZUF2YXRhcihpbnB1dFZhbHVlcy5saW5rKVxuICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgIHZhcmlhYmxlcy5hdmF0YXJJbWFnZS5zcmMgPSBpbnB1dFZhbHVlcy5saW5rO1xuICAgICAgY29uc29sZS5sb2cocmVzKTtcbiAgICAgIGF2YXRhck1vZGFsLmNsb3NlKCk7XG4gICAgfSlcbiAgICAuY2F0Y2goY29uc29sZS5lcnJvcilcbiAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICBzZXRCdXR0b25UZXh0KHZhcmlhYmxlcy5hdmF0YXJNb2RhbEJ1dHRvbiwgXCJTYXZlXCIpO1xuICAgIH0pO1xufVxuXG4vLyBVU0VSIElORk9cblxuY29uc3QgdXNlcmluZm8gPSBuZXcgVXNlckluZm8oXG4gIFwiLnByb2ZpbGVfX3RpdGxlXCIsXG4gIFwiLnByb2ZpbGVfX2Rlc2NyaXB0aW9uXCIsXG4gIFwiLnByb2ZpbGVfX2F2YXRhclwiXG4pO1xuXG5mdW5jdGlvbiBoYW5kbGVFZGl0Rm9ybVN1Ym1pdChpbnB1dFZhbHVlcykge1xuICBzZXRCdXR0b25UZXh0KHZhcmlhYmxlcy5lZGl0TW9kYWxCdXR0b24sIFwiU2F2aW5nLi4uXCIpO1xuICBhcGlcbiAgICAuZWRpdFByb2ZpbGUoaW5wdXRWYWx1ZXMubmFtZSwgaW5wdXRWYWx1ZXMuZGVzY3JpcHRpb24pXG4gICAgLnRoZW4oKHJlcykgPT4ge1xuICAgICAgdXNlcmluZm8uc2V0VXNlckluZm8ocmVzLm5hbWUsIHJlcy5hYm91dCk7XG4gICAgICBjb25zb2xlLmxvZyhyZXMpO1xuICAgICAgZWRpdFBvcHVwLmNsb3NlKCk7XG4gICAgfSlcbiAgICAuY2F0Y2goY29uc29sZS5lcnJvcilcbiAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICBzZXRCdXR0b25UZXh0KHZhcmlhYmxlcy5lZGl0TW9kYWxCdXR0b24sIFwiU2F2ZVwiKTtcbiAgICB9KTtcbn1cbiIsImNsYXNzIEFwaSB7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICAvLyBjb25zdHJ1Y3RvciBib2R5XG4gICAgdGhpcy5faGVhZGVycyA9IG9wdGlvbnMuaGVhZGVycztcbiAgICB0aGlzLmJhc2VVcmwgPSBvcHRpb25zLmJhc2VVcmw7XG4gIH1cblxuICBfY2hlY2tSZXNwb25zZShyZXMpIHtcbiAgICBpZiAocmVzLm9rKSB7XG4gICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICB9XG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvciAke3Jlcy5zdGF0dXN9YCk7XG4gIH1cblxuICBnZXRJbml0aWFsQ2FyZHMoKSB7XG4gICAgcmV0dXJuIGZldGNoKHRoaXMuYmFzZVVybCArIFwiL2NhcmRzXCIsIHtcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgfSkudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcbiAgfVxuXG4gIC8vIG90aGVyIG1ldGhvZHMgZm9yIHdvcmtpbmcgd2l0aCB0aGUgQVBJXG5cbiAgbG9hZEluZm8oKSB7XG4gICAgcmV0dXJuIGZldGNoKHRoaXMuYmFzZVVybCArIFwiL3VzZXJzL21lXCIsIHtcbiAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgIGF2YXRhcjpcbiAgICAgICAgXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL2Zyb250ZW5kLWRldmVsb3Blci9tb3ZlZF9hdmF0YXIuanBnXCIsXG4gICAgICBjb2hvcnQ6IFwiZ3JvdXAtNDJcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgfSkudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcbiAgfVxuXG4gIGVkaXRQcm9maWxlKG5hbWUsIGFib3V0KSB7XG4gICAgcmV0dXJuIGZldGNoKHRoaXMuYmFzZVVybCArIFwiL3VzZXJzL21lXCIsIHtcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgYWJvdXQ6IGFib3V0LFxuICAgICAgfSksXG4gICAgfSkudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcbiAgfVxuXG4gIC8vIHBhc3MgbmFtZSBhbmQgbGluayBhcyBhcmd1bWVudFxuICBhZGROZXdDYXJkKGRhdGEpIHtcbiAgICByZXR1cm4gZmV0Y2godGhpcy5iYXNlVXJsICsgXCIvY2FyZHNcIiwge1xuICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgbmFtZTogZGF0YS5uYW1lLFxuICAgICAgICBsaW5rOiBkYXRhLmxpbmssXG4gICAgICB9KSxcbiAgICB9KS50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xuICB9XG5cbiAgZGVsZXRlQ2FyZChjYXJkSWQpIHtcbiAgICByZXR1cm4gZmV0Y2godGhpcy5iYXNlVXJsICsgYC9jYXJkcy8ke2NhcmRJZH1gLCB7XG4gICAgICBtZXRob2Q6IFwiREVMRVRFXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIF9pZDogY2FyZElkLFxuICAgICAgfSksXG4gICAgfSkudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcbiAgfVxuXG4gIHVwZGF0ZUxpa2UoY2FyZElkLCBpc0xpa2VkKSB7XG4gICAgcmV0dXJuIGZldGNoKHRoaXMuYmFzZVVybCArIGAvY2FyZHMvJHtjYXJkSWR9L2xpa2VzYCwge1xuICAgICAgbWV0aG9kOiBpc0xpa2VkID8gXCJERUxFVEVcIiA6IFwiUFVUXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgfSkudGhlbih0aGlzLl9jaGVja1Jlc3BvbnNlKTtcbiAgfVxuXG4gIHVwZGF0ZUF2YXRhcihhdmF0YXIpIHtcbiAgICByZXR1cm4gZmV0Y2godGhpcy5iYXNlVXJsICsgYC91c2Vycy9tZS9hdmF0YXJgLCB7XG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgYXZhdGFyOiBhdmF0YXIsXG4gICAgICB9KSxcbiAgICB9KS50aGVuKHRoaXMuX2NoZWNrUmVzcG9uc2UpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IEFwaTtcbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3Rvcikge1xuICAgIHN1cGVyKHsgcG9wdXBTZWxlY3RvciB9KTtcbiAgICB0aGlzLl9pbWFnZSA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19waWN0dXJlLXNyY1wiKTtcbiAgICB0aGlzLl90aXRsZSA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19waWN0dXJlLXRpdGxlXCIpO1xuICB9XG5cbiAgb3Blbih7IGxpbmssIG5hbWUgfSkge1xuICAgIHRoaXMuX2ltYWdlLnNyYyA9IGxpbms7XG4gICAgdGhpcy5faW1hZ2UuYWx0ID0gYEEgcGhvdG8gb2YgJHtuYW1lfWA7XG4gICAgdGhpcy5fdGl0bGUudGV4dENvbnRlbnQgPSBgJHtuYW1lfWA7XG4gICAgc3VwZXIub3BlbigpO1xuICB9XG59XG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRGVsZXRlIGV4dGVuZHMgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XG4gICAgc3VwZXIoeyBwb3B1cFNlbGVjdG9yIH0pO1xuICAgIHRoaXMuX2Zvcm1FbCA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19mb3JtXCIpO1xuICB9XG5cbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgdGhpcy5fZm9ybUVsLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGUpID0+IHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQoKTtcbiAgICB9KTtcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xuICB9XG5cbiAgc2V0U3VibWl0QWN0aW9uKGhhbmRsZUZvcm1TdWJtaXQpIHtcbiAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0ID0gaGFuZGxlRm9ybVN1Ym1pdDtcbiAgfVxufVxuIiwiY2xhc3MgVXNlckluZm8ge1xuICBjb25zdHJ1Y3Rvcih1c2VyTmFtZVNlbGVjdG9yLCB1c2VyRGVzY3JpcHRpb25TZWxlY3RvciwgdXNlckF2YXRhckVsZW1lbnQpIHtcbiAgICB0aGlzLl91c2VyTmFtZUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHVzZXJOYW1lU2VsZWN0b3IpO1xuICAgIHRoaXMuX3VzZXJEZXNjcmlwdGlvbkVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgdXNlckRlc2NyaXB0aW9uU2VsZWN0b3JcbiAgICApO1xuICAgIHRoaXMuX3VzZXJBdmF0YXJFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih1c2VyQXZhdGFyRWxlbWVudCk7XG4gIH1cblxuICBnZXRVc2VySW5mbygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbmFtZTogdGhpcy5fdXNlck5hbWVFbGVtZW50LnRleHRDb250ZW50LFxuICAgICAgZGVzY3JpcHRpb246IHRoaXMuX3VzZXJEZXNjcmlwdGlvbkVsZW1lbnQudGV4dENvbnRlbnQsXG4gICAgfTtcbiAgfVxuXG4gIHNldFVzZXJJbmZvKG5hbWUsIGRlc2NyaXB0aW9uKSB7XG4gICAgdGhpcy5fdXNlck5hbWVFbGVtZW50LnRleHRDb250ZW50ID0gbmFtZTtcbiAgICB0aGlzLl91c2VyRGVzY3JpcHRpb25FbGVtZW50LnRleHRDb250ZW50ID0gZGVzY3JpcHRpb247XG4gIH1cblxuICBzZXRBdmF0YXIoYXZhdGFyKSB7XG4gICAgdGhpcy5fdXNlckF2YXRhckVsZW1lbnQuc3JjID0gYXZhdGFyO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFVzZXJJbmZvO1xuIl0sIm5hbWVzIjpbImNvbnN0cnVjdG9yIiwiX3JlZiIsInBvcHVwU2VsZWN0b3IiLCJ0aGlzIiwiX3BvcHVwRWxlbWVudCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsIm9wZW4iLCJjbGFzc0xpc3QiLCJhZGQiLCJhZGRFdmVudExpc3RlbmVyIiwiX2hhbmRsZUVzY0Nsb3NlIiwiY2xvc2UiLCJyZW1vdmUiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZXZ0Iiwia2V5Iiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJ0YXJnZXQiLCJjb250YWlucyIsIlBvcHVwIiwiaGFuZGxlRm9ybVN1Ym1pdCIsInN1cGVyIiwiX2Zvcm0iLCJfaGFuZGxlRm9ybVN1Ym1pdCIsIl9pbnB1dEVscyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJfZ2V0SW5wdXRWYWx1ZXMiLCJpbnB1dFZhbHVlcyIsImZvckVhY2giLCJpbnB1dEVsIiwibmFtZSIsInZhbHVlIiwiY29uZmlnIiwiZm9ybVNlbGVjdG9yIiwiX2lucHV0U2VsZWN0b3IiLCJpbnB1dFNlbGVjdG9yIiwiX3N1Ym1pdEJ1dHRvblNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJfaW5hY3RpdmVCdXR0b25DbGFzcyIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJfaW5wdXRFcnJvckNsYXNzIiwiaW5wdXRFcnJvckNsYXNzIiwiX2Vycm9yQ2xhc3MiLCJlcnJvckNsYXNzIiwiX2Zvcm1FbCIsIl9zdWJtaXRCdXR0b24iLCJfc2hvd0lucHV0RXJyb3IiLCJlcnJvck1lc3NhZ2VFbCIsImlkIiwidGV4dENvbnRlbnQiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsIl9oaWRlSW5wdXRFcnJvciIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX2hhc0ludmFsaWRJbnB1dCIsImV2ZXJ5IiwidG9nZ2xlQnV0dG9uU3RhdGUiLCJkaXNhYmxlZCIsIl9zZXRFdmVudExpc3RlbmVycyIsImUiLCJlbmFibGVWYWxpZGF0aW9uIiwicHJldmVudERlZmF1bHQiLCJjb250YWluZXJTZWxlY3RvciIsIml0ZW1zIiwicmVuZGVyZXIiLCJfaXRlbXMiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwicmVuZGVySXRlbXMiLCJpdGVtIiwiYWRkSXRlbSIsImVsZW1lbnQiLCJwcmVwZW5kIiwiZGF0YSIsImNhcmRTZWxlY3RvciIsImhhbmRsZUltYWdlQ2xpY2siLCJoYW5kbGVEZWxldGVDbGljayIsImhhbmRsZUxpa2VDbGljayIsIl9uYW1lIiwiX2xpbmsiLCJsaW5rIiwiX2lkIiwiX2lzTGlrZWQiLCJpc0xpa2VkIiwiX2hhbmRsZUltYWdlQ2xpY2siLCJfaGFuZGxlRGVsZXRlQ2xpY2siLCJfaGFuZGxlTGlrZUNsaWNrIiwiX2NhcmRTZWxlY3RvciIsIl9nZXRUZW1wbGF0ZSIsImNvbnRlbnQiLCJmaXJzdEVsZW1lbnRDaGlsZCIsImNsb25lTm9kZSIsImhhbmRsZUxpa2UiLCJfbGlrZUJ1dHRvbiIsInRvZ2dsZSIsImhhbmRsZURlbGV0ZSIsIl9lbGVtZW50IiwidXBkYXRlTGlrZVZpZXciLCJfY2FyZFRyYXNoIiwiX2NhcmRJbWFnZUVsIiwiZ2VuZXJhdGVDYXJkIiwiX2RlbGV0ZUZvcm1CdXR0b24iLCJzcmMiLCJhbHQiLCJ2YXJpYWJsZXMiLCJwcm9maWxlRWRpdE1vZGFsIiwicHJvZmlsZUFkZE1vZGFsIiwicHJvZmlsZUVkaXRGb3JtIiwicHJvZmlsZUFkZEZvcm0iLCJuYW1lSW5wdXQiLCJwcm9maWxlVGl0bGUiLCJkZXNjcmlwdGlvbklucHV0IiwiYXZhdGFySW5wdXQiLCJhdmF0YXJJbWFnZSIsImF2YXRhckljb24iLCJhdmF0YXJNb2RhbCIsImF2YXRhck1vZGFsQnV0dG9uIiwiYWRkQ2FyZENsYXNzIiwiYWRkTW9kYWxCdXR0b24iLCJlZGl0Q2FyZENsYXNzIiwiZGVsZXRlQ2FyZENsYXNzIiwiZWRpdE1vZGFsQnV0dG9uIiwicHJvZmlsZUVkaXRCdXR0b24iLCJwcm9maWxlQWRkQnV0dG9uIiwiYXBpIiwib3B0aW9ucyIsIl9oZWFkZXJzIiwiaGVhZGVycyIsImJhc2VVcmwiLCJfY2hlY2tSZXNwb25zZSIsInJlcyIsIm9rIiwianNvbiIsIlByb21pc2UiLCJyZWplY3QiLCJzdGF0dXMiLCJnZXRJbml0aWFsQ2FyZHMiLCJmZXRjaCIsInRoZW4iLCJsb2FkSW5mbyIsIm1ldGhvZCIsImF2YXRhciIsImNvaG9ydCIsImVkaXRQcm9maWxlIiwiYWJvdXQiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImFkZE5ld0NhcmQiLCJkZWxldGVDYXJkIiwiY2FyZElkIiwidXBkYXRlTGlrZSIsInVwZGF0ZUF2YXRhciIsImF1dGhvcml6YXRpb24iLCJzZWN0aW9uIiwiU2VjdGlvbiIsImNhcmREYXRhIiwiY3JlYXRlQ2FyZCIsImNvbnNvbGUiLCJsb2ciLCJjYXRjaCIsImVycm9yIiwidXNlcmluZm8iLCJzZXRVc2VySW5mbyIsInNldEF2YXRhciIsInBvcHVwV2l0aEltYWdlIiwiX2ltYWdlIiwiX3RpdGxlIiwic2V0QnV0dG9uVGV4dCIsImJ1dHRvbiIsInRleHQiLCJjYXJkIiwiQ2FyZCIsImRlbGV0ZU1vZGFsIiwic2V0U3VibWl0QWN0aW9uIiwiYWRkRm9ybVZhbGlkYXRvciIsIkZvcm1WYWxpZGF0b3IiLCJhZGRQb3B1cCIsIlBvcHVwV2l0aEZvcm0iLCJyZXNldCIsImZpbmFsbHkiLCJlZGl0UG9wdXAiLCJkZXNjcmlwdGlvbiIsInVzZXIiLCJnZXRVc2VySW5mbyIsIm9wZW5FZGl0Rm9ybSIsInVzZXJOYW1lU2VsZWN0b3IiLCJ1c2VyRGVzY3JpcHRpb25TZWxlY3RvciIsInVzZXJBdmF0YXJFbGVtZW50IiwiX3VzZXJOYW1lRWxlbWVudCIsIl91c2VyRGVzY3JpcHRpb25FbGVtZW50IiwiX3VzZXJBdmF0YXJFbGVtZW50Il0sInNvdXJjZVJvb3QiOiIifQ==